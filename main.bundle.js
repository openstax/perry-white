!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=133)}([function(e,t,n){"use strict";e.exports=n(26)},function(e,t,n){"use strict";n.r(t),n.d(t,"AllSelection",(function(){return f})),n.d(t,"EditorState",(function(){return k})),n.d(t,"NodeSelection",(function(){return d})),n.d(t,"Plugin",(function(){return M})),n.d(t,"PluginKey",(function(){return O})),n.d(t,"Selection",(function(){return a})),n.d(t,"SelectionRange",(function(){return l})),n.d(t,"TextSelection",(function(){return c})),n.d(t,"Transaction",(function(){return y}));var r=n(2),o=n(4),i=Object.create(null),a=function(e,t,n){this.ranges=n||[new l(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},s={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};s.anchor.get=function(){return this.$anchor.pos},s.head.get=function(){return this.$head.pos},s.from.get=function(){return this.$from.pos},s.to.get=function(){return this.$to.pos},s.$from.get=function(){return this.ranges[0].$from},s.$to.get=function(){return this.ranges[0].$to},s.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(e,t){void 0===t&&(t=r.Slice.empty);for(var n=t.content.lastChild,o=null,i=0;i<t.openEnd;i++)o=n,n=n.lastChild;for(var a=e.steps.length,s=this.ranges,l=0;l<s.length;l++){var c=s[l],u=c.$from,d=c.$to,p=e.mapping.slice(a);e.replaceRange(p.map(u.pos),p.map(d.pos),l?r.Slice.empty:t),0==l&&g(e,a,(n?n.isInline:o&&o.isTextblock)?-1:1)}},a.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,l=e.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),g(e,n,t.isInline?-1:1))}},a.findFrom=function(e,t,n){var r=e.parent.inlineContent?new c(e):m(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?m(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):m(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}},a.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new f(e.node(0))},a.atStart=function(e){return m(e,e,0,0,1)||new f(e)},a.atEnd=function(e){return m(e,e,e.content.size,e.childCount,-1)||new f(e)},a.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=i[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},a.jsonID=function(e,t){if(e in i)throw new RangeError("Duplicate use of selection JSON ID "+e);return i[e]=t,t.prototype.jsonID=e,t},a.prototype.getBookmark=function(){return c.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,s),a.prototype.visible=!0;var l=function(e,t){this.$from=e,this.$to=t},c=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return e.near(o);var i=n.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=r.Slice.empty),e.prototype.replace.call(this,t,n),n==r.Slice.empty){var o=this.$from.marksAcross(this.$to);o&&t.ensureMarks(o)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new u(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=e.findFrom(r,o,!0)||e.findFrom(r,-o,!0);if(!a)return e.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i||(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new t(n,r)},Object.defineProperties(t.prototype,n),t}(a);a.jsonID("text",c);var u=function(e,t){this.anchor=e,this.head=t};u.prototype.map=function(e){return new u(e.map(this.anchor),e.map(this.head))},u.prototype.resolve=function(e){return c.between(e.resolve(this.anchor),e.resolve(this.head))};var d=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,s=n.resolve(a);return i?e.near(s):new t(s)},t.prototype.content=function(){return new r.Slice(r.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new p(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(a);d.prototype.visible=!1,a.jsonID("node",d);var p=function(e){this.anchor=e};p.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new u(r,r):new p(r)},p.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&d.isSelectable(n)?new d(t):a.near(t)};var f=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=r.Slice.empty),n==r.Slice.empty){t.delete(0,t.doc.content.size);var o=e.atStart(t.doc);o.eq(t.selection)||t.setSelection(o)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return h},t}(a);a.jsonID("all",f);var h={map:function(){return this},resolve:function(e){return new f(e)}};function m(e,t,n,r,o,i){if(t.inlineContent)return c.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var s=t.child(a);if(s.isAtom){if(!i&&d.isSelectable(s))return d.create(e,n-(o<0?s.nodeSize:0))}else{var l=m(e,s,n+o,o<0?s.childCount:0,o,i);if(l)return l}n+=s.nodeSize*o}}function g(e,t,n){var r=e.steps.length-1;if(!(r<t)){var i,s=e.steps[r];if(s instanceof o.c||s instanceof o.b)e.mapping.maps[r].forEach((function(e,t,n,r){null==i&&(i=r)})),e.setSelection(a.near(e.doc.resolve(i),n))}}var y=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return r.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.Mark.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(o.f);function v(e,t){return t&&e?e.bind(t):e}var b=function(e,t,n){this.name=e,this.init=v(t.init,n),this.apply=v(t.apply,n)},w=[new b("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new b("selection",{init:function(e,t){return e.selection||a.atStart(t.doc)},apply:function(e){return e.selection}}),new b("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new b("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],_=function(e,t){var n=this;this.schema=e,this.fields=w.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new b(e.key,e.spec.state,e))}))},k=function(e){this.config=e},x={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};x.schema.get=function(){return this.config.schema},x.plugins.get=function(){return this.config.plugins},k.prototype.apply=function(e){return this.applyTransaction(e).state},k.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},k.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=r?r[i].n:0,l=r?r[i].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}},k.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new k(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}for(var i=0;i<S.length;i++)S[i](this,e,t);return t},x.tr.get=function(){return new y(this)},k.create=function(e){for(var t=new _(e.schema||e.doc.type.schema,e.plugins),n=new k(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},k.prototype.reconfigure=function(e){for(var t=new _(e.schema||this.schema,e.plugins),n=t.fields,r=new k(t),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(e,r)}return r},k.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t},k.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new _(e.schema,e.plugins),i=new k(o);return o.fields.forEach((function(o){if("doc"==o.name)i.doc=r.Node.fromJSON(e.schema,t.doc);else if("selection"==o.name)i.selection=a.fromJSON(i.doc,t.selection);else if("storedMarks"==o.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var s in n){var l=n[s],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,s))return void(i[o.name]=c.fromJSON.call(l,e,t[s],i))}i[o.name]=o.init(e,i)}})),i},k.addApplyListener=function(e){S.push(e)},k.removeApplyListener=function(e){var t=S.indexOf(e);t>-1&&S.splice(t,1)},Object.defineProperties(k.prototype,x);var S=[];var M=function(e){this.props={},e.props&&function e(t,n,r){for(var o in t){var i=t[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=e(i,n,{})),r[o]=i}return r}(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:z("plugin")};M.prototype.getState=function(e){return e[this.key]};var C=Object.create(null);function z(e){return e in C?e+"$"+ ++C[e]:(C[e]=0,e+"$")}var O=function(e){void 0===e&&(e="key"),this.key=z(e)};O.prototype.get=function(e){return e.config.pluginsByKey[this.key]},O.prototype.getState=function(e){return e[this.key]}},function(e,t,n){"use strict";function r(e){this.content=e}n.r(t),n.d(t,"ContentMatch",(function(){return N})),n.d(t,"DOMParser",(function(){return ee})),n.d(t,"DOMSerializer",(function(){return pe})),n.d(t,"Fragment",(function(){return i})),n.d(t,"Mark",(function(){return u})),n.d(t,"MarkType",(function(){return Z})),n.d(t,"Node",(function(){return E})),n.d(t,"NodeRange",(function(){return C})),n.d(t,"NodeType",(function(){return W})),n.d(t,"ReplaceError",(function(){return d})),n.d(t,"ResolvedPos",(function(){return _})),n.d(t,"Schema",(function(){return Y})),n.d(t,"Slice",(function(){return p})),r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,i=o.find(e),a=o.content.slice();return-1==i?a.push(n||e,t):(a[i+1]=t,n&&(a[i]=n)),new r(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var o=this.remove(t),i=o.content.slice(),a=o.find(e);return i.splice(-1==a?i.length:a,0,t,n),new r(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};var o=r;var i=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},a={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};i.prototype.nodesBetween=function(e,t,n,r,o){void 0===r&&(r=0);for(var i=0,a=0;a<t;i++){var s=this.content[i],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,o,i)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,e-c),Math.min(s.content.size,t-c),n,r+c)}a=l}},i.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},i.prototype.textBetween=function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(a,s){a.isText?(o+=a.text.slice(Math.max(e,s)-s,t-s),i=!n):a.isLeaf&&r?(o+=r,i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o},i.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new i(r,this.size+e.size)},i.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var o=0,a=0;a<t;o++){var s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>t)&&(s=s.isText?s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),n.push(s),r+=s.nodeSize),a=l}return new i(n,r)},i.prototype.cutByIndex=function(e,t){return e==t?i.empty:0==e&&t==this.content.length?this:new i(this.content.slice(e,t))},i.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new i(r,o)},i.prototype.addToStart=function(e){return new i([e].concat(this.content),this.size+e.nodeSize)},i.prototype.addToEnd=function(e){return new i(this.content.concat(e),this.size+e.nodeSize)},i.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},a.firstChild.get=function(){return this.content.length?this.content[0]:null},a.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},a.childCount.get=function(){return this.content.length},i.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},i.prototype.maybeChild=function(e){return this.content[e]},i.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}},i.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),function e(t,n,r){for(var o=0;;o++){if(o==t.childCount||o==n.childCount)return t.childCount==n.childCount?null:r;var i=t.child(o),a=n.child(o);if(i!=a){if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(var s=0;i.text[s]==a.text[s];s++)r++;return r}if(i.content.size||a.content.size){var l=e(i.content,a.content,r+1);if(null!=l)return l}r+=i.nodeSize}else r+=i.nodeSize}}(this,e,t)},i.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),function e(t,n,r,o){for(var i=t.childCount,a=n.childCount;;){if(0==i||0==a)return i==a?null:{a:r,b:o};var s=t.child(--i),l=n.child(--a),c=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:r,b:o};if(s.isText&&s.text!=l.text){for(var u=0,d=Math.min(s.text.length,l.text.length);u<d&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,r--,o--;return{a:r,b:o}}if(s.content.size||l.content.size){var p=e(s.content,l.content,r-1,o-1);if(p)return p}r-=c,o-=c}else r-=c,o-=c}}(this,e,t,n)},i.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return l(0,e);if(e==this.size)return l(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?l(n+1,o):l(n,r);r=o}},i.prototype.toString=function(){return"<"+this.toStringInner()+">"},i.prototype.toStringInner=function(){return this.content.join(", ")},i.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},i.fromJSON=function(e,t){if(!t)return i.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(t.map(e.nodeFromJSON))},i.fromArray=function(e){if(!e.length)return i.empty;for(var t,n=0,r=0;r<e.length;r++){var o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new i(t||e,n)},i.from=function(e){if(!e)return i.empty;if(e instanceof i)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new i([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(i.prototype,a);var s={index:0,offset:0};function l(e,t){return s.index=e,s.offset=t,s}function c(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!c(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!c(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}i.empty=new i([],0);var u=function(e,t){this.type=e,this.attrs=t};function d(e){var t=Error.call(this,e);return t.__proto__=d.prototype,t}u.prototype.addToSet=function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t},u.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},u.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},u.prototype.eq=function(e){return this==e||this.type==e.type&&c(this.attrs,e.attrs)},u.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},u.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},u.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},u.setFrom=function(e){if(!e||0==e.length)return u.none;if(e instanceof u)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},u.none=[],d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="ReplaceError";var p=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},f={size:{configurable:!0}};function h(e,t,n){if(n.openStart>e.depth)throw new d("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new d("Inconsistent open depths");return function e(t,n,r,o){var a=t.index(o),s=t.node(o);if(a==n.index(o)&&o<t.depth-r.openStart){var l=e(t,n,r,o+1);return s.copy(s.content.replaceChild(a,l))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=o||n.depth!=o){var c=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),o=n-1;o>=0;o--)r=t.node(o).copy(i.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(r,t),u=c.start,d=c.end;return b(s,function e(t,n,r,o,a){var s=t.depth>a&&g(t,n,a+1),l=o.depth>a&&g(r,o,a+1),c=[];v(null,t,a,c),s&&l&&n.index(a)==r.index(a)?(m(s,l),y(b(s,e(t,n,r,o,a+1)),c)):(s&&y(b(s,w(t,n,a+1)),c),v(n,r,a,c),l&&y(b(l,w(r,o,a+1)),c));return v(o,null,a,c),new i(c)}(t,u,d,n,o))}var p=t.parent,f=p.content;return b(p,f.cut(0,t.parentOffset).append(r.content).append(f.cut(n.parentOffset)))}return b(s,w(t,n,o))}(e,t,n,0)}function m(e,t){if(!t.type.compatibleContent(e.type))throw new d("Cannot join "+t.type.name+" onto "+e.type.name)}function g(e,t,n){var r=e.node(n);return m(r,t.node(n)),r}function y(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function v(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(y(e.nodeAfter,r),i++));for(var s=i;s<a;s++)y(o.child(s),r);t&&t.depth==n&&t.textOffset&&y(t.nodeBefore,r)}function b(e,t){if(!e.type.validContent(t))throw new d("Invalid content for node "+e.type.name);return e.copy(t)}function w(e,t,n){var r=[];(v(null,e,n,r),e.depth>n)&&y(b(g(e,t,n+1),w(e,t,n+1)),r);return v(t,null,n,r),new i(r)}f.size.get=function(){return this.content.size-this.openStart-this.openEnd},p.prototype.insertAt=function(e,t){var n=function e(t,n,r,o){var i=t.findIndex(n),a=i.index,s=i.offset,l=t.maybeChild(a);if(s==n||l.isText)return o&&!o.canReplace(a,a,r)?null:t.cut(0,n).append(r).append(t.cut(n));var c=e(l.content,n-s-1,r);return c&&t.replaceChild(a,l.copy(c))}(this.content,e+this.openStart,t,null);return n&&new p(n,this.openStart,this.openEnd)},p.prototype.removeBetween=function(e,t){return new p(function e(t,n,r){var o=t.findIndex(n),i=o.index,a=o.offset,s=t.maybeChild(i),l=t.findIndex(r),c=l.index,u=l.offset;if(a==n||s.isText){if(u!=r&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(r))}if(i!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(e(s.content,n-a-1,r-a-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},p.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},p.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},p.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},p.fromJSON=function(e,t){if(!t)return p.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new p(i.fromJSON(e,t.content),n,r)},p.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new p(e,n,r)},Object.defineProperties(p.prototype,f),p.empty=new p(i.empty,0,0);var _=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},k={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};_.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},k.parent.get=function(){return this.node(this.depth)},k.doc.get=function(){return this.node(0)},_.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},_.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},_.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},_.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},_.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},_.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},_.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},k.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},k.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},k.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},_.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r},_.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return u.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},_.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},_.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},_.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new C(this,e,n)},_.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},_.prototype.max=function(e){return e.pos>this.pos?e:this},_.prototype.min=function(e){return e.pos<this.pos?e:this},_.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},_.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,o=t,i=e;;){var a=i.content.findIndex(o),s=a.index,l=a.offset,c=o-l;if(n.push(i,s,r+l),!c)break;if((i=i.child(s)).isText)break;o=c-1,r+=l+1}return new _(t,n,o)},_.resolveCached=function(e,t){for(var n=0;n<x.length;n++){var r=x[n];if(r.pos==t&&r.doc==e)return r}var o=x[S]=_.resolve(e,t);return S=(S+1)%M,o},Object.defineProperties(_.prototype,k);var x=[],S=0,M=12,C=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},z={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};z.start.get=function(){return this.$from.before(this.depth+1)},z.end.get=function(){return this.$to.after(this.depth+1)},z.parent.get=function(){return this.$from.node(this.depth)},z.startIndex.get=function(){return this.$from.index(this.depth)},z.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(C.prototype,z);var O=Object.create(null),E=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||i.empty,this.marks=r||u.none},L={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};L.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},L.childCount.get=function(){return this.content.childCount},E.prototype.child=function(e){return this.content.child(e)},E.prototype.maybeChild=function(e){return this.content.maybeChild(e)},E.prototype.forEach=function(e){this.content.forEach(e)},E.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this)},E.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},L.textContent.get=function(){return this.textBetween(0,this.content.size,"")},E.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},L.firstChild.get=function(){return this.content.firstChild},L.lastChild.get=function(){return this.content.lastChild},E.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},E.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},E.prototype.hasMarkup=function(e,t,n){return this.type==e&&c(this.attrs,t||e.defaultAttrs||O)&&u.sameSet(this.marks,n||u.none)},E.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},E.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},E.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},E.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return p.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),s=r.node(i).content.cut(r.pos-a,o.pos-a);return new p(s,r.depth-i,o.depth-i)},E.prototype.replace=function(e,t,n){return h(this.resolve(e),this.resolve(t),n)},E.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(!(t=t.maybeChild(r)))return null;if(o==e||t.isText)return t;e-=o+1}},E.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},E.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},E.prototype.resolve=function(e){return _.resolveCached(this,e)},E.prototype.resolveNoCache=function(e){return _.resolve(this,e)},E.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},L.isBlock.get=function(){return this.type.isBlock},L.isTextblock.get=function(){return this.type.isTextblock},L.inlineContent.get=function(){return this.type.inlineContent},L.isInline.get=function(){return this.type.isInline},L.isText.get=function(){return this.type.isText},L.isLeaf.get=function(){return this.type.isLeaf},L.isAtom.get=function(){return this.type.isAtom},E.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),T(this.marks,e)},E.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},E.prototype.canReplace=function(e,t,n,r,o){void 0===n&&(n=i.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var a=this.contentMatchAt(e).matchFragment(n,r,o),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var l=r;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0},E.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd},E.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},E.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(e){return e.check()}))},E.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},E.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=i.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(E.prototype,L);var A=function(e){function t(t,n,r,o){if(e.call(this,t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):T(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(E);function T(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var N=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},D={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};N.parse=function(e,t){var n=new P(e,t);if(null==n.next)return N.empty;var r=R(n);n.next&&n.err("Unexpected trailing text");var o=function(e){var t=Object.create(null);return function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var i=o.indexOf(n),a=i>-1&&o[i+1];K(e,r).forEach((function(e){a||o.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var i=t[r.join(",")]=new N(r.indexOf(e.length-1)>-1),a=0;a<o.length;a+=2){var s=o[a+1].sort(B);i.next.push(o[a],t[s.join(",")]||n(s))}return i}(K(e,0))}(function(e){var t=[[]];return o(function e(t,i){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(e(n,i))}),[]);if("seq"==t.type)for(var a=0;;a++){var s=e(t.exprs[a],i);if(a==t.exprs.length-1)return s;o(s,i=n())}else{if("star"==t.type){var l=n();return r(i,l),o(e(t.expr,l),l),[r(l)]}if("plus"==t.type){var c=n();return o(e(t.expr,i),c),o(e(t.expr,c),c),[r(c)]}if("opt"==t.type)return[r(i)].concat(e(t.expr,i));if("range"==t.type){for(var u=i,d=0;d<t.min;d++){var p=n();o(e(t.expr,u),p),u=p}if(-1==t.max)o(e(t.expr,u),u);else for(var f=t.min;f<t.max;f++){var h=n();r(u,h),o(e(t.expr,u),h),u=h}return[r(u)]}if("name"==t.type)return[r(i,null,t.value)]}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}}(r));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],s=0;s<o.next.length;s+=2){var l=o.next[s],c=o.next[s+1];a.push(l.name),!i||l.isText||l.hasRequiredAttrs()||(i=!1),-1==r.indexOf(c)&&r.push(c)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},N.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},N.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r},D.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},D.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},N.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},N.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=[this];return function o(a,s){var l=a.matchFragment(e,n);if(l&&(!t||l.validEnd))return i.from(s.map((function(e){return e.createAndFill()})));for(var c=0;c<a.next.length;c+=2){var u=a.next[c],d=a.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(d)){r.push(d);var p=o(d,s.concat(u));if(p)return p}}}(this,[])},N.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},N.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var s=0;s<o.next.length;s+=2){var l=o.next[s];l.isLeaf||l.hasRequiredAttrs()||l.name in t||r.type&&!o.next[s+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),t[l.name]=!0)}}},D.edgeCount.get=function(){return this.next.length>>1},N.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},N.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)-1==e.indexOf(n.next[r])&&t(n.next[r])}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r})).join("\n")},Object.defineProperties(N.prototype,D),N.empty=new N(!0);var P=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},$={next:{configurable:!0}};function R(e){var t=[];do{t.push(I(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function I(e){var t=[];do{t.push(F(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function F(e){for(var t=function(e){if(e.eat("(")){var t=R(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&o.push(a)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=j(e,t)}return t}function q(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function j(e,t){var n=q(e),r=n;return e.eat(",")&&(r="}"!=e.next?q(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function B(e,t){return t-e}function K(e,t){var n=[];return function t(r){var o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],s=a.term,l=a.to;s||-1!=n.indexOf(l)||t(l)}}(t),n.sort(B)}function V(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function U(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function H(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new G(e[n]);return t}$.next.get=function(){return this.tokens[this.pos]},P.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},P.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(P.prototype,$);var W=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=H(n.attrs),this.defaultAttrs=V(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},X={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};X.isInline.get=function(){return!this.isBlock},X.isTextblock.get=function(){return this.isBlock&&this.inlineContent},X.isLeaf.get=function(){return this.contentMatch==N.empty},X.isAtom.get=function(){return this.isLeaf||this.spec.atom},W.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},W.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},W.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:U(this.attrs,e)},W.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new E(this,this.computeAttrs(e),i.from(t),u.setFrom(n))},W.prototype.createChecked=function(e,t,n){if(t=i.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new E(this,this.computeAttrs(e),t,u.setFrom(n))},W.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=i.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(i.empty,!0);return o?new E(this,e,t.append(o),u.setFrom(n)):null},W.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},W.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},W.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},W.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:u.empty:e},W.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new W(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(W.prototype,X);var G=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},J={isRequired:{configurable:!0}};J.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(G.prototype,J);var Z=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=H(r.attrs),this.rank=t,this.excluded=null;var o=V(this.attrs);this.instance=o&&new u(this,o)};Z.prototype.create=function(e){return!e&&this.instance?this.instance:new u(this,U(this.attrs,e))},Z.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,o){return n[e]=new Z(e,r++,t,o)})),n},Z.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e},Z.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},Z.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var Y=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=o.from(e.nodes),this.spec.marks=o.from(e.marks),this.nodes=W.compile(this.spec.nodes,this),this.marks=Z.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],a=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[a]||(n[a]=N.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==s?null:s?Q(this,s.split(" ")):""!=s&&i.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:Q(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Q(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var s in e.marks){var l=e.marks[s];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}Y.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof W))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},Y.prototype.text=function(e,t){var n=this.nodes.text;return new A(n,n.defaultAttrs,e,u.setFrom(t))},Y.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},Y.prototype.nodeFromJSON=function(e){return E.fromJSON(this,e)},Y.prototype.markFromJSON=function(e){return u.fromJSON(this,e)},Y.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var ee=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};ee.prototype.parse=function(e,t){void 0===t&&(t={});var n=new ae(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},ee.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new ae(this,t,!0);return n.addAll(e,null,t.from,t.to),p.maxOpen(n.finish())},ee.prototype.matchTag=function(e,t){for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(le(e,r.tag)&&(void 0===r.namespace||e.namespaceURI==r.namespace)&&(!r.context||t.matchesContext(r.context))){if(r.getAttrs){var o=r.getAttrs(e);if(!1===o)continue;r.attrs=o}return r}}},ee.prototype.matchStyle=function(e,t,n){for(var r=0;r<this.styles.length;r++){var o=this.styles[r];if(!(0!=o.style.indexOf(e)||o.context&&!n.matchesContext(o.context)||o.style.length>e.length&&(61!=o.style.charCodeAt(e.length)||o.style.slice(e.length+1)!=t))){if(o.getAttrs){var i=o.getAttrs(t);if(!1===i)continue;o.attrs=i}return o}}},ee.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r];if((null==o.priority?50:o.priority)<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=ce(e)),e.mark=t}))};for(var o in e.marks)r(o);var i;for(var a in e.nodes)i=void 0,(i=e.nodes[a].spec.parseDOM)&&i.forEach((function(e){n(e=ce(e)),e.node=a}));return t},ee.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new ee(e,ee.schemaRules(e)))};var te={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ne={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},re={ol:!0,ul:!0};function oe(e){return(e?1:0)|("full"===e?2:0)}var ie=function(e,t,n,r,o,i,a){this.type=e,this.attrs=t,this.solid=o,this.match=i||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=u.none,this.pendingMarks=r,this.stashMarks=[]};ie.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(i.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},ie.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var r=i.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(i.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},ie.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(this.stashMarks[t].type==e)return this.stashMarks.splice(t,1)[0]},ie.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];if((this.type?this.type.allowsMarkType(r.type):ue(r.type,e))&&!r.isInSet(this.activeMarks)){var o=de(r,this.activeMarks);o&&this.stashMarks.push(o),this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks)}}};var ae=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,o=t.topNode,i=oe(t.preserveWhitespace)|(n?4:0);r=o?new ie(o.type,o.attrs,u.none,u.none,!0,t.topMatch||o.type.contentMatch,i):new ie(n?null:e.schema.topNodeType,null,u.none,u.none,!0,null,i),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},se={top:{configurable:!0},currentPos:{configurable:!0}};function le(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function ce(e){var t={};for(var n in e)t[n]=e[n];return t}function ue(e,t){var n=t.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(e)){var i=[],a=function(e){i.push(e);for(var n=0;n<e.edgeCount;n++){var r=e.edge(n),o=r.type,s=r.next;if(o==t)return!0;if(i.indexOf(s)<0&&a(s))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}function de(e,t){for(var n=0;n<t.length;n++)if(e.type==t[n].type)return t[n]}se.top.get=function(){return this.nodes[this.open]},ae.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},ae.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)2&n.options||(t=t.replace(/\r?\n|\r/g," "));else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},ae.prototype.addElement=function(e){var t=e.nodeName.toLowerCase();re.hasOwnProperty(t)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&re.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var n=this.options.ruleFromNode&&this.options.ruleFromNode(e)||this.parser.matchTag(e,this);if(n?n.ignore:ne.hasOwnProperty(t))this.findInside(e);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(e=n.skip);var r,o=this.top,i=this.needsBlock;if(te.hasOwnProperty(t))r=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),r&&this.sync(o),this.needsBlock=i}else this.addElementByRule(e,n)},ae.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},ae.prototype.readStyles=function(e){for(var t=u.none,n=0;n<e.length;n+=2){var r=this.parser.matchStyle(e[n],e[n+1],this);if(r){if(r.ignore)return null;t=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(t)}}return t},ae.prototype.addElementByRule=function(e,t){var n,r,o,i=this;t.node?(r=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(r.create(t.attrs))||this.leafFallback(e):n=this.enter(r,t.attrs,t.preserveWhitespace):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));var a=this.top;if(r&&r.isLeaf)this.findInside(e);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return i.insertNode(e)}));else{var s=t.contentElement;"string"==typeof s?s=e.querySelector(s):"function"==typeof s&&(s=s(e)),s||(s=e),this.findAround(e,s,!0),this.addAll(s,n)}n&&(this.sync(a),this.open--),o&&this.removePendingMark(o,a)},ae.prototype.addAll=function(e,t,n,r){for(var o=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i),t&&te.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},ae.prototype.findPlace=function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},ae.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1},ae.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},ae.prototype.enterInner=function(e,t,n,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var i=null==r?-5&o.options:oe(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new ie(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},ae.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},ae.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},ae.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},se.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e},ae.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},ae.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},ae.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},ae.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},ae.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=function(e,s){for(;e>=0;e--){var l=n[e];if(""==l){if(e==n.length-1||0==e)continue;for(;s>=i;s--)if(a(e-1,s))return!0;return!1}var c=s>0||0==s&&o?t.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0};return a(n.length-1,this.open)},ae.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},ae.prototype.addPendingMark=function(e){var t=de(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},ae.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var o=r.popFromStashMark(e.type);o&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==t)break}},Object.defineProperties(ae.prototype,se);var pe=function(e,t){this.nodes=e||{},this.marks=t||{}};function fe(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function he(e){return e.document||window.document}pe.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=he(t).createDocumentFragment());var o=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<e.marks.length;){var s=e.marks[a];if(r.marks[s.type.name]){if(!s.eq(i[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)o=i.pop(),i.pop();for(;a<e.marks.length;){var l=e.marks[a++],c=r.serializeMark(l,e.isInline,t);c&&(i.push(l,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(r.serializeNode(e,t))})),n},pe.prototype.serializeNode=function(e,t){void 0===t&&(t={});var n=pe.renderSpec(he(t),this.nodes[e.type.name](e)),r=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return r},pe.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n=this.serializeNode(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},pe.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&pe.renderSpec(he(n),r(e,t))},pe.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var r=t[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,a=n?e.createElementNS(n,r):e.createElement(r),s=t[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var c in l=2,s)if(null!=s[c]){var u=c.indexOf(" ");u>0?a.setAttributeNS(c.slice(0,u),c.slice(u+1),s[c]):a.setAttribute(c,s[c])}for(var d=l;d<t.length;d++){var p=t[d];if(0===p){if(d<t.length-1||d>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var f=pe.renderSpec(e,p,n),h=f.dom,m=f.contentDOM;if(a.appendChild(h),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:a,contentDOM:i}},pe.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new pe(this.nodesFromSchema(e),this.marksFromSchema(e)))},pe.nodesFromSchema=function(e){var t=fe(e.nodes);return t.text||(t.text=function(e){return e.text}),t},pe.marksFromSchema=function(e){return fe(e.marks)}},function(e,t,n){"use strict";n.r(t),n.d(t,"CellSelection",(function(){return D})),n.d(t,"TableMap",(function(){return h})),n.d(t,"TableView",(function(){return Ce})),n.d(t,"__clipCells",(function(){return F})),n.d(t,"__insertCells",(function(){return B})),n.d(t,"__pastedCells",(function(){return R})),n.d(t,"addColSpan",(function(){return T})),n.d(t,"addColumn",(function(){return re})),n.d(t,"addColumnAfter",(function(){return ie})),n.d(t,"addColumnBefore",(function(){return oe})),n.d(t,"addRow",(function(){return ce})),n.d(t,"addRowAfter",(function(){return de})),n.d(t,"addRowBefore",(function(){return ue})),n.d(t,"cellAround",(function(){return _})),n.d(t,"colCount",(function(){return O})),n.d(t,"columnIsHeader",(function(){return N})),n.d(t,"columnResizing",(function(){return Ee})),n.d(t,"columnResizingPluginKey",(function(){return Oe})),n.d(t,"deleteColumn",(function(){return se})),n.d(t,"deleteRow",(function(){return fe})),n.d(t,"deleteTable",(function(){return Me})),n.d(t,"findCell",(function(){return z})),n.d(t,"fixTables",(function(){return te})),n.d(t,"fixTablesKey",(function(){return ee})),n.d(t,"goToNextCell",(function(){return Se})),n.d(t,"handlePaste",(function(){return G})),n.d(t,"inSameTable",(function(){return C})),n.d(t,"isInTable",(function(){return k})),n.d(t,"mergeCells",(function(){return me})),n.d(t,"moveCellForward",(function(){return M})),n.d(t,"nextCell",(function(){return E})),n.d(t,"pointsAtCell",(function(){return S})),n.d(t,"removeColSpan",(function(){return A})),n.d(t,"removeColumn",(function(){return ae})),n.d(t,"removeRow",(function(){return pe})),n.d(t,"rowIsHeader",(function(){return le})),n.d(t,"selectedRect",(function(){return ne})),n.d(t,"selectionCell",(function(){return x})),n.d(t,"setAttr",(function(){return L})),n.d(t,"setCellAttr",(function(){return ve})),n.d(t,"splitCell",(function(){return ge})),n.d(t,"splitCellWithType",(function(){return ye})),n.d(t,"tableEditing",(function(){return Pe})),n.d(t,"tableEditingKey",(function(){return w})),n.d(t,"tableNodeTypes",(function(){return b})),n.d(t,"tableNodes",(function(){return v})),n.d(t,"toggleHeader",(function(){return we})),n.d(t,"toggleHeaderCell",(function(){return xe})),n.d(t,"toggleHeaderColumn",(function(){return ke})),n.d(t,"toggleHeaderRow",(function(){return _e})),n.d(t,"updateColumnsOnResize",(function(){return ze}));var r,o,i=n(1),a=n(2),s=n(11),l=n(8),c=n(4);if("undefined"!=typeof WeakMap){var u=new WeakMap;r=function(e){return u.get(e)},o=function(e,t){return u.set(e,t),t}}else{var d=[],p=0;r=function(e){for(var t=0;t<d.length;t+=2)if(d[t]==e)return d[t+1]},o=function(e,t){return 10==p&&(p=0),d[p++]=e,d[p++]=t}}var f=function(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r},h=function(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r};function m(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function g(e,t){var n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var a in t){var s=t[a].getFromDOM,l=s&&s(e);null!=l&&(i[a]=l)}return i}function y(e,t){var n={};for(var r in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function v(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return g(e,t)}}],toDOM:function(e){return["td",y(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return g(e,t)}}],toDOM:function(e){return["th",y(e,t),0]}}}}function b(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}h.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var r=t%this.width,o=t/this.width|0,i=r+1,a=o+1,s=1;i<this.width&&this.map[t+s]==n;s++)i++;for(var l=1;a<this.height&&this.map[t+this.width*l]==n;l++)a++;return new f(r,o,i,a)}}throw new RangeError("No cell with offset "+e+" found")},h.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},h.prototype.nextCell=function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,a=r.top,s=r.bottom;return"horiz"==t?(n<0?0==o:i==this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0==a:s==this.height)?null:this.map[o+this.width*(n<0?a-1:s)]},h.prototype.rectBetween=function(e,t){var n=this.findCell(e),r=n.left,o=n.right,i=n.top,a=n.bottom,s=this.findCell(t),l=s.left,c=s.right,u=s.top,d=s.bottom;return new f(Math.min(r,l),Math.min(i,u),Math.max(o,c),Math.max(a,d))},h.prototype.cellsInRect=function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var o=e.left;o<e.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t},h.prototype.positionAt=function(e,t,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==e){for(var a=t+e*this.width,s=(e+1)*this.width;a<s&&this.map[a]<o;)a++;return a==s?i-1:this.map[a]}o=i}},h.get=function(e){return r(e)||o(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var s=e.child(a),l=0;l<s.childCount;l++){var c=s.child(l);a+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}for(var u=0;u<o.childCount;u++){var d=o.child(u);i+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[],o=0,i=null,a=[],s=0,l=t*n;s<l;s++)r[s]=0;for(var c=0,u=0;c<n;c++){var d=e.child(c);u++;for(var p=0;;p++){for(;o<r.length&&0!=r[o];)o++;if(p==d.childCount)break;for(var f=d.child(p),g=f.attrs,y=g.colspan,v=g.rowspan,b=g.colwidth,w=0;w<v;w++){if(w+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:v-w});break}for(var _=o+w*t,k=0;k<y;k++){0==r[_+k]?r[_+k]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:y-k});var x=b&&b[k];if(x){var S=(_+k)%t*2,M=a[S];null==M||M!=x&&1==a[S+1]?(a[S]=x,a[S+1]=1):M==x&&a[S+1]++}}}o+=y,u+=f.nodeSize}for(var C=(c+1)*t,z=0;o<C;)0==r[o++]&&z++;z&&(i||(i=[])).push({type:"missing",row:c,n:z}),u++}for(var O=new h(t,n,r,i),E=!1,L=0;!E&&L<a.length;L+=2)null!=a[L]&&a[L+1]<n&&(E=!0);E&&function(e,t,n){e.problems||(e.problems=[]);for(var r=0,o={};r<e.map.length;r++){var i=e.map[r];if(!o[i]){o[i]=!0;for(var a=n.nodeAt(i),s=null,l=0;l<a.attrs.colspan;l++){var c=(r+l)%e.width,u=t[2*c];null==u||a.attrs.colwidth&&a.attrs.colwidth[l]==u||((s||(s=m(a.attrs)))[l]=u)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}}(O,a,e);return O}(e))};var w=new i.PluginKey("selectingCells");function _(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function k(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function x(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:_(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(var o=e.nodeBefore,i=e.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(i-o.nodeSize)}}(t.$head)}function S(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function M(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function C(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function z(e){return h.get(e.node(-1)).findCell(e.pos-e.start(-1))}function O(e){return h.get(e.node(-1)).colCount(e.pos-e.start(-1))}function E(e,t,n){var r=e.start(-1),o=h.get(e.node(-1)).nextCell(e.pos-r,t,n);return null==o?null:e.node(0).resolve(r+o)}function L(e,t,n){var r={};for(var o in e)r[o]=e[o];return r[t]=n,r}function A(e,t,n){void 0===n&&(n=1);var r=L(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((function(e){return e>0}))||(r.colwidth=null)),r}function T(e,t,n){void 0===n&&(n=1);var r=L(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}function N(e,t,n){for(var r=b(t.type.schema).header_cell,o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0}var D=function(e){function t(t,n){void 0===n&&(n=t);var r=t.node(-1),o=h.get(r),a=t.start(-1),s=o.rectBetween(t.pos-a,n.pos-a),l=t.node(0),c=o.cellsInRect(s).filter((function(e){return e!=n.pos-a}));c.unshift(n.pos-a);var u=c.map((function(e){var t=r.nodeAt(e),n=e+a+1;return new i.SelectionRange(l.resolve(n),l.resolve(n+t.content.size))}));e.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(S(r)&&S(o)&&C(r,o)){var a=this.$anchorCell.node(-1)!=r.node(-1);return a&&this.isRowSelection()?t.rowSelection(r,o):a&&this.isColSelection()?t.colSelection(r,o):new t(r,o)}return i.TextSelection.between(r,o)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=h.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],s=r.top;s<r.bottom;s++){for(var l=[],c=s*t.width+r.left,u=r.left;u<r.right;u++,c++){var d=t.map[c];if(!o[d]){o[d]=!0;var p=t.findCell(d),f=e.nodeAt(d),m=r.left-p.left,g=p.right-r.right;if(m>0||g>0){var y=f.attrs;m>0&&(y=A(y,0,m)),g>0&&(y=A(y,y.colspan-g,g)),f=p.left<r.left?f.type.createAndFill(y):f.type.create(y,f.content)}if(p.top<r.top||p.bottom>r.bottom){var v=L(f.attrs,"rowspan",Math.min(p.bottom,r.bottom)-Math.max(p.top,r.top));f=p.top<r.top?f.type.createAndFill(v):f.type.create(v,f.content)}l.push(f)}}i.push(e.child(s).copy(a.Fragment.from(l)))}var b=this.isColSelection()&&this.isRowSelection()?e:i;return new a.Slice(a.Fragment.from(b),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=a.Slice.empty);for(var r=t.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],l=s.$from,c=s.$to,u=t.mapping.slice(r);t.replace(u.map(l.pos),u.map(c.pos),i?a.Slice.empty:n)}var d=e.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);d&&t.setSelection(d)},t.prototype.replaceWith=function(e,t){this.replace(e,new a.Slice(a.Fragment.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=h.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var r=h.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.top<=a.top?(i.top>0&&(e=s.resolve(o+r.map[i.left])),a.bottom<r.height&&(n=s.resolve(o+r.map[r.width*(r.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(o+r.map[a.left])),i.bottom<r.height&&(e=s.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=h.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var r=h.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.left<=a.left?(i.left>0&&(e=s.resolve(o+r.map[i.top*r.width])),a.right<r.width&&(n=s.resolve(o+r.map[r.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(o+r.map[a.top*r.width])),i.right<r.width&&(e=s.resolve(o+r.map[r.width*(i.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,r){return void 0===r&&(r=n),new t(e.resolve(n),e.resolve(r))},t.prototype.getBookmark=function(){return new P(this.$anchorCell.pos,this.$headCell.pos)},t}(i.Selection);D.prototype.visible=!1,i.Selection.jsonID("cell",D);var P=function(e,t){this.anchor=e,this.head=t};function $(e){if(!(e.selection instanceof D))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(l.a.node(n,n+e.nodeSize,{class:"selectedCell"}))})),l.b.create(e.doc,t)}function R(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,r=e.openEnd;1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole);)n--,r--,t=t.firstChild.content;var o=t.firstChild,i=o.type.spec.tableRole,s=o.type.schema,l=[];if("row"==i)for(var c=0;c<t.childCount;c++){var u=t.child(c).content,d=c?0:Math.max(0,n-1),p=c<t.childCount-1?0:Math.max(0,r-1);(d||p)&&(u=I(b(s).row,new a.Slice(u,d,p)).content),l.push(u)}else{if("cell"!=i&&"header_cell"!=i)return null;l.push(n||r?I(b(s).row,new a.Slice(t,n,r)).content:t)}return function(e,t){for(var n=[],r=0;r<t.length;r++)for(var o=t[r],i=o.childCount-1;i>=0;i--)for(var s=o.child(i).attrs,l=s.rowspan,c=s.colspan,u=r;u<r+l;u++)n[u]=(n[u]||0)+c;for(var d=0,p=0;p<n.length;p++)d=Math.max(d,n[p]);for(var f=0;f<n.length;f++)if(f>=t.length&&t.push(a.Fragment.empty),n[f]<d){for(var h=b(e).cell.createAndFill(),m=[],g=n[f];g<d;g++)m.push(h);t[f]=t[f].append(a.Fragment.from(m))}return{height:t.length,width:d,rows:t}}(s,l)}function I(e,t){var n=e.createAndFill();return new c.f(n).replace(0,n.content.size,t).doc}function F(e,t,n){var r=e.width,o=e.height,i=e.rows;if(r!=t){for(var s=[],l=[],c=0;c<i.length;c++){for(var u=i[c],d=[],p=s[c]||0,f=0;p<t;f++){var h=u.child(f%u.childCount);p+h.attrs.colspan>t&&(h=h.type.create(A(h.attrs,h.attrs.colspan,p+h.attrs.colspan-t),h.content)),d.push(h),p+=h.attrs.colspan;for(var m=1;m<h.attrs.rowspan;m++)s[c+m]=(s[c+m]||0)+h.attrs.colspan}l.push(a.Fragment.from(d))}i=l,r=t}if(o!=n){for(var g=[],y=0,v=0;y<n;y++,v++){for(var b=[],w=i[v%o],_=0;_<w.childCount;_++){var k=w.child(_);y+k.attrs.rowspan>n&&(k=k.type.create(L(k.attrs,"rowspan",Math.max(1,n-k.attrs.rowspan)),k.content)),b.push(k)}g.push(a.Fragment.from(b))}i=g,o=n}return{width:r,height:o,rows:i}}function q(e,t,n,r,o,i,a,s){if(0==a||a==t.height)return!1;for(var l=!1,c=o;c<i;c++){var u=a*t.width+c,d=t.map[u];if(t.map[u-t.width]==d){l=!0;var p=n.nodeAt(d),f=t.findCell(d),h=f.top,m=f.left;e.setNodeMarkup(e.mapping.slice(s).map(d+r),null,L(p.attrs,"rowspan",a-h)),e.insert(e.mapping.slice(s).map(t.positionAt(a,m,n)),p.type.createAndFill(L(p.attrs,"rowspan",h+p.attrs.rowspan-a))),c+=p.attrs.colspan-1}}return l}function j(e,t,n,r,o,i,a,s){if(0==a||a==t.width)return!1;for(var l=!1,c=o;c<i;c++){var u=c*t.width+a,d=t.map[u];if(t.map[u-1]==d){l=!0;var p=n.nodeAt(d),f=t.colCount(d),h=e.mapping.slice(s).map(d+r);e.setNodeMarkup(h,null,A(p.attrs,a-f,p.attrs.colspan-(a-f))),e.insert(h+p.nodeSize,p.type.createAndFill(A(p.attrs,0,a-f))),c+=p.attrs.rowspan-1}}return l}function B(e,t,n,r,o){var i=n?e.doc.nodeAt(n-1):e.doc,s=h.get(i),l=r.top,c=r.left,u=c+o.width,d=l+o.height,p=e.tr,f=0;function m(){i=n?p.doc.nodeAt(n-1):p.doc,s=h.get(i),f=p.mapping.maps.length}(function(e,t,n,r,o,i,s){var l,c,u=b(e.doc.type.schema);if(o>t.width)for(var d=0,p=0;d<t.height;d++){var f=n.child(d);p+=f.nodeSize;var h=[],m=void 0;m=null==f.lastChild||f.lastChild.type==u.cell?l||(l=u.cell.createAndFill()):c||(c=u.header_cell.createAndFill());for(var g=t.width;g<o;g++)h.push(m);e.insert(e.mapping.slice(s).map(p-1+r),h)}if(i>t.height){for(var y=[],v=0,w=(t.height-1)*t.width;v<Math.max(t.width,o);v++){var _=!(v>=t.width)&&n.nodeAt(t.map[w+v]).type==u.header_cell;y.push(_?c||(c=u.header_cell.createAndFill()):l||(l=u.cell.createAndFill()))}for(var k=u.row.create(null,a.Fragment.from(y)),x=[],S=t.height;S<i;S++)x.push(k);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),x)}return!(!l&&!c)})(p,s,i,n,u,d,f)&&m(),q(p,s,i,n,c,u,l,f)&&m(),q(p,s,i,n,c,u,d,f)&&m(),j(p,s,i,n,l,d,c,f)&&m(),j(p,s,i,n,l,d,u,f)&&m();for(var g=l;g<d;g++){var y=s.positionAt(g,c,i),v=s.positionAt(g,u,i);p.replace(p.mapping.slice(f).map(y+n),p.mapping.slice(f).map(v+n),new a.Slice(o.rows[g-l],0,0))}m(),p.setSelection(new D(p.doc.resolve(n+s.positionAt(l,c,i)),p.doc.resolve(n+s.positionAt(d-1,u-1,i)))),t(p)}P.prototype.map=function(e){return new P(e.map(this.anchor),e.map(this.head))},P.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&C(t,n)?new D(t,n):i.Selection.near(n,1)};var K=Object(s.a)({ArrowLeft:U("horiz",-1),ArrowRight:U("horiz",1),ArrowUp:U("vert",-1),ArrowDown:U("vert",1),"Shift-ArrowLeft":H("horiz",-1),"Shift-ArrowRight":H("horiz",1),"Shift-ArrowUp":H("vert",-1),"Shift-ArrowDown":H("vert",1),Backspace:W,"Mod-Backspace":W,Delete:W,"Mod-Delete":W});function V(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function U(e,t){return function(n,r,o){var a=n.selection;if(a instanceof D)return V(n,r,i.Selection.near(a.$headCell,t));if("horiz"!=e&&!a.empty)return!1;var s=Z(o,e,t);if(null==s)return!1;if("horiz"==e)return V(n,r,i.Selection.near(n.doc.resolve(a.head+t),t));var l,c=n.doc.resolve(s),u=E(c,e,t);return l=u?i.Selection.near(u,1):t<0?i.Selection.near(n.doc.resolve(c.before(-1)),-1):i.Selection.near(n.doc.resolve(c.after(-1)),1),V(n,r,l)}}function H(e,t){return function(n,r,o){var i=n.selection;if(!(i instanceof D)){var a=Z(o,e,t);if(null==a)return!1;i=new D(n.doc.resolve(a))}var s=E(i.$headCell,e,t);return!!s&&V(n,r,new D(i.$anchorCell,s))}}function W(e,t){var n=e.selection;if(!(n instanceof D))return!1;if(t){var r=e.tr,o=b(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new a.Slice(o,0,0))})),r.docChanged&&t(r)}return!0}function X(e,t){var n=_(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new D(n))),!0)}function G(e,t,n){if(!k(e.state))return!1;var r=R(n),o=e.state.selection;if(o instanceof D){r||(r={width:1,height:1,rows:[a.Fragment.from(I(b(e.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),l=h.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=F(r,l.right-l.left,l.bottom-l.top),B(e.state,e.dispatch,s,l,r),!0}if(r){var c=x(e.state),u=c.start(-1);return B(e.state,e.dispatch,u,h.get(c.node(-1)).findCell(c.pos-u),r),!0}return!1}function J(e,t){if(!t.ctrlKey&&!t.metaKey){var n,r=Y(e,t.target);if(t.shiftKey&&e.state.selection instanceof D)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(n=_(e.state.selection.$anchor))&&Q(e,t).pos!=n.pos)o(n,t),t.preventDefault();else if(!r)return;e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",a)}function o(t,n){var r=Q(e,n),o=null==w.getState(e.state);if(!r||!C(t,r)){if(!o)return;r=t}var i=new D(t,r);if(o||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);o&&a.setMeta(w,t.pos),e.dispatch(a)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",a),null!=w.getState(e.state)&&e.dispatch(e.state.tr.setMeta(w,-1))}function a(n){var a,s=w.getState(e.state);if(null!=s)a=e.state.doc.resolve(s);else if(Y(e,n.target)!=r&&!(a=Q(e,t)))return i();a&&o(a,n)}}function Z(e,t,n){if(!(e.state.selection instanceof i.TextSelection))return null;for(var r=e.state.selection.$head,o=r.depth-1;o>=0;o--){var a=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var s=r.before(o),l="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?s:null}}return null}function Y(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function Q(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?_(e.state.doc.resolve(n.pos)):null}var ee=new i.PluginKey("fix-tables");function te(e,t){var n,r=function(t,r){"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){var o=h.get(t);if(!o.problems)return r;r||(r=e.tr);for(var i,a,s=[],l=0;l<o.height;l++)s.push(0);for(var c=0;c<o.problems.length;c++){var u=o.problems[c];if("collision"==u.type){for(var d=t.nodeAt(u.pos),p=0;p<d.attrs.rowspan;p++)s[u.row+p]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,A(d.attrs,d.attrs.colspan-u.n,u.n))}else if("missing"==u.type)s[u.row]+=u.n;else if("overlong_rowspan"==u.type){var f=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,L(f.attrs,"rowspan",f.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var m=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,L(m.attrs,"colwidth",u.colwidth))}}for(var g=0;g<s.length;g++)s[g]&&(null==i&&(i=g),a=g);for(var y=0,v=n+1;y<o.height;y++){var w=t.child(y),_=v+w.nodeSize,k=s[y];if(k>0){var x="cell";w.firstChild&&(x=w.firstChild.type.spec.tableRole);for(var S=[],M=0;M<k;M++)S.push(b(e.schema)[x].createAndFill());var C=0!=y&&i!=y-1||a!=y?_-1:v+1;r.insert(r.mapping.map(C),S)}v=_}return r.setMeta(ee,{fixTables:!0})}(e,t,r,n))};return t?t.doc!=e.doc&&function e(t,n,r,o){var i=t.childCount,a=n.childCount;e:for(var s=0,l=0;s<a;s++){for(var c=n.child(s),u=l,d=Math.min(i,s+3);u<d;u++)if(t.child(u)==c){l=u+1,r+=c.nodeSize;continue e}o(c,r),l<i&&t.child(l).sameMarkup(c)?e(t.child(l),c,r+1,o):c.nodesBetween(0,c.content.size,o,r+1),r+=c.nodeSize}}(t.doc,e.doc,0,r):e.doc.descendants(r),n}function ne(e){var t,n=e.selection,r=x(e),o=r.node(-1),i=r.start(-1),a=h.get(o);return(t=n instanceof D?a.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):a.findCell(r.pos-i)).tableStart=i,t.map=a,t.table=o,t}function re(e,t,n){var r=t.map,o=t.tableStart,i=t.table,a=n>0?-1:0;N(r,i,n+a)&&(a=0==n||n==r.width?null:0);for(var s=0;s<r.height;s++){var l=s*r.width+n;if(n>0&&n<r.width&&r.map[l-1]==r.map[l]){var c=r.map[l],u=i.nodeAt(c);e.setNodeMarkup(e.mapping.map(o+c),null,T(u.attrs,n-r.colCount(c))),s+=u.attrs.rowspan-1}else{var d=null==a?b(i.type.schema).cell:i.nodeAt(r.map[l+a]).type,p=r.positionAt(s,n,i);e.insert(e.mapping.map(o+p),d.createAndFill())}}return e}function oe(e,t){if(!k(e))return!1;if(t){var n=ne(e);t(re(e.tr,n,n.left))}return!0}function ie(e,t){if(!k(e))return!1;if(t){var n=ne(e);t(re(e.tr,n,n.right))}return!0}function ae(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=e.mapping.maps.length,s=0;s<r.height;){var l=s*r.width+n,c=r.map[l],u=o.nodeAt(c);if(n>0&&r.map[l-1]==c||n<r.width-1&&r.map[l+1]==c)e.setNodeMarkup(e.mapping.slice(a).map(i+c),null,A(u.attrs,n-r.colCount(c)));else{var d=e.mapping.slice(a).map(i+c);e.delete(d,d+u.nodeSize)}s+=u.attrs.rowspan}}function se(e,t){if(!k(e))return!1;if(t){var n=ne(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;ae(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=h.get(n.table);t(r)}return!0}function le(e,t,n){for(var r=b(t.type.schema).header_cell,o=0;o<e.width;o++)if(t.nodeAt(e.map[o+n*e.width]).type!=r)return!1;return!0}function ce(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,a=o,s=0;s<n;s++)a+=i.child(s).nodeSize;var l=[],c=n>0?-1:0;le(r,i,n+c)&&(c=0==n||n==r.height?null:0);for(var u=0,d=r.width*n;u<r.width;u++,d++)if(n>0&&n<r.height&&r.map[d]==r.map[d-r.width]){var p=r.map[d],f=i.nodeAt(p).attrs;e.setNodeMarkup(o+p,null,L(f,"rowspan",f.rowspan+1)),u+=f.colspan-1}else{var h=null==c?b(i.type.schema).cell:i.nodeAt(r.map[d+c*r.width]).type;l.push(h.createAndFill())}return e.insert(a,b(i.type.schema).row.create(null,l)),e}function ue(e,t){if(!k(e))return!1;if(t){var n=ne(e);t(ce(e.tr,n,n.top))}return!0}function de(e,t){if(!k(e))return!1;if(t){var n=ne(e);t(ce(e.tr,n,n.bottom))}return!0}function pe(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=0,s=0;s<n;s++)a+=o.child(s).nodeSize;var l=a+o.child(n).nodeSize,c=e.mapping.maps.length;e.delete(a+i,l+i);for(var u=0,d=n*r.width;u<r.width;u++,d++){var p=r.map[d];if(n>0&&p==r.map[d-r.width]){var f=o.nodeAt(p).attrs;e.setNodeMarkup(e.mapping.slice(c).map(p+i),null,L(f,"rowspan",f.rowspan-1)),u+=f.colspan-1}else if(n<r.width&&p==r.map[d+r.width]){var h=o.nodeAt(p),m=h.type.create(L(h.attrs,"rowspan",h.attrs.rowspan-1),h.content),g=r.positionAt(n+1,u,o);e.insert(e.mapping.slice(c).map(i+g),m),u+=h.attrs.colspan-1}}}function fe(e,t){if(!k(e))return!1;if(t){var n=ne(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;pe(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=h.get(n.table);t(r)}return!0}function he(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function me(e,t){var n=e.selection;if(!(n instanceof D)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=ne(e),o=r.map;if(function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,s=(t.bottom-1)*n+t.left,l=i+(t.right-t.left-1),c=t.top;c<t.bottom;c++){if(t.left>0&&o[a]==o[a-1]||t.right<n&&o[l]==o[l+1])return!0;a+=n,l+=n}for(var u=t.left;u<t.right;u++){if(t.top>0&&o[i]==o[i-n]||t.bottom<r&&o[s]==o[s+n])return!0;i++,s++}return!1}(o,r))return!1;if(t){for(var i,s,l=e.tr,c={},u=a.Fragment.empty,d=r.top;d<r.bottom;d++)for(var p=r.left;p<r.right;p++){var f=o.map[d*o.width+p],h=r.table.nodeAt(f);if(!c[f])if(c[f]=!0,null==i)i=f,s=h;else{he(h)||(u=u.append(h.content));var m=l.mapping.map(f+r.tableStart);l.delete(m,m+h.nodeSize)}}if(l.setNodeMarkup(i+r.tableStart,null,L(T(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),"rowspan",r.bottom-r.top)),u.size){var g=i+1+s.content.size,y=he(s)?i+1:g;l.replaceWith(y+r.tableStart,g+r.tableStart,u)}l.setSelection(new D(l.doc.resolve(i+r.tableStart))),t(l)}return!0}function ge(e,t){var n=b(e.schema);return ye((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)}function ye(e){return function(t,n){var r,o,i=t.selection;if(i instanceof D){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(!(r=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from)))return!1;o=_(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var a=r.attrs,s=[],l=a.colwidth;a.rowspan>1&&(a=L(a,"rowspan",1)),a.colspan>1&&(a=L(a,"colspan",1));for(var c,u=ne(t),d=t.tr,p=0;p<u.right-u.left;p++)s.push(l?L(a,"colwidth",l&&l[p]?[l[p]]:null):a);for(var f=u.top;f<u.bottom;f++){var h=u.map.positionAt(f,u.left,u.table);f==u.top&&(h+=r.nodeSize);for(var m=u.left,g=0;m<u.right;m++,g++)m==u.left&&f==u.top||d.insert(c=d.mapping.map(h+u.tableStart,1),e({node:r,row:f,col:m}).createAndFill(s[g]))}d.setNodeMarkup(o,e({node:r,row:u.top,col:u.left}),s[0]),i instanceof D&&d.setSelection(new D(d.doc.resolve(i.$anchorCell.pos),c&&d.doc.resolve(c))),n(d)}return!0}}function ve(e,t){return function(n,r){if(!k(n))return!1;var o=x(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){var i=n.tr;n.selection instanceof D?n.selection.forEachCell((function(n,r){n.attrs[e]!==t&&i.setNodeMarkup(r,null,L(n.attrs,e,t))})):i.setNodeMarkup(o.pos,null,L(o.nodeAfter.attrs,e,t)),r(i)}return!0}}function be(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),o=0;o<r.length;o++){var i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function we(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!k(t))return!1;if(n){for(var r=b(t.schema),o=ne(t),i=t.tr,a=o.map.cellsInRect("column"==e?new f(o.left,0,o.right,o.map.height):"row"==e?new f(0,o.top,o.map.width,o.bottom):o),s=a.map((function(e){return o.table.nodeAt(e)})),l=0;l<a.length;l++)s[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[l],r.cell,s[l].attrs);if(0==i.steps.length)for(var c=0;c<a.length;c++)i.setNodeMarkup(o.tableStart+a[c],r.header_cell,s[c].attrs);n(i)}return!0}}(e):function(t,n){if(!k(t))return!1;if(n){var r=b(t.schema),o=ne(t),i=t.tr,a=be("row",o,r),s=be("column",o,r),l=("column"===e?a:"row"===e&&s)?1:0,c="column"==e?new f(0,l,1,o.map.height):"row"==e?new f(l,0,o.map.width,1):o,u="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(c).forEach((function(e){var t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,u,n.attrs)})),n(i)}return!0}}var _e=we("row",{useDeprecatedLogic:!0}),ke=we("column",{useDeprecatedLogic:!0}),xe=we("cell",{useDeprecatedLogic:!0});function Se(e){return function(t,n){if(!k(t))return!1;var r=function(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,o=e.before();r>=0;r--){var i=e.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var a=e.node(-1),s=e.indexAfter(-1),l=e.after();s<a.childCount;s++){var c=a.child(s);if(c.childCount)return l+1;l+=c.nodeSize}}}(x(t),e);if(null!=r){if(n){var o=t.doc.resolve(r);n(t.tr.setSelection(i.TextSelection.between(o,M(o))).scrollIntoView())}return!0}}}function Me(e,t){for(var n=e.selection.$anchor,r=n.depth;r>0;r--){if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}var Ce=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),ze(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function ze(e,t,n,r,o,i){for(var a=0,s=!0,l=t.firstChild,c=e.firstChild,u=0,d=0;u<c.childCount;u++)for(var p=c.child(u).attrs,f=p.colspan,h=p.colwidth,m=0;m<f;m++,d++){var g=o==d?i:h&&h[m],y=g?g+"px":"";a+=g||r,g||(s=!1),l?(l.style.width!=y&&(l.style.width=y),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=y}for(;l;){var v=l.nextSibling;l.parentNode.removeChild(l),l=v}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}Ce.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,ze(e,this.colgroup,this.table,this.cellMinWidth),!0)},Ce.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var Oe=new i.PluginKey("tableColumnResizing");function Ee(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var r=e.View;void 0===r&&(r=Ce);var o=e.lastColumnResizable;return void 0===o&&(o=!0),new i.Plugin({key:Oe,state:{init:function(e,t){return this.spec.props.nodeViews[b(t.schema).table.name]=function(e,t){return new r(e,n,t)},new Le(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){return Oe.getState(e).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,n){!function(e,t,n,r,o){var i=Oe.getState(e.state);if(!i.dragging){var a=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),s=-1;if(a){var l=a.getBoundingClientRect(),c=l.left,u=l.right;t.clientX-c<=n?s=Ae(e,t,"left"):u-t.clientX<=n&&(s=Ae(e,t,"right"))}if(s!=i.activeHandle){if(!o&&-1!==s){var d=e.state.doc.resolve(s),p=d.node(-1),f=h.get(p),m=d.start(-1);if(f.colCount(d.pos-m)+d.nodeAfter.attrs.colspan-1==f.width-1)return}Ne(e,s)}}}(e,n,t,0,o)},mouseleave:function(e){!function(e){var t=Oe.getState(e.state);t.activeHandle>-1&&!t.dragging&&Ne(e,-1)}(e)},mousedown:function(e,t){!function(e,t,n){var r=Oe.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;var o=e.state.doc.nodeAt(r.activeHandle),i=function(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t),s=a.node.childNodes[a.offset].offsetWidth,l=r;if(o)for(var c=0;c<r;c++)o[c]&&(s-=o[c],l--);return s/l}(e,r.activeHandle,o.attrs);function a(t){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var r=Oe.getState(e.state);r.dragging&&(!function(e,t,n){for(var r=e.state.doc.resolve(t),o=r.node(-1),i=h.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr,c=0;c<i.height;c++){var u=c*i.width+s;if(!c||i.map[u]!=i.map[u-i.width]){var d=i.map[u],p=o.nodeAt(d).attrs,f=1==p.colspan?0:s-i.colCount(d);if(!p.colwidth||p.colwidth[f]!=n){var m=p.colwidth?p.colwidth.slice():De(p.colspan);m[f]=n,l.setNodeMarkup(a+d,null,L(p,"colwidth",m))}}}l.docChanged&&e.dispatch(l)}(e,r.activeHandle,Te(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(Oe,{setDragging:null})))}function s(t){if(!t.which)return a(t);var r=Oe.getState(e.state),o=Te(r.dragging,t,n);!function(e,t,n,r){var o=e.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),s=h.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,l=e.domAtPos(o.start(-1)).node;for(;"TABLE"!=l.nodeName;)l=l.parentNode;ze(i,l.firstChild,l,r,s,n)}(e,r.activeHandle,o,n)}e.dispatch(e.state.tr.setMeta(Oe,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),t.preventDefault()}(e,t,n)}},decorations:function(e){var t=Oe.getState(e);if(t.activeHandle>-1)return function(e,t){for(var n=[],r=e.doc.resolve(t),o=r.node(-1),i=h.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan,c=0;c<i.height;c++){var u=s+c*i.width-1;if(!(s!=i.width&&i.map[u]==i.map[u+1]||0!=c&&i.map[u-1]==i.map[u-1-i.width])){var d=i.map[u],p=a+d+o.nodeAt(d).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",n.push(l.a.widget(p,f))}}return l.b.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}})}var Le=function(e,t){this.activeHandle=e,this.dragging=t};function Ae(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;var o=r.pos,i=_(e.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var a=h.get(i.node(-1)),s=i.start(-1),l=a.map.indexOf(i.pos-s);return l%a.width==0?-1:s+a.map[l-1]}function Te(e,t,n){var r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function Ne(e,t){e.dispatch(e.state.tr.setMeta(Oe,{setHandle:t}))}function De(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function Pe(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new i.Plugin({key:w,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(w);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var r=e.mapping.mapResult(t),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:$,handleDOMEvents:{mousedown:J},createSelectionBetween:function(e){if(null!=w.getState(e.state))return e.state.selection},handleTripleClick:X,handleKeyDown:K,handlePaste:G},appendTransaction:function(e,n,r){return function(e,t,n){var r,o,a=(t||e).selection,s=(t||e).doc;if(a instanceof i.NodeSelection&&(o=a.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=D.create(s,a.from);else if("row"==o){var l=s.resolve(a.from+1);r=D.rowSelection(l,l)}else if(!n){var c=h.get(a.node),u=a.from+1,d=u+c.map[c.width*c.height-1];r=D.create(s,u+1,d)}}else a instanceof i.TextSelection&&function(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,o--);return r==o&&/row|table/.test(t.node(i).type.spec.tableRole)}(a)?r=i.TextSelection.create(s,a.from):a instanceof i.TextSelection&&function(e){for(var t,n,r=e.$from,o=e.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var s=o.depth;s>0;s--){var l=o.node(s);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return t!==n&&0===o.parentOffset}(a)&&(r=i.TextSelection.create(s,a.$from.start(),a.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}(r,te(r,n),t)}})}Le.prototype.apply=function(e){var t=this,n=e.getMeta(Oe);if(n&&null!=n.setHandle)return new Le(n.setHandle,null);if(n&&void 0!==n.setDragging)return new Le(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var r=e.mapping.map(t.activeHandle,-1);S(e.doc.resolve(r))||(r=null),t=new Le(r,t.dragging)}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return z})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return w}));var r=n(2),o=Math.pow(2,16);function i(e){return 65535&e}var a=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},s=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};s.prototype.recover=function(e){var t=0,n=i(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/o}(e)},s.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},s.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},s.prototype._map=function(e,t,n){for(var r=0,i=this.inverted?2:1,s=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;var u=this.ranges[l+i],d=this.ranges[l+s],p=c+u;if(e<=p){var f=c+r+((u?e==c?-1:e==p?1:t:t)<0?0:d);if(n)return f;var h=e==(t<0?c:p)?null:l/3+(e-c)*o;return new a(f,t<0?e!=c:e!=p,h)}r+=d-u}return n?e+r:new a(e+r)},s.prototype.touches=function(e,t){for(var n=0,r=i(t),o=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;var c=this.ranges[s+o];if(e<=l+c&&s==3*r)return!0;n+=this.ranges[s+a]-c}return!1},s.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),o+=c-l}},s.prototype.invert=function(){return new s(this.ranges,!this.inverted)},s.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},s.offset=function(e){return 0==e?s.empty:new s(e<0?[0,-e,0]:[0,0,e])},s.empty=new s([]);var l=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function c(e){var t=Error.call(this,e);return t.__proto__=c.prototype,t}l.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new l(this.maps,this.mirror,e,t)},l.prototype.copy=function(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},l.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},l.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},l.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},l.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},l.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},l.prototype.invert=function(){var e=new l;return e.appendMappingInverted(this),e},l.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},l.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},l.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,e=this.maps[s].recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return n?e:new a(e,r)},c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="TransformError";var u=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new l},d={before:{configurable:!0},docChanged:{configurable:!0}};function p(){throw new Error("Override me")}d.before.get=function(){return this.docs.length?this.docs[0]:this.doc},u.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new c(t.failed);return this},u.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},d.docChanged.get=function(){return this.steps.length>0},u.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(u.prototype,d);var f=Object.create(null),h=function(){};h.prototype.apply=function(e){return p()},h.prototype.getMap=function(){return s.empty},h.prototype.invert=function(e){return p()},h.prototype.map=function(e){return p()},h.prototype.merge=function(e){return null},h.prototype.toJSON=function(){return p()},h.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=f[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},h.jsonID=function(e,t){if(e in f)throw new RangeError("Duplicate use of step JSON ID "+e);return f[e]=t,t.prototype.jsonID=e,t};var m=function(e,t){this.doc=e,this.failed=t};m.ok=function(e){return new m(e,null)},m.fail=function(e){return new m(null,e)},m.fromReplace=function(e,t,n,o){try{return m.ok(e.replace(t,n,o))}catch(e){if(e instanceof r.ReplaceError)return m.fail(e.message);throw e}};var g=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&v(e,this.from,this.to)?m.fail("Structure replace would overwrite content"):m.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new s([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?r.Slice.empty:new r.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var o=this.slice.size+e.slice.size==0?r.Slice.empty:new r.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),o,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,r.Slice.fromJSON(e,n.slice),!!n.structure)},t}(h);h.jsonID("replace",g);var y=function(e){function t(t,n,r,o,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(v(e,this.from,this.gapFrom)||v(e,this.gapTo,this.to)))return m.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return m.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?m.fromReplace(e,this.from,this.to,n):m.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,r.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(h);function v(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function b(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function w(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!b(r,o,i))break}}function _(e,t,n,r){void 0===r&&(r=e);var o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,l=r;s&&l<o;l++)s=s.matchType(n.child(l).type);if(!s||!s.validEnd)return null;return a}(r,t);return i?o.map(k).concat({type:t,attrs:n}).concat(i.map(k)):null}function k(e){return{type:e,attrs:null}}function x(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,l=n-2;s>i;s--,l--){var c=o.node(s),u=o.index(s);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),p=r&&r[l]||c;if(p!=c&&(d=d.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(u+1,c.childCount)||!p.type.validContent(d))return!1}var f=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(f,f,h?h.type:o.node(i+1).type)}function S(e,t){var n=e.resolve(t),r=n.index();return M(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function M(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function C(e,t,n){void 0===n&&(n=-1);for(var r=e.resolve(t),o=r.depth;;o--){var i=void 0,a=void 0,s=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),s++,a=r.node(o).maybeChild(s)):(i=r.node(o).maybeChild(s-1),a=r.node(o+1)),i&&!i.isTextblock&&M(i,a)&&r.node(o).canReplace(s,s+1))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}}function z(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(l>0?1:0);if(1==a?r.node(s).canReplace(c,c,o):r.node(s).contentMatchAt(c).findWrapping(o.firstChild.type))return 0==l?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function O(e,t,n){for(var o=[],i=0;i<e.childCount;i++){var a=e.child(i);a.content.size&&(a=a.copy(O(a.content,t,a))),a.isInline&&(a=t(a,n,i)),o.push(a)}return r.Fragment.fromArray(o)}h.jsonID("replaceAround",y),u.prototype.lift=function(e,t){for(var n=e.$from,o=e.$to,i=e.depth,a=n.before(i+1),s=o.after(i+1),l=a,c=s,u=r.Fragment.empty,d=0,p=i,f=!1;p>t;p--)f||n.index(p)>0?(f=!0,u=r.Fragment.from(n.node(p).copy(u)),d++):l--;for(var h=r.Fragment.empty,m=0,g=i,v=!1;g>t;g--)v||o.after(g+1)<o.end(g)?(v=!0,h=r.Fragment.from(o.node(g).copy(h)),m++):c++;return this.step(new y(l,c,a,s,new r.Slice(u.append(h),d,m),u.size-d,!0))},u.prototype.wrap=function(e,t){for(var n=r.Fragment.empty,o=t.length-1;o>=0;o--)n=r.Fragment.from(t[o].type.create(t[o].attrs,n));var i=e.start,a=e.end;return this.step(new y(i,a,i,a,new r.Slice(n,0,0),t.length,!0))},u.prototype.setBlockType=function(e,t,n,o){var i=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,o)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(i.doc,i.mapping.slice(a).map(t),n)){i.clearIncompatible(i.mapping.slice(a).map(t,1),n);var s=i.mapping.slice(a),l=s.map(t,1),c=s.map(t+e.nodeSize,1);return i.step(new y(l,c,l+1,c-1,new r.Slice(r.Fragment.from(n.create(o,null,e.marks)),0,0),1,!0)),!1}})),this},u.prototype.setNodeMarkup=function(e,t,n,o){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var a=t.create(n,null,o||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,a);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new y(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new r.Slice(r.Fragment.from(a),0,0),1,!0))},u.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var o=this.doc.resolve(e),i=r.Fragment.empty,a=r.Fragment.empty,s=o.depth,l=o.depth-t,c=t-1;s>l;s--,c--){i=r.Fragment.from(o.node(s).copy(i));var u=n&&n[c];a=r.Fragment.from(u?u.type.create(u.attrs,a):o.node(s).copy(a))}return this.step(new g(e,e,new r.Slice(i.append(a),t,t),!0))},u.prototype.join=function(e,t){void 0===t&&(t=1);var n=new g(e-t,e+t,r.Slice.empty,!0);return this.step(n)};var E=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=e.resolve(this.from),i=o.node(o.sharedDepth(this.to)),a=new r.Slice(O(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),i),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,a)},t.prototype.invert=function(){return new L(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(h);h.jsonID("addMark",E);var L=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=new r.Slice(O(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new E(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(h);function A(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}h.jsonID("removeMark",L),u.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var d=Math.max(l,e),p=Math.min(l+r.nodeSize,t),f=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(f)||(a&&a.to==d&&a.mark.eq(u[h])?a.to=p:o.push(a=new L(d,p,u[h])));s&&s.to==d?s.to=p:i.push(s=new E(d,p,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},u.prototype.removeMark=function(e,t,n){var o=this;void 0===n&&(n=null);var i=[],a=0;return this.doc.nodesBetween(e,t,(function(o,s){if(o.isInline){a++;var l=null;if(n instanceof r.MarkType){var c=n.isInSet(o.marks);c&&(l=[c])}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length)for(var u=Math.min(s+o.nodeSize,t),d=0;d<l.length;d++){for(var p=l[d],f=void 0,h=0;h<i.length;h++){var m=i[h];m.step==a-1&&p.eq(i[h].style)&&(f=m)}f?(f.to=u,f.step=a):i.push({style:p,from:Math.max(s,e),to:u,step:a})}}})),i.forEach((function(e){return o.step(new L(e.from,e.to,e.style))})),this},u.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var o=this.doc.nodeAt(e),i=[],a=e+1,s=0;s<o.childCount;s++){var l=o.child(s),c=a+l.nodeSize,u=n.matchType(l.type,l.attrs);if(u){n=u;for(var d=0;d<l.marks.length;d++)t.allowsMarkType(l.marks[d].type)||this.step(new L(a,c,l.marks[d]))}else i.push(new g(a,c,r.Slice.empty));a=c}if(!n.validEnd){var p=n.fillBefore(r.Fragment.empty,!0);this.replace(a,a,new r.Slice(p,0,0))}for(var f=i.length-1;f>=0;f--)this.step(i[f]);return this},u.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=r.Slice.empty);var o=function(e,t,n,o){if(void 0===n&&(n=t),void 0===o&&(o=r.Slice.empty),t==n&&!o.size)return null;var i=e.resolve(t),a=e.resolve(n);return A(i,a,o)?new g(t,n,o):new T(i,a,o).fit()}(this.doc,e,t,n);return o&&this.step(o),this},u.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new r.Slice(r.Fragment.from(n),0,0))},u.prototype.delete=function(e,t){return this.replace(e,t,r.Slice.empty)},u.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var T=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var o=0;o<=e.depth;o++){var i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}this.placed=r.Fragment.empty;for(var a=e.depth;a>0;a--)this.placed=r.Fragment.from(e.node(a).copy(this.placed))},N={depth:{configurable:!0}};function D(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(D(e.firstChild.content,t-1,n)))}function P(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(P(e.lastChild.content,t-1,n)))}function $(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function R(e,t,n){if(t<=0)return e;var o=e.content;return t>1&&(o=o.replaceChild(0,R(o.firstChild,t-1,1==o.childCount?n-1:0))),t>0&&(o=e.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(e.type.contentMatch.matchFragment(o).fillBefore(r.Fragment.empty,!0)))),e.copy(o)}function I(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function F(e,t,n,o,i){if(t<n){var a=e.firstChild;e=e.replaceChild(0,a.copy(F(a.content,t+1,n,o,a)))}if(t>o){var s=i.contentMatchAt(0),l=s.fillBefore(e).append(e);e=l.append(s.matchFragment(l).fillBefore(r.Fragment.empty,!0))}return e}function q(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}N.depth.get=function(){return this.frontier.length-1},T.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(t<0?this.$to:o.doc.resolve(t));if(!i)return null;for(var a=this.placed,s=o.depth,l=i.depth;s&&l&&1==a.childCount;)a=a.firstChild.content,s--,l--;var c=new r.Slice(a,s,l);return t>-1?new y(o.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||o.pos!=this.$to.pos?new g(o.pos,i.pos,c):void 0},T.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,o=(t?(n=$(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var a=this.frontier[i],s=a.type,l=a.match,c=void 0,u=void 0;if(1==e&&(o?l.matchType(o.type)||(u=l.fillBefore(r.Fragment.from(o),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:i,parent:n,inject:u};if(2==e&&o&&(c=l.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:i,parent:n,wrap:c};if(n&&l.matchType(n.type))break}},T.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,o=e.openEnd,i=$(t,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new r.Slice(t,n+1,Math.max(o,i.size+n>=t.size-o?n+1:0)),!0)},T.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,o=e.openEnd,i=$(t,n);if(i.childCount<=1&&n>0){var a=t.size-n<=n+i.size;this.unplaced=new r.Slice(D(t,n-1,1),n-1,a?n-1:o)}else this.unplaced=new r.Slice(D(t,n,1),n,o)},T.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,o=e.parent,i=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var l=this.unplaced,c=o?o.content:l.content,u=l.openStart-t,d=0,p=[],f=this.frontier[n],h=f.match,m=f.type;if(i){for(var g=0;g<i.childCount;g++)p.push(i.child(g));h=h.matchFragment(i)}for(var y=c.size+t-(l.content.size-l.openEnd);d<c.childCount;){var v=c.child(d),b=h.matchType(v.type);if(!b)break;(++d>1||0==u||v.content.size)&&(h=b,p.push(R(v.mark(m.allowedMarks(v.marks)),1==d?u:0,d==c.childCount?y:-1)))}var w=d==c.childCount;w||(y=-1),this.placed=P(this.placed,n,r.Fragment.from(p)),this.frontier[n].match=h,w&&y<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var _=0,k=c;_<y;_++){var x=k.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),k=x.content}this.unplaced=w?0==t?r.Slice.empty:new r.Slice(D(l.content,t-1,1),t-1,y<0?l.openEnd:t-1):new r.Slice(D(l.content,t,d),l.openStart,l.openEnd)},T.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!I(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},T.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=I(e,t,o,r,i);if(a){for(var s=t-1;s>=0;s--){var l=this.frontier[s],c=l.match,u=I(e,s,l.type,c,!0);if(!u||u.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}},T.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=P(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},T.prototype.openFrontierNode=function(e,t,n){var o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=P(this.placed,this.depth,r.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},T.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(r.Fragment.empty,!0);e.childCount&&(this.placed=P(this.placed,this.frontier.length,e))},Object.defineProperties(T.prototype,N),u.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var o=this.doc.resolve(e),i=this.doc.resolve(t);if(A(o,i,n))return this.step(new g(e,t,n));var a=q(o,this.doc.resolve(t));0==a[a.length-1]&&a.pop();var s=-(o.depth+1);a.unshift(s);for(var l=o.depth,c=o.pos-1;l>0;l--,c--){var u=o.node(l).type.spec;if(u.defining||u.isolating)break;a.indexOf(l)>-1?s=l:o.before(l)==c&&a.splice(1,0,-l)}for(var d=a.indexOf(s),p=[],f=n.openStart,h=n.content,m=0;;m++){var y=h.firstChild;if(p.push(y),m==n.openStart)break;h=y.content}f>0&&p[f-1].type.spec.defining&&o.node(d).type!=p[f-1].type?f-=1:f>=2&&p[f-1].isTextblock&&p[f-2].type.spec.defining&&o.node(d).type!=p[f-2].type&&(f-=2);for(var v=n.openStart;v>=0;v--){var b=(v+f+1)%(n.openStart+1),w=p[b];if(w)for(var _=0;_<a.length;_++){var k=a[(_+d)%a.length],x=!0;k<0&&(x=!1,k=-k);var S=o.node(k-1),M=o.index(k-1);if(S.canReplaceWith(M,M,w.type,w.marks))return this.replace(o.before(k),x?i.after(k):t,new r.Slice(F(n.content,0,n.openStart,b),b,n.openEnd))}}for(var C=this.steps.length,z=a.length-1;z>=0&&(this.replace(e,t,n),!(this.steps.length>C));z--){var O=a[z];z<0||(e=o.before(O),t=i.after(O))}return this},u.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var o=function(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}(this.doc,e,n.type);null!=o&&(e=t=o)}return this.replaceRange(e,t,new r.Slice(r.Fragment.from(n),0,0))},u.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=q(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&r.end(l)-t!=r.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2),i=n(3),a=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++){var i=T(e[r])(n.selection);if(i){var a=m(i.pos,t)(n);if(a!==n)return a}}return n}},s=function(e){return function(t){if(p(t.selection)){var n=t.selection,i=n.$from,a=n.$to;if(e instanceof o.Fragment&&i.parent.canReplace(i.index(),i.indexAfter(),e)||i.parent.canReplaceWith(i.index(),i.indexAfter(),e.type))return h(t.replaceWith(i.pos,a.pos,e).setSelection(new r.NodeSelection(t.doc.resolve(i.pos))))}return t}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var o=r.Selection.findFrom(n.doc.resolve(e),t,!0);return o?n.setSelection(o):n}},c=function(e){return e.type&&e.type.spec.selectable},u=function(e,t,n){return function(e){return c(e)&&e.type.isLeaf}(e)?n.setSelection(new r.NodeSelection(n.doc.resolve(t))):l(t)(n)},d=function(e,t,n){return function(r){var o="number"==typeof t,i=r.selection.$from,l=o?r.doc.resolve(t):p(r.selection)?r.doc.resolve(i.pos+1):i,d=l.parent;if(p(r.selection)&&n&&r!==(r=s(e)(r)))return r;if(w(d)&&r!==(r=a(d.type,e)(r))){var f=c(e)?l.before(l.depth):l.pos;return u(e,f,r)}if(b(l,e)){r.insert(l.pos,e);var m=o?l.pos:c(e)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return h(u(e,m,r))}for(var g=l.depth;g>0;g--){var y=l.after(g),v=r.doc.resolve(y);if(b(v,e))return r.insert(y,e),h(u(e,y,r))}return r}},p=function(e){return e instanceof r.NodeSelection},f=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},h=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},m=function(e,t){return function(n){var r=n.doc.nodeAt(e),o=n.doc.resolve(e);if(g(o,t)){var i=(n=n.replaceWith(e,e+r.nodeSize,t)).selection.$from.pos-1;return n=l(Math.max(i,0),-1)(n),n=l(n.selection.$from.start())(n),h(n)}return n}},g=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof o.Fragment?t:o.Fragment.from(t))},y=function(e){return function(t){var n=t.doc.nodeAt(e);return h(t.delete(e,e+n.nodeSize))}},v=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t={};return Object.keys(e.nodes).forEach((function(n){var r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t},b=function(e,t){var n=e.index();return t instanceof o.Fragment?e.parent.canReplace(n,n,t):t instanceof o.Node&&e.parent.canReplaceWith(n,n,t.type)},w=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.createChecked(null,t):e.createAndFill()},k=function(e){return function(t){for(var n=i.TableMap.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),o=n.cellsInRect(e),a=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),s=0,l=o.length;s<l;s++)if(-1===a.indexOf(o[s]))return!1;return!0}},x=function(e){return e[0].map((function(t,n){return e.map((function(e){return e[n]}))}))},S=function(e){for(var t=i.TableMap.get(e),n=[],r=0;r<t.height;r++){for(var o=[],a={},s=0;s<t.width;s++){var l=t.map[r*t.width+s],c=e.nodeAt(l),u=t.findCell(l);a[l]||u.top!==r?o.push(null):(a[l]=!0,o.push(c))}n.push(o)}return n},M=function(e,t){for(var n=[],r=i.TableMap.get(e),o=0;o<r.height;o++){for(var a=e.child(o),s=[],l=0;l<r.width;l++)if(t[o][l]){var c=r.map[o*r.width+l],u=t[o][l],d=e.nodeAt(c).type.createChecked(Object.assign({},u.attrs),u.content,u.marks);s.push(d)}n.push(a.type.createChecked(a.attrs,s,a.marks))}return e.type.createChecked(e.attrs,n,e.marks)},C=function(e,t,n,r){var o=t[0]>n[0]?-1:1,i=e.splice(t[0],t.length),a=i.length%2==0?1:0,s=void 0;return s=-1===r&&1===o?n[0]-1:1===r&&-1===o?n[n.length-1]-a+1:-1===o?n[0]:n[n.length-1]-a,e.splice.apply(e,[s,0].concat(i)),e},z=function(e,t,n,r){var o="Target position is invalid, you can't move the "+r+" "+e+" to "+t+", the target can't be split. You could use tryToFit option.";if(1===(e>t?-1:1)){if(-1!==n.slice(0,n.length-1).indexOf(t))throw new Error(o)}else if(-1!==n.slice(1).indexOf(t))throw new Error(o);return!0},O=function(e){return function(t){var n=t.$from;return E(n,e)}},E=function(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},L=function(e,t){return function(n){var r=O(e)(n);if(r)return D(r.pos,t)}},A=function(e){return function(t){return!!O(e)(t)}},T=function(e){return function(t){return O((function(t){return f(e,t)}))(t)}},N=function(e){var t=e.$from.nodeBefore,n=r.Selection.findFrom(e.$from,-1);if(n&&t){var o=T(t.type)(n);return o?o.pos:n.$from.pos}},D=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},P=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,r){if(n.push({node:e,pos:r}),!t)return!1})),n},$=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return P(e,n).filter((function(e){return t(e.node)}))},R=function(e,t,n){return $(e,(function(e){return e.type===t}),n)};var I=function(e){return O((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},F=function(e){return e instanceof i.CellSelection},q=function(e){if(F(e)){var t=i.TableMap.get(e.$anchorCell.node(-1));return k({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},j=function(e){return function(t){var n=I(t);if(n){var r=i.TableMap.get(n.node);return(Array.isArray(e)?e:Array.from([e])).reduce((function(e,t){if(t>=0&&t<=r.width-1){var o=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},B=function(e){return function(t){var n=I(t);if(n){var r=i.TableMap.get(n.node);return(Array.isArray(e)?e:Array.from([e])).reduce((function(e,t){if(t>=0&&t<=r.height-1){var o=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},K=function(e){return function(t,n){return function(r){var o=I(r.selection),a="row"===e;if(o){var s=i.TableMap.get(o.node);if(t>=0&&t<(a?s.height:s.width)){var l=a?0:t,c=a?t:0,u=a?s.width:t+1,d=a?t+1:s.height;if(n){var p=Z(r.selection.$from);if(!p)return r;var f=s.findCell(p.pos-o.start);a?(c=Math.min(c,f.top),d=Math.max(d,f.bottom)):(l=Math.min(l,f.left),u=Math.max(u,f.right))}var m=s.cellsInRect({left:l,top:c,right:a?u:l+1,bottom:a?c+1:d}),g=d-c==1?m:s.cellsInRect({left:a?l:u-1,top:a?d-1:c,right:u,bottom:d}),y=o.start+m[0],v=o.start+g[g.length-1],b=r.doc.resolve(y),w=r.doc.resolve(v);return h(r.setSelection(new i.CellSelection(w,b)))}}return r}}},V=K("column"),U=K("row"),H=function(e){return function(t){var n=I(t.selection);if(n){var r=i.TableMap.get(n.node);if(e>=0&&e<=r.height){for(var o=n.node,a=v(o.type.schema),s=n.start,l=0;l<e+1;l++)s+=o.child(l).nodeSize;var c=o.child(e),u=[],p=0;if(c.forEach((function(e){1===e.attrs.rowspan&&(p+=e.attrs.colspan,u.push(a[e.type.spec.tableRole].createAndFill(e.attrs,e.marks)))})),p<r.width){for(var f=[],h=function(n){var r=Q(n,(function(t,r){var o=t.node.attrs.rowspan;return o>1&&n+o>e}))(t);f.push.apply(f,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r))},m=e;m>=0;m--)h(m);f.length&&f.forEach((function(e){t=J(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return d(a.row.create(c.attrs,u),s)(t)}}return t}},W=function(e){return function(t){var n=I(t.selection);if(n){var r=i.TableMap.get(n.node);if(0===e&&1===r.width)return G(t);if(e>=0&&e<=r.width)return i.removeColumn(t,{map:r,tableStart:n.start,table:n.node},e),h(t)}return t}},X=function(e){return function(t){var n=I(t.selection);if(n){var r=i.TableMap.get(n.node);if(0===e&&1===r.height)return G(t);if(e>=0&&e<=r.height)return i.removeRow(t,{map:r,tableStart:n.start,table:n.node},e),h(t)}return t}},G=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--){if("table"===t.node(n).type.spec.tableRole)return h(e.delete(t.before(n),t.after(n)))}return e},J=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,null,Object.assign({},e.node.attrs,t)),h(n)):n}},Z=function(e){return E(e,(function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)}))},Y=function(e){var t=Z(e);if(t){var n=function(e){return E(e,(function(e){return e.type.spec.tableRole&&/table/i.test(e.type.spec.tableRole)}))}(e),r=i.TableMap.get(n.node),o=t.pos-n.start;return r.rectBetween(o,o)}},Q=function(e,t){return function(n){var r=[],o=B(e)(n.selection);if(o)for(var i=o.length-1;i>=0;i--)t(o[i],n)&&r.push(o[i]);return r}},ee=function(e){return function(t){for(var n=e,r=e,o=function(e){var o=j(e)(t.selection);o&&o.forEach((function(t){var o=t.node.attrs.colspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;i>=0;i--)o(i);var a=function(e){var n=j(e)(t.selection);n&&n.forEach((function(t){var n=t.node.attrs.colspan+e-1;t.node.attrs.colspan>1&&n>r&&(r=n)}))};for(i=e;i<=r;i++)a(i);var s=[];for(i=n;i<=r;i++){var l=j(i)(t.selection);l&&l.length&&s.push(i)}n=s[0],r=s[s.length-1];for(var c=j(n)(t.selection),u=B(0)(t.selection),d=t.doc.resolve(c[c.length-1].pos),p=void 0,f=r;f>=n;f--){var h=j(f)(t.selection);if(h&&h.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===h[0].pos){p=h[0];break}if(p)break}}return{$anchor:d,$head:t.doc.resolve(p.pos),indexes:s}}},te=function(e){return function(t){for(var n=e,r=e,o=function(e){B(e)(t.selection).forEach((function(t){var o=t.node.attrs.rowspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;i>=0;i--)o(i);var a=function(e){B(e)(t.selection).forEach((function(t){var n=t.node.attrs.rowspan+e-1;t.node.attrs.rowspan>1&&n>r&&(r=n)}))};for(i=e;i<=r;i++)a(i);var s=[];for(i=n;i<=r;i++){var l=B(i)(t.selection);l&&l.length&&s.push(i)}n=s[0],r=s[s.length-1];for(var c=B(n)(t.selection),u=j(0)(t.selection),d=t.doc.resolve(c[c.length-1].pos),p=void 0,f=r;f>=n;f--){var h=B(f)(t.selection);if(h&&h.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===h[0].pos){p=h[0];break}if(p)break}}return{$anchor:d,$head:t.doc.resolve(p.pos),indexes:s}}};t.isNodeSelection=p,t.canInsert=b,t.convertTableNodeToArrayOfRows=S,t.convertArrayOfRowsToTableNode=M,t.findParentNode=O,t.findParentNodeClosestToPos=E,t.findParentDomRef=L,t.hasParentNode=A,t.findParentNodeOfType=T,t.findParentNodeOfTypeClosestToPos=function(e,t){return E(e,(function(e){return f(t,e)}))},t.hasParentNodeOfType=function(e){return function(t){return A((function(t){return f(e,t)}))(t)}},t.findParentDomRefOfType=function(e,t){return function(n){return L((function(t){return f(e,t)}),t)(n)}},t.findSelectedNodeOfType=function(e){return function(t){if(p(t)){var n=t.node,r=t.$from;if(f(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},t.findPositionOfNodeBefore=N,t.findDomRefAtPos=D,t.flatten=P,t.findChildren=$,t.findTextNodes=function(e,t){return $(e,(function(e){return e.isText}),t)},t.findInlineNodes=function(e,t){return $(e,(function(e){return e.isInline}),t)},t.findBlockNodes=function(e,t){return $(e,(function(e){return e.isBlock}),t)},t.findChildrenByAttr=function(e,t,n){return $(e,(function(e){return!!t(e.attrs)}),n)},t.findChildrenByType=R,t.findChildrenByMark=function(e,t,n){return $(e,(function(e){return t.isInSet(e.marks)}),n)},t.contains=function(e,t){return!!R(e,t).length},t.findTable=I,t.isCellSelection=F,t.getSelectionRect=function(e){if(F(e)){var t=e.$anchorCell.start(-1);return i.TableMap.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},t.isColumnSelected=function(e){return function(t){if(F(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return k({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1}},t.isRowSelected=function(e){return function(t){if(F(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return k({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},t.isTableSelected=q,t.getCellsInColumn=j,t.getCellsInRow=B,t.getCellsInTable=function(e){var t=I(e);if(t){var n=i.TableMap.get(t.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map((function(e){var n=t.node.nodeAt(e),r=e+t.start;return{pos:r,start:r+1,node:n}}))}},t.selectColumn=V,t.selectRow=U,t.selectTable=function(e){var t=I(e.selection);if(t){var n=i.TableMap.get(t.node).map;if(n&&n.length){var r=t.start+n[0],o=t.start+n[n.length-1],a=e.doc.resolve(r),s=e.doc.resolve(o);return h(e.setSelection(new i.CellSelection(s,a)))}}return e},t.emptyCell=function(e,t){return function(n){if(e){var r=v(t).cell.createAndFill().content;if(!e.node.content.eq(r))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,r),h(n)}return n}},t.addColumnAt=function(e){return function(t){var n=I(t.selection);if(n){var r=i.TableMap.get(n.node);if(e>=0&&e<=r.width)return h(i.addColumn(t,{map:r,tableStart:n.start,table:n.node},e))}return t}},t.moveRow=function(e,t,n){return function(r){var o=Object.assign({tryToFit:!1,direction:0},n),i=I(r.selection);if(!i)return r;var a=te(e)(r).indexes,s=te(t)(r).indexes;if(a.indexOf(t)>-1)return r;!o.tryToFit&&s.length>1&&z(e,t,s,"row");var l=function(e,t,n,r){var o=S(e.node);return o=C(o,t,n,r),M(e.node,o)}(i,a,s,o.direction);return h(r).replaceWith(i.pos,i.pos+i.node.nodeSize,l)}},t.moveColumn=function(e,t,n){return function(r){var o=Object.assign({tryToFit:!1,direction:0},n),i=I(r.selection);if(!i)return r;var a=ee(e)(r).indexes,s=ee(t)(r).indexes;if(a.indexOf(t)>-1)return r;!o.tryToFit&&s.length>1&&z(e,t,s,"column");var l=function(e,t,n,r){var o=x(S(e.node));return o=C(o,t,n,r),o=x(o),M(e.node,o)}(i,a,s,o.direction);return h(r).replaceWith(i.pos,i.pos+i.node.nodeSize,l)}},t.addRowAt=function(e,t){return function(n){var r=I(n.selection);if(r){var o=i.TableMap.get(r.node),a=e-1;if(t&&a>=0)return h(H(a)(n));if(e>=0&&e<=o.height)return h(i.addRow(n,{map:o,tableStart:r.start,table:r.node},e))}return n}},t.cloneRowAt=H,t.removeColumnAt=W,t.removeRowAt=X,t.removeTable=G,t.removeSelectedColumns=function(e){var t=e.selection;if(q(t))return G(e);if(F(t)){var n=I(t);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.left&&o.right==r.width)return!1;for(var a=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),s=a.right-1;i.removeColumn(e,a,s),s!==a.left;s--)a.table=a.tableStart?e.doc.nodeAt(a.tableStart-1):e.doc,a.map=i.TableMap.get(a.table);return h(e)}}return e},t.removeSelectedRows=function(e){var t=e.selection;if(q(t))return G(e);if(F(t)){var n=I(t);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.top&&o.bottom==r.height)return!1;for(var a=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),s=a.bottom-1;i.removeRow(e,a,s),s!==a.top;s--)a.table=a.tableStart?e.doc.nodeAt(a.tableStart-1):e.doc,a.map=i.TableMap.get(a.table);return h(e)}}return e},t.removeColumnClosestToPos=function(e){return function(t){var n=Y(e);return n?W(n.left)(l(e.pos)(t)):t}},t.removeRowClosestToPos=function(e){return function(t){var n=Y(e);return n?X(n.top)(l(e.pos)(t)):t}},t.forEachCellInColumn=function(e,t,n){return function(o){var i=j(e)(o.selection);if(i){for(var a=i.length-1;a>=0;a--)o=t(i[a],o);if(n){var s=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(s))}return h(o)}return o}},t.forEachCellInRow=function(e,t,n){return function(o){var i=B(e)(o.selection);if(i){for(var a=i.length-1;a>=0;a--)o=t(i[a],o);if(n){var s=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(s))}}return o}},t.setCellAttrs=J,t.createTable=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=v(e),a=i.cell,s=i.header_cell,l=i.row,c=i.table,u=[],d=[],p=0;p<n;p++)u.push(_(a,o)),r&&d.push(_(s,o));for(var f=[],h=0;h<t;h++)f.push(l.createChecked(null,r&&0===h?d:u));return c.createChecked(null,f)},t.findCellClosestToPos=Z,t.findCellRectClosestToPos=Y,t.getSelectionRangeInColumn=ee,t.getSelectionRangeInRow=te,t.removeParentNodeOfType=function(e){return function(t){var n=T(e)(t.selection);return n?y(n.pos)(t):t}},t.replaceParentNodeOfType=a,t.removeSelectedNode=function(e){if(p(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return h(e.delete(t,n))}return e},t.replaceSelectedNode=s,t.setTextSelection=l,t.safeInsert=d,t.setParentNodeMarkup=function(e,t,n,r){return function(o){var i=T(e)(o.selection);return i?h(o.setNodeMarkup(i.pos,t,Object.assign({},i.node.attrs,n),r)):o}},t.selectParentNodeOfType=function(e){return function(t){if(!p(t.selection)){var n=T(e)(t.selection);if(n)return h(t.setSelection(r.NodeSelection.create(t.doc,n.pos)))}return t}},t.removeNodeBefore=function(e){var t=N(e.selection);return"number"==typeof t?y(t)(e):e}},function(e,t,n){"use strict";function r(e,t){if(null!=e)return e;var n=new Error(void 0!==t?t:"Got unexpected "+e);throw n.framesToPop=1,n}e.exports=r,e.exports.default=r,Object.defineProperty(e.exports,"__esModule",{value:!0})},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return Mt})),n.d(t,"b",(function(){return Et})),n.d(t,"c",(function(){return qt}));var r=n(1),o=n(2),i=n(4),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var s=/Edge\/(\d+)/.exec(navigator.userAgent),l=/MSIE \d/.test(navigator.userAgent),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);a.mac=/Mac/.test(navigator.platform);var u=a.ie=!!(l||c||s);a.ie_version=l?document.documentMode||6:c?+c[1]:s?+s[1]:null,a.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var d=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!d,a.chrome_version=d&&+d[1],a.ios=!u&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.safari=/Apple Computer/.test(navigator.vendor),a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var p=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},f=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},h=null,m=function(e,t,n){var r=h||(h=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},g=function(e,t,n,r){return n&&(v(e,t,n,r,-1)||v(e,t,n,r,1))},y=/^(img|br|input|textarea|hr)$/i;function v(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:b(e))){var i=e.parentNode;if(1!=i.nodeType||w(e)||y.test(e.nodeName)||"false"==e.contentEditable)return!1;t=p(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?b(e):0}}}function b(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function w(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var _=function(e){var t=e.isCollapsed;return t&&a.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function k(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function x(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function S(e,t){return"number"==typeof e?e:e[t]}function M(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function C(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=f(a))if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,l=s?x(i):M(a),c=0,u=0;if(t.top<l.top+S(r,"top")?u=-(l.top-t.top+S(o,"top")):t.bottom>l.bottom-S(r,"bottom")&&(u=t.bottom-l.bottom+S(o,"bottom")),t.left<l.left+S(r,"left")?c=-(l.left-t.left+S(o,"left")):t.right>l.right-S(r,"right")&&(c=t.right-l.right+S(o,"right")),c||u)if(s)i.defaultView.scrollBy(c,u);else{var d=a.scrollLeft,p=a.scrollTop;u&&(a.scrollTop+=u),c&&(a.scrollLeft+=c);var h=a.scrollLeft-d,m=a.scrollTop-p;t={left:t.left-h,top:t.top-m,right:t.right-h,bottom:t.bottom-m}}if(s)break}}function z(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=f(e));return t}function O(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var E=null;function L(e,t){for(var n,r,o=2e8,i=0,a=t.top,s=t.top,l=e.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=m(l).getClientRects()}for(var d=0;d<u.length;d++){var p=u[d];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);var f=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(f<o){n=l,o=f,r=f&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==l.nodeType&&f&&(i=c+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=c+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=N(r,1);if(i.top!=i.bottom&&A(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:L(n,r)}function A(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function T(e,t){var n,r,o,i,s=e.root;if(s.caretPositionFromPoint)try{var l=s.caretPositionFromPoint(t.left,t.top);l&&(o=(n=l).offsetNode,i=n.offset)}catch(e){}if(!o&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(t.left,t.top);c&&(o=(r=c).startContainer,i=r.startOffset)}var u,d=s.elementFromPoint(t.left,t.top+1);if(!d||!e.dom.contains(1!=d.nodeType?d.parentNode:d)){var p=e.dom.getBoundingClientRect();if(!A(t,p))return null;if(!(d=function e(t,n,r){var o=t.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2)),a=i;;){var s=t.childNodes[a];if(1==s.nodeType)for(var l=s.getClientRects(),c=0;c<l.length;c++){var u=l[c];if(A(n,u))return e(s,n,u)}if((a=(a+1)%o)==i)break}return t}(e.dom,t,p)))return null}if(a.safari&&d.draggable&&(o=i=null),d=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(d,t),o){if(a.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var f,h=o.childNodes[i];"IMG"==h.nodeName&&(f=h.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}o==e.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&t.top>o.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(u=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,o,i,t))}null==u&&(u=function(e,t,n){var r=L(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,d,t));var m=e.docView.nearestDesc(d,!0);return{pos:u,inside:m?m.posAtStart-m.border:-1}}function N(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var D=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function P(e,t,n){var r=e.docView.domFromPos(t),o=r.node,i=r.offset,s=e.state.doc.resolve(t),l=s.parent.inlineContent,c=a.webkit||a.gecko;if(3==o.nodeType&&c&&D.test(o.nodeValue)){var u=N(m(o,i,i),n);if(a.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var d=N(m(o,i-1,i-1),-1);if(d.top==u.top){var f=N(m(o,i,i+1),-1);if(f.top!=u.top)return $(f,f.left<d.left)}}return u}if(l){for(var h=s.depth?e.docView.domAfterPos(s.before()):e.dom;n<0&&!i&&o!=h;)i=p(o),o=o.parentNode;for(;n>=0&&i==b(o)&&o!=h;)i=p(o)+1,o=o.parentNode}if(3==o.nodeType)return n<0?$(N(m(o,i-1,i),1),!1):$(N(m(o,i,i+1),-1),!0);if(!l){if(i&&(n<0||i==b(o))){var g=o.childNodes[i-1];if(1==g.nodeType)return R(g.getBoundingClientRect(),!1)}if(i<b(o)){var y=o.childNodes[i];if(1==y.nodeType)return R(y.getBoundingClientRect(),!0)}return R(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==b(o))){var v=o.childNodes[i-1],w=3==v.nodeType?m(v,b(v)-(c?0:1)):1==v.nodeType&&"BR"!=v.nodeName?v:null;if(w)return $(N(w,1),!1)}if(i<b(o)){var _=o.childNodes[i],k=3==_.nodeType?m(_,0,c?0:1):1==_.nodeType?_:null;if(k)return $(N(k,-1),!0)}return $(N(3==o.nodeType?m(o):o,-n),n>=0)}function $(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function R(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function I(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}var F=/[\u0590-\u08ac]/;var q=null,j=null,B=!1;function K(e,t,n){return q==t&&j==n?B:(q=t,j=n,B="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return I(e,t,(function(){for(var t=e.docView.domFromPos(o.pos).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode}for(var i=P(e,o.pos,1),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=m(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<s.length;l++){var c=s[l];if(c.bottom>c.top&&("up"==n?c.bottom<i.top+1:c.top>i.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=getSelection();return F.test(r.parent.textContent)&&s.modify?I(e,t,(function(){var t=s.getRangeAt(0),o=s.focusNode,i=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var l=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||o==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),l})):"left"==n||"backward"==n?i:a}(e,t,n))}var V=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},U={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};V.prototype.matchesWidget=function(){return!1},V.prototype.matchesMark=function(){return!1},V.prototype.matchesNode=function(){return!1},V.prototype.matchesHack=function(){return!1},U.beforePosition.get=function(){return!1},V.prototype.parseRule=function(){return null},V.prototype.stopEvent=function(){return!1},U.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},U.border.get=function(){return 0},V.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},V.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},U.posBefore.get=function(){return this.parent.posBeforeChild(this)},U.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},U.posAfter.get=function(){return this.posBefore+this.size},U.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},V.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.parentNode.firstChild!=l)break}if(null==s&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},V.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==e.nodeType?e:e.parentNode):o.nodeDOM==e))return o;n=!1}}},V.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},V.prototype.posFromDOM=function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1},V.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},V.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:p(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e);var r=this.children[n],o=t+r.size;if(e<o)return r.domFromPos(e-t-r.border);t=o}},V.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var s=this.children[a],l=i+s.size;if(-1==r&&e<=l){var c=i+s.border;if(e>=c&&t<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,c);e=i;for(var u=a;u>0;u--){var d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=p(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&(l>t||a==this.children.length-1)){t=l;for(var f=a+1;f<this.children.length;f++){var h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=p(h.dom);break}t+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},V.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},V.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},V.prototype.setSelection=function(e,t,n,r){for(var o=Math.min(e,t),i=Math.max(e,t),s=0,l=0;s<this.children.length;s++){var c=this.children[s],u=l+c.size;if(o>l&&i<u)return c.setSelection(e-l-c.border,t-l-c.border,n,r);l=u}var d=this.domFromPos(e),p=this.domFromPos(t),f=n.getSelection(),h=!1;if((a.gecko||a.safari)&&e==t){var m=d.node.childNodes[d.offset-1];h=m&&("BR"==m.nodeName||"false"==m.contentEditable)}if(r||h&&a.safari||!g(d.node,d.offset,f.anchorNode,f.anchorOffset)||!g(p.node,p.offset,f.focusNode,f.focusOffset)){var y=!1;if((f.extend||e==t)&&!h){f.collapse(d.node,d.offset);try{e!=t&&f.extend(p.node,p.offset),y=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!y){if(e>t){var v=d;d=p,p=v}var b=document.createRange();b.setEnd(p.node,p.offset),b.setStart(d.node,d.offset),f.removeAllRanges(),f.addRange(b)}}},V.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},U.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},V.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,s=i-o.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=3}n=i}this.dirty=2},V.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Object.defineProperties(V.prototype,U);var H=[],W=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,H,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,n),t}(V),X=function(e){function t(t,n,r,o){e.call(this,t,H,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(V),G=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,i){var a=i.nodeViews[n.type.name],s=a&&a(n,i,r);return s&&s.dom||(s=o.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=de(i,n,a,r)),e>0&&(i=de(i,0,e,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o},t}(V),J=function(e){function t(t,n,r,o,i,a,s,l,c){e.call(this,t,n.isLeaf?H:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(l,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,n,r,i,a,s){var l,c,u=a.nodeViews[n.type.name],d=u&&u(n,a,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),r),p=d&&d.dom,f=d&&d.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(p=(l=o.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,f=l.contentDOM);f||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var h=p;return p=ae(p,r,n),d?c=new ee(e,n,r,i,p,f,h,d,a,s+1):n.isText?new Y(e,n,r,i,p,h,a):new t(e,n,r,i,p,f,h,a,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?o.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&se(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,i=t,s=r&&e.composing&&this.localCompositionNode(e,t),l=new ce(this,s&&s.node);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);r(s,o,t.forChild(i,s),a),i+=s.nodeSize}return}for(var l=0,c=[],u=null,d=0;;){if(l<o.length&&o[l].to==i){for(var p=o[l++],f=void 0;l<o.length&&o[l].to==i;)(f||(f=[p])).push(o[l++]);if(f){f.sort(ue);for(var h=0;h<f.length;h++)n(f[h],d,!!u)}else n(p,d,!!u)}var m=void 0,g=void 0;if(u)g=-1,m=u,u=null;else{if(!(d<e.childCount))break;g=d,m=e.child(d++)}for(var y=0;y<c.length;y++)c[y].to<=i&&c.splice(y--,1);for(;l<o.length&&o[l].from<=i&&o[l].to>i;)c.push(o[l++]);var v=i+m.nodeSize;if(m.isText){var b=v;l<o.length&&o[l].from<b&&(b=o[l].from);for(var w=0;w<c.length;w++)c[w].to<b&&(b=c[w].to);b<v&&(u=m.cut(b-i),m=m.cut(0,b-i),v=b,g=-1)}var _=c.length?m.isInline&&!m.isLeaf?c.filter((function(e){return!e.inline})):c.slice():H;r(m,_,t.forChild(i,m),g),i=v}}(this.node,this.innerDeco,(function(t,a,s){t.spec.marks?l.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!s&&l.syncToMarks(a==n.node.childCount?o.Mark.none:n.node.child(a).marks,r,e),l.placeWidget(t,e,i)}),(function(t,n,o,a){l.syncToMarks(t.marks,r,e),l.findNodeMatch(t,n,o,a)||l.updateNextNode(t,n,o,e,a)||l.addNode(t,n,o,e,i),i+=t.nodeSize})),l.syncToMarks(H,r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),function e(t,n,r){for(var o=t.firstChild,i=!1,a=0;a<n.length;a++){var s=n[a],l=s.dom;if(l.parentNode==t){for(;l!=o;)o=le(o),i=!0;o=o.nextSibling}else i=!0,t.insertBefore(l,o);if(s instanceof G){var c=o?o.previousSibling:t.lastChild;e(s.contentDOM,s.children,r),o=c?c.nextSibling:t.firstChild}}for(;o;)o=le(o),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}(this.contentDOM,this.children,e),a.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,o=n.from,i=n.to;if(!(!(e.state.selection instanceof r.TextSelection)||o<t||i>t+this.node.content.size)){var a=e.root.getSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=b(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){var l=s.nodeValue,c=function(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),s=i;if(i+=a.nodeSize,a.isText){for(var l=a.text;o<e.childCount;){var c=e.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var u=l.lastIndexOf(t,r-s);if(u>=0&&u+t.length+s>=n)return s+u}}}return-1}(this.node.content,l,o-t,i-t);return c<0?null:{node:s,pos:c,text:l}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new X(this,i,n,o);e.compositionNodes.push(a),this.children=de(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!se(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=oe(this.dom,this.nodeDOM,re(this.outerDeco,this.node,t),re(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(t.prototype,n),t}(V);function Z(e,t,n,r,o){return ae(r,t,e),new J(null,e,t,n,r,r,r,o,0)}var Y=function(e){function t(t,n,r,o,i,a,s){e.call(this,t,n,r,o,i,null,a,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t}(J),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}(V),ee=function(e){function t(t,n,r,o,i,a,s,l,c,u){e.call(this,t,n,r,o,i,a,s,c,u),this.spec=l}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(J);function te(e){e&&(this.nodeName=e)}te.prototype=Object.create(null);var ne=[new te];function re(e,t,n){if(0==e.length)return ne;for(var r=n?ne[0]:new te,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs,s=r;if(a)for(var l in a.nodeName&&o.push(s=new te(a.nodeName)),a){var c=a[l];null!=c&&(n&&1==o.length&&o.push(s=r=new te(t.isInline?"span":"div")),"class"==l?s.class=(s.class?s.class+" ":"")+c:"style"==l?s.style=(s.style?s.style+";":"")+c:"nodeName"!=l&&(s[l]=c))}}return o}function oe(e,t,n,r){if(n==ne&&r==ne)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var l=void 0;s&&s.nodeName==a.nodeName&&o!=e&&(l=o.parentNode)&&l.tagName.toLowerCase()==a.nodeName||((l=document.createElement(a.nodeName)).pmIsDeco=!0,l.appendChild(o),s=ne[0]),o=l}ie(o,s||ne[0],a)}return o}function ie(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" "):H,a=n.class?n.class.split(" "):H,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var l=0;l<a.length;l++)-1==i.indexOf(a[l])&&e.classList.add(a[l])}if(t.style!=n.style){if(t.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style)}}function ae(e,t,n){return oe(e,e,ne,re(t,n,1!=e.nodeType))}function se(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function le(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var ce=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){for(var n=[],r=e.childCount,o=t.length-1;r>0&&o>=0;o--){var i=t[o],a=i.node;if(a){if(a!=e.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function ue(e,t){return e.type.side-t.type.side}function de(e,t,n,r,o){for(var i=[],a=0,s=0;a<e.length;a++){var l=e[a],c=s,u=s+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=null),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function pe(e,t){var n=e.root.getSelection(),o=e.state.doc;if(!n.focusNode)return null;var i=e.docView.nearestDesc(n.focusNode),a=i&&0==i.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var l,c,u=o.resolve(s);if(_(n)){for(l=u;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&r.NodeSelection.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(e,t,n){for(var r=0==t,o=t==b(e);r||o;){if(e==n)return!0;var i=p(e);if(!(e=e.parentNode))return!1;r=r&&0==i,o=o&&i==b(e)}}(n.focusNode,n.focusOffset,i.dom))){var d=i.posBefore;c=new r.NodeSelection(s==d?u:o.resolve(d))}}else{var f=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(f<0)return null;l=o.resolve(f)}c||(c=we(e,l,u,"pointer"==t||e.state.selection.head<u.pos&&!a?1:-1));return c}function fe(e,t){var n=e.state.selection;if(ve(e,n),e.editable?e.hasFocus():_e(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,p(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&a.ie&&a.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var o,i,s=n.anchor,l=n.head;!he||n instanceof r.TextSelection||(n.$from.parent.inlineContent||(o=me(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=me(e,n.to))),e.docView.setSelection(s,l,e.root,t),he&&(o&&ye(o),i&&ye(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}ce.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},ce.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},ce.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},ce.prototype.syncToMarks=function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[o])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=G.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}},ce.prototype.findNodeMatch=function(e,t,n,r){var o=-1,i=r<0?void 0:this.getPreMatch(r),a=this.top.children;if(i&&i.matchesNode(e,t,n))o=a.indexOf(i);else for(var s=this.index,l=Math.min(a.length,s+5);s<l;s++){var c=a[s];if(c.matchesNode(e,t,n)&&this.preMatched.indexOf(c)<0){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},ce.prototype.updateNextNode=function(e,t,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof J){var s=this.preMatched.indexOf(a);if(s>-1&&s+this.preMatchOffset!=o)return!1;var l=a.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&se(t,a.outerDeco)))&&a.update(e,t,n,r))return this.destroyBetween(this.index,i),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},ce.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,J.create(this.top,e,t,n,r,o)),this.changed=!0},ce.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new W(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},ce.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof G;)e=e.children[e.children.length-1];if(!e||!(e instanceof Y)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new Q(this.top,H,t,null)),this.changed=!0}};var he=a.safari||a.chrome&&a.chrome_version<63;function me(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if(a.safari&&i&&"false"==i.contentEditable)return ge(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return ge(i);if(s)return ge(s)}}function ge(e){return e.contentEditable="true",a.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function ye(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ve(e,t){if(t instanceof r.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(be(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else be(e)}function be(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function we(e,t,n,o){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||r.TextSelection.between(t,n,o)}function _e(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function ke(e,t){var n=e.selection,o=n.$anchor,i=n.$head,a=t>0?o.max(i):o.min(i),s=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return s&&r.Selection.findFrom(s,t)}function xe(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Se(e,t,n){var o=e.state.selection;if(!(o instanceof r.TextSelection)){if(o instanceof r.NodeSelection&&o.node.isInline)return xe(e,new r.TextSelection(t>0?o.$to:o.$from));var i=ke(e.state,t);return!!i&&xe(e,i)}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var s=ke(e.state,t);return!!(s&&s instanceof r.NodeSelection)&&xe(e,s)}if(!(a.mac&&n.indexOf("m")>-1)){var l,c=o.$head,u=c.textOffset?null:t<0?c.nodeBefore:c.nodeAfter;if(!u||u.isText)return!1;var d=t<0?c.pos-u.nodeSize:c.pos;return!!(u.isAtom||(l=e.docView.descAt(d))&&!l.contentDOM)&&(r.NodeSelection.isSelectable(u)?xe(e,new r.NodeSelection(t<0?e.state.doc.resolve(c.pos-u.nodeSize):c)):!!a.webkit&&xe(e,new r.TextSelection(e.state.doc.resolve(t<0?d:d+u.nodeSize))))}}function Me(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ce(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function ze(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,s=!1;for(a.gecko&&1==n.nodeType&&r<Me(n)&&Ce(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var l=n.childNodes[r-1];if(Ce(l))o=n,i=--r;else{if(3!=l.nodeType)break;r=(n=l).nodeValue.length}}else{if(Ee(n))break;for(var c=n.previousSibling;c&&Ce(c);)o=n.parentNode,i=p(c),c=c.previousSibling;if(c)r=Me(n=c);else{if((n=n.parentNode)==e.dom)break;r=0}}s?Le(e,t,n,r):o&&Le(e,t,o,i)}}function Oe(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=Me(n);;)if(r<a){if(1!=n.nodeType)break;if(!Ce(n.childNodes[r]))break;o=n,i=++r}else{if(Ee(n))break;for(var s=n.nextSibling;s&&Ce(s);)o=s.parentNode,i=p(s)+1,s=s.nextSibling;if(s)r=0,a=Me(n=s);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&Le(e,t,o,i)}}function Ee(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Le(e,t,n,r){if(_(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&fe(e)}),50)}function Ae(e,t,n){var o=e.state.selection;if(o instanceof r.TextSelection&&!o.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var i=o.$from,s=o.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var l=ke(e.state,t);if(l&&l instanceof r.NodeSelection)return xe(e,l)}if(!i.parent.inlineContent){var c=r.Selection.findFrom(t<0?i:s,t);return!c||xe(e,c)}return!1}function Te(e,t){if(!(e.state.selection instanceof r.TextSelection))return!0;var n=e.state.selection,o=n.$head,i=n.$anchor,a=n.empty;if(!o.sameParent(i))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!o.textOffset&&(t<0?o.nodeBefore:o.nodeAfter);if(s&&!s.isText){var l=e.state.tr;return t<0?l.delete(o.pos-s.nodeSize,o.pos):l.delete(o.pos,o.pos+s.nodeSize),e.dispatch(l),!0}return!1}function Ne(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function De(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||a.mac&&72==n&&"c"==r?Te(e,-1)||ze(e):46==n||a.mac&&68==n&&"c"==r?Te(e,1)||Oe(e):13==n||27==n||(37==n?Se(e,-1,r)||ze(e):39==n?Se(e,1,r)||Oe(e):38==n?Ae(e,-1,r)||ze(e):40==n?function(e){if(a.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Ne(e,o,!0),setTimeout((function(){return Ne(e,o,!1)}),20)}}}(e)||Ae(e,1,r)||Oe(e):r==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Pe(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(a.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||a.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function $e(e,t,n,i,s){if(t<0){var l=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,c=pe(e,l);if(c&&!e.state.selection.eq(c)){var u=e.state.tr.setSelection(c);"pointer"==l?u.setMeta("pointer",!0):"key"==l&&u.scrollIntoView(),e.dispatch(u)}}else{var d=e.state.doc.resolve(t),p=d.sharedDepth(n);t=d.before(p+1),n=e.state.doc.resolve(n).after(p+1);var f,h,m=e.state.selection,g=function(e,t,n){var r=e.docView.parseRange(t,n),i=r.node,s=r.fromOffset,l=r.toOffset,c=r.from,u=r.to,d=e.root.getSelection(),p=null,f=d.anchorNode;if(f&&e.dom.contains(1==f.nodeType?f:f.parentNode)&&(p=[{node:f,offset:d.anchorOffset}],_(d)||p.push({node:d.focusNode,offset:d.focusOffset})),a.chrome&&8===e.lastKeyCode)for(var h=l;h>s;h--){var m=i.childNodes[h-1],g=m.pmViewDesc;if("BR"==m.nodeType&&!g){l=h;break}if(!g||g.size)break}var y=e.state.doc,v=e.someProp("domParser")||o.DOMParser.fromSchema(e.state.schema),b=y.resolve(c),w=null,k=v.parse(i,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:l,preserveWhitespace:!b.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:Pe,context:b});if(p&&null!=p[0].pos){var x=p[0].pos,S=p[1]&&p[1].pos;null==S&&(S=x),w={anchor:x+c,head:S+c}}return{doc:k,sel:w,from:c,to:u}}(e,t,n),y=e.state.doc,v=y.slice(g.from,g.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.lastKeyCode=null;var b=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,l=a.b;if("end"==o){var c=Math.max(0,i-Math.min(s,l));r-=s+c-i}if(s<i&&e.size<t.size){l=(i-=r<=i&&r>=s?i-r:0)+(l-s),s=i}else if(l<i){s=(i-=r<=i&&r>=l?i-r:0)+(s-l),l=i}return{start:i,endA:s,endB:l}}(v.content,g.doc.content,g.from,f,h);if(!b){if(!(i&&m instanceof r.TextSelection&&!m.empty&&m.$head.sameParent(m.$anchor))||e.composing||g.sel&&g.sel.anchor!=g.sel.head){if(g.sel){var w=Re(e,e.state.doc,g.sel);w&&!w.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(w))}return}b={start:m.from,endA:m.to,endB:m.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof r.TextSelection&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),a.ie&&a.ie_version<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>g.from&&"  "==g.doc.textBetween(b.start-g.from-1,b.start-g.from+1)&&(b.start--,b.endA--,b.endB--);var x,S=g.doc.resolveNoCache(b.start-g.from),M=g.doc.resolveNoCache(b.endB-g.from),C=S.sameParent(M)&&S.parent.inlineContent;if((a.ios&&e.lastIOSEnter>Date.now()-225&&(!C||s.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!C&&S.pos<g.doc.content.size&&(x=r.Selection.findFrom(g.doc.resolve(S.pos+1),1,!0))&&x.head==M.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,k(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>b.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||Ie(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Ie(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||Ie(a,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(y,b.start,b.endA,S,M)&&e.someProp("handleKeyDown",(function(t){return t(e,k(8,"Backspace"))})))a.android&&a.chrome&&e.domObserver.suppressSelectionUpdates();else{a.android&&!C&&S.start()!=M.start()&&0==M.parentOffset&&S.depth==M.depth&&g.sel&&g.sel.anchor==g.sel.head&&g.sel.head==b.endA&&(b.endB-=2,M=g.doc.resolveNoCache(b.endB-g.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,k(13,"Enter"))}))}),20));var z,O,E,L,A=b.start,T=b.endA;if(C)if(S.pos==M.pos)a.ie&&a.ie_version<=11&&0==S.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return fe(e)}),20)),z=e.state.tr.delete(A,T),O=y.resolve(b.start).marksAcross(y.resolve(b.endA));else if(b.endA==b.endB&&(L=y.resolve(b.start))&&(E=function(e,t){for(var n,r,i,a=e.firstChild.marks,s=t.firstChild.marks,l=a,c=s,u=0;u<s.length;u++)l=s[u].removeFromSet(l);for(var d=0;d<a.length;d++)c=a[d].removeFromSet(c);if(1==l.length&&0==c.length)r=l[0],n="add",i=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=l.length||1!=c.length)return null;r=c[0],n="remove",i=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var p=[],f=0;f<t.childCount;f++)p.push(i(t.child(f)));if(o.Fragment.from(p).eq(e))return{mark:r,type:n}}(S.parent.content.cut(S.parentOffset,M.parentOffset),L.parent.content.cut(L.parentOffset,b.endA-L.start()))))z=e.state.tr,"add"==E.type?z.addMark(A,T,E.mark):z.removeMark(A,T,E.mark);else if(S.parent.child(S.index()).isText&&S.index()==M.index()-(M.textOffset?0:1)){var N=S.parent.textBetween(S.parentOffset,M.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,A,T,N)})))return;z=e.state.tr.insertText(N,A,T)}if(z||(z=e.state.tr.replace(A,T,g.doc.slice(b.start-g.from,b.endB-g.from))),g.sel){var D=Re(e,z.doc,g.sel);D&&!(a.chrome&&a.android&&e.composing&&D.empty&&(D.head==A||D.head==z.mapping.map(T)-1)||a.ie&&D.empty&&D.head==A)&&z.setSelection(D)}O&&z.ensureMarks(O),e.dispatch(z.scrollIntoView())}}}function Re(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:we(e,t.resolve(n.anchor),t.resolve(n.head))}function Ie(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function Fe(e,t){for(var n=[],r=t.content,i=t.openStart,a=t.openEnd;i>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,a--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var l=e.someProp("clipboardSerializer")||o.DOMSerializer.fromSchema(e.state.schema),c=Ue(),u=c.createElement("div");u.appendChild(l.serializeFragment(r,{document:c}));for(var d,p=u.firstChild;p&&1==p.nodeType&&(d=Ke[p.nodeName.toLowerCase()]);){for(var f=d.length-1;f>=0;f--){for(var h=c.createElement(d[f]);u.firstChild;)h.appendChild(u.firstChild);u.appendChild(h)}p=u.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",i+" "+a+" "+JSON.stringify(n)),{dom:u,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function qe(e,t,n,r,i){var a,s,l=i.parent.type.spec.code;if(!n&&!t)return null;var c=t&&(r||l||!n);if(c){if(e.someProp("transformPastedText",(function(e){t=e(t,l||r)})),l)return new o.Slice(o.Fragment.from(e.state.schema.text(t)),0,0);var u=e.someProp("clipboardTextParser",(function(e){return e(t,i,r)}));u?s=u:(a=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){a.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),a=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=Ue().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),i=0;(n=o&&Ke[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""),i=n.length);r.innerHTML=e;for(var a=0;a<i;a++)r=r.firstChild;return r}(n);var d=a&&a.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!s){var f=e.someProp("clipboardParser")||e.someProp("domParser")||o.DOMParser.fromSchema(e.state.schema);s=f.parseSlice(a,{preserveWhitespace:!(!c&&!p),context:i})}return s=p?function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var i=e.content,a=e.openStart,s=e.openEnd,l=n.length-2;l>=0;l-=2){var c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;i=o.Fragment.from(c.create(n[l+1],i)),a++,s++}return new o.Slice(i,a,s)}(function(e,t,n){t<e.openStart&&(e=new o.Slice(Be(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd));n<e.openEnd&&(e=new o.Slice(Be(e.content,1,n,e.openEnd,0,0),e.openStart,n));return e}(s,+p[1],+p[2]),p[3]):o.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n).contentMatchAt(t.index(n)),i=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=r.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&i.length&&function e(t,n,r,i,a){if(a<t.length&&a<n.length&&t[a]==n[a]){var s=e(t,n,r,i.lastChild,a+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(a==t.length-1?r.type:t[a+1]))return i.copy(i.content.append(o.Fragment.from(je(r,t,a+1))))}}(n,i,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=function e(t,n){if(0==n)return t;var r=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),i=t.contentMatchAt(t.childCount).fillBefore(o.Fragment.empty,!0);return t.copy(r.append(i))}(a[a.length-1],i.length));var s=je(e,n);a.push(s),r=r.matchType(s.type,s.attrs),i=n}}})),a)return{v:o.Fragment.from(a)}},r=t.depth;r>=0;r--){var i=n(r);if(i)return i.v}return e}(s.content,i),!1),e.someProp("transformPasted",(function(e){s=e(s)})),s}function je(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,o.Fragment.from(e));return e}function Be(e,t,n,r,i,a){var s=t<0?e.firstChild:e.lastChild,l=s.content;return i<r-1&&(l=Be(l,t,n,r,i+1,a)),i>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,e.childCount>1||a<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(o.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}var Ke={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Ve=null;function Ue(){return Ve||(Ve=document.implementation.createHTMLDocument("title"))}var He={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},We=a.ie&&a.ie_version<=11,Xe=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Xe.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Xe.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Ge=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);a.ie&&a.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Xe,We&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Ge.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Ge.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Ge.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,He),We&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Ge.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}We&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Ge.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Ge.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Ge.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Ge.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&_e(e)){var e;if(this.suppressingSelectionUpdates)return fe(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&g(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Ge.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Ge.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Ge.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&_e(this.view)&&!this.ignoreSelectionChange(t),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(var l=0;l<e.length;l++){var c=this.registerMutation(e[l],s);c&&(r=r<0?c.from:Math.min(c.from,r),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(i=!0))}if(a.gecko&&s.length>1){var u=s.filter((function(e){return"BR"==e.nodeName}));if(2==u.length){var d=u[0],p=u[1];d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(e){if(Je)return;Je=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||fe(this.view))}},Ge.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){var r=e.previousSibling,o=e.nextSibling;if(a.ie&&a.ie_version<=11&&e.addedNodes.length)for(var i=0;i<e.addedNodes.length;i++){var s=e.addedNodes[i],l=s.previousSibling,c=s.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(r=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(o=c)}for(var u=r&&r.parentNode==e.target?p(r)+1:0,d=n.localPosFromDOM(e.target,u,-1),f=o&&o.parentNode==e.target?p(o):e.target.childNodes.length,h=0;h<e.addedNodes.length;h++)t.push(e.addedNodes[h]);return{from:d,to:n.localPosFromDOM(e.target,f,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Je=!1;var Ze={},Ye={};function Qe(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function et(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return tt(e,t)})}))}function tt(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function nt(e){return{left:e.clientX,top:e.clientY}}function rt(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,(function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var l=a(s);if(l)return l.v}return!1}function ot(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function it(e,t,n,o,i){return rt(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(function(n){return n(e,t,o)}))||(i?function(e,t){if(-1==t)return!1;var n,o,i=e.state.selection;i instanceof r.NodeSelection&&(n=i.node);for(var a=e.state.doc.resolve(t),s=a.depth+1;s>0;s--){var l=s>a.depth?a.nodeAfter:a.node(s);if(r.NodeSelection.isSelectable(l)){o=n&&i.$from.depth>0&&s>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?a.before(i.$from.depth):a.before(s);break}}return null!=o&&(ot(e,r.NodeSelection.create(e.state.doc,o),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&r.NodeSelection.isSelectable(o))&&(ot(e,new r.NodeSelection(n),"pointer"),!0)}(e,n))}function at(e,t,n,r){return rt(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function st(e,t,n,o){return rt(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(function(n){return n(e,t,o)}))||function(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&(ot(e,r.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var o=n.resolve(t),i=o.depth+1;i>0;i--){var a=i>o.depth?o.nodeAfter:o.node(i),s=o.before(i);if(a.inlineContent)ot(e,r.TextSelection.create(n,s+1,s+1+a.content.size),"pointer");else{if(!r.NodeSelection.isSelectable(a))continue;ot(e,r.NodeSelection.create(n,s),"pointer")}return!0}}(e,n)}function lt(e){return mt(e)}Ye.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!dt(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!a.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||De(e,t)?t.preventDefault():Qe(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,k(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},Ye.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Ye.keypress=function(e,t){if(!(dt(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||a.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof r.TextSelection&&n.$from.sameParent(n.$to))){var o=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}}};var ct=a.mac?"metaKey":"ctrlKey";Ze.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=lt(e),r=Date.now(),o="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[ct]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(nt(t));i&&("singleClick"==o?e.mouseDown=new ut(e,i,t,n):("doubleClick"==o?at:st)(e,i.pos,i.inside,t)?t.preventDefault():Qe(e,"pointer"))};var ut=function(e,t,n,o){var i,s,l=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=o,this.selectNode=n[ct],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),s=t.inside;else{var c=e.state.doc.resolve(t.pos);i=c.parent,s=c.depth?c.before():0}this.mightDrag=null;var u=o?null:n.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d?d.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||e.state.selection instanceof r.NodeSelection&&s==e.state.selection.from)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return l.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Qe(e,"pointer")};function dt(e,t){return!!e.composing||!!(a.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}ut.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},ut.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(nt(e))),this.allowDefault||!t?Qe(this.view,"pointer"):it(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof r.TextSelection)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(ot(this.view,r.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Qe(this.view,"pointer")}},ut.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Qe(this.view,"pointer")},Ze.touchdown=function(e){lt(e),Qe(e,"pointer")},Ze.contextmenu=function(e){return lt(e)};var pt=a.android?5e3:-1;function ft(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return mt(e)}),t))}function ht(e){for(e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function mt(e,t){if(e.domObserver.forceFlush(),ht(e),t||e.docView.dirty){var n=pe(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}Ye.compositionstart=Ye.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),mt(e,!0),e.markCursor=null;else if(mt(e),a.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}o=s,i=-1}e.composing=!0}ft(e,pt)},Ye.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,ft(e,20))};var gt=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function yt(e,t,n,r){var i=qe(e,t,n,e.shiftKey,e.state.selection.$from);if(!e.someProp("handlePaste",(function(t){return t(e,r,i||o.Slice.empty)}))&&i){var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=a?e.state.tr.replaceSelectionWith(a,e.shiftKey):e.state.tr.replaceSelection(i);e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}Ze.copy=Ye.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=gt?null:t.clipboardData,i=Fe(e,n.content()),a=i.dom,s=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Ye.paste=function(e,t){var n=gt?null:t.clipboardData,r=n&&n.getData("text/html"),o=n&&n.getData("text/plain");n&&(r||o||n.files.length)?(yt(e,o,r,t),t.preventDefault()):function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?yt(e,r.value,null,t):yt(e,r.textContent,r.innerHTML,t)}),50)}}(e,t)};var vt=function(e,t){this.slice=e,this.move=t},bt=a.mac?"altKey":"ctrlKey";for(var wt in Ze.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var o=e.state.selection,i=o.empty?null:e.posAtCoords(nt(t));if(i&&i.pos>=o.from&&i.pos<=(o instanceof r.NodeSelection?o.to-1:o.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var a=e.docView.nearestDesc(t.target,!0);if(!a||!a.node.type.spec.draggable||a==e.docView)return;e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,a.posBefore)))}var s=e.state.selection.content(),l=Fe(e,s),c=l.dom,u=l.text;t.dataTransfer.clearData(),t.dataTransfer.setData(gt?"Text":"text/html",c.innerHTML),gt||t.dataTransfer.setData("text/plain",u),e.dragging=new vt(s,!t[bt])}},Ze.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},Ye.dragover=Ye.dragenter=function(e,t){return t.preventDefault()},Ye.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var a=e.posAtCoords(nt(t));if(a){var s=e.state.doc.resolve(a.pos);if(s){var l=n&&n.slice||qe(e,t.dataTransfer.getData(gt?"Text":"text/plain"),gt?null:t.dataTransfer.getData("text/html"),!1,s),c=n&&!t[bt];if(e.someProp("handleDrop",(function(n){return n(e,t,l||o.Slice.empty,c)})))t.preventDefault();else if(l){t.preventDefault();var u=l?Object(i.i)(e.state.doc,s.pos,l):s.pos;null==u&&(u=s.pos);var d=e.state.tr;c&&d.deleteSelection();var p=d.mapping.map(u),f=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,h=d.doc;if(f?d.replaceRangeWith(p,p,l.content.firstChild):d.replaceRange(p,p,l),!d.doc.eq(h)){var m=d.doc.resolve(p);if(f&&r.NodeSelection.isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new r.NodeSelection(m));else{var g=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((function(e,t,n,r){return g=r})),d.setSelection(we(e,m,d.doc.resolve(g)))}e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))}}}}}},Ze.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&fe(e)}),20))},Ze.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Ze.beforeinput=function(e,t){if(a.chrome&&a.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,k(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Ye)Ze[wt]=Ye[wt];function _t(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var kt=function(e,t){this.spec=t||Ot,this.side=this.spec.side||0,this.toDOM=e};kt.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new Mt(i-n,i-n,this)},kt.prototype.valid=function(){return!0},kt.prototype.eq=function(e){return this==e||e instanceof kt&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&_t(this.spec,e.spec))};var xt=function(e,t){this.spec=t||Ot,this.attrs=e};xt.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Mt(o,i,this)},xt.prototype.valid=function(e,t){return t.from<t.to},xt.prototype.eq=function(e){return this==e||e instanceof xt&&_t(this.attrs,e.attrs)&&_t(this.spec,e.spec)},xt.is=function(e){return e.type instanceof xt};var St=function(e,t){this.spec=t||Ot,this.attrs=e};St.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Mt(o.pos-n,i.pos-n,this)},St.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),r=n.index,o=n.offset;return o==t.from&&o+e.child(r).nodeSize==t.to},St.prototype.eq=function(e){return this==e||e instanceof St&&_t(this.attrs,e.attrs)&&_t(this.spec,e.spec)};var Mt=function(e,t,n){this.from=e,this.to=t,this.type=n},Ct={spec:{configurable:!0},inline:{configurable:!0}};Mt.prototype.copy=function(e,t){return new Mt(e,t,this.type)},Mt.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Mt.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},Mt.widget=function(e,t,n){return new Mt(e,e,new kt(t,n))},Mt.inline=function(e,t,n,r){return new Mt(e,t,new xt(n,r))},Mt.node=function(e,t,n,r){return new Mt(e,t,new St(n,r))},Ct.spec.get=function(){return this.type.spec},Ct.inline.get=function(){return this.type instanceof xt},Object.defineProperties(Mt.prototype,Ct);var zt=[],Ot={},Et=function(e,t){this.local=e&&e.length?e:zt,this.children=t&&t.length?t:zt};Et.create=function(e,t){return t.length?Pt(t,e,0,Ot):Lt},Et.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},Et.prototype.findInner=function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var l=this.children[s]+1;this.children[s+2].findInner(e-l,t-l,n,r+l,o)}},Et.prototype.map=function(e,t,n){return this==Lt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Ot)},Et.prototype.mapInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){for(var s=e.slice(),l=function(e,t,n,r){for(var a=0;a<s.length;a+=3){var l=s[a+1],c=void 0;-1==l||e>l+i||(t>=s[a]+i?s[a+1]=-1:n>=o&&(c=r-n-(t-e))&&(s[a]+=c,s[a+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,d=0;d<s.length;d+=3)if(-1==s[d+1]){var p=n.map(e[d]+i),f=p-o;if(f<0||f>=r.content.size){u=!0;continue}var h=n.map(e[d+1]+i,-1)-o,m=r.content.findIndex(f),g=m.index,y=m.offset,v=r.maybeChild(g);if(v&&y==f&&y+v.nodeSize==h){var b=s[d+2].mapInner(n,v,p+1,e[d]+i+1,a);b!=Lt?(s[d]=f,s[d+1]=h,s[d+2]=b):(s[d+1]=-2,u=!0)}else u=!0}if(u){var w=Pt(function(e,t,n,r,o,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var l=e.local[i].map(r,o,t);l?n.push(l):a.onRemove&&a.onRemove(e.local[i].spec)}for(var c=0;c<e.children.length;c+=3)s(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+i+1);return n}(s,e,t||[],n,o,i,a),r,0,a);t=w.local;for(var _=0;_<s.length;_+=3)s[_+1]<0&&(s.splice(_,3),_-=3);for(var k=0,x=0;k<w.children.length;k+=3){for(var S=w.children[k];x<s.length&&s[x]<S;)x+=3;s.splice(x,0,w.children[k],w.children[k+1],w.children[k+2])}}return new Et(t&&t.sort($t),s)}(this.children,i,e,t,n,r,o):i?new Et(i.sort($t)):Lt},Et.prototype.add=function(e,t){return t.length?this==Lt?Et.create(e,t):this.addInner(e,t,0):this},Et.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach((function(e,a){var s,l=a+n;if(s=Nt(t,e,l)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,s,l+1):r.splice(i,0,a,a+e.nodeSize,Pt(s,e,l+1,Ot)),i+=3}}));var a=Tt(i?Dt(t):t,-n);return new Et(a.length?this.local.concat(a).sort($t):this.local,r||this.children)},Et.prototype.remove=function(e){return 0==e.length||this==Lt?this:this.removeInner(e,0)},Et.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,s=n[o+1]+t,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>a&&c.to<s&&(e[l]=null,(i||(i=[])).push(c));if(i){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(i,a+1);u!=Lt?n[o+2]=u:(n.splice(o,3),o-=3)}}if(r.length)for(var d=0,p=void 0;d<e.length;d++)if(p=e[d])for(var f=0;f<r.length;f++)r[f].eq(p,t)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Et(r,n):Lt},Et.prototype.forChild=function(e,t){if(this==Lt)return this;if(t.isLeaf)return Et.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,a=i+t.content.size,s=0;s<this.local.length;s++){var l=this.local[s];if(l.from<a&&l.to>i&&l.type instanceof xt){var c=Math.max(i,l.from)-i,u=Math.min(a,l.to)-i;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){var d=new Et(r.sort($t));return n?new At([d,n]):d}return n||Lt},Et.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Et)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Et.prototype.locals=function(e){return Rt(this.localsInner(e))},Et.prototype.localsInner=function(e){if(this==Lt)return zt;if(e.inlineContent||!this.local.some(xt.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof xt||t.push(this.local[n]);return t};var Lt=new Et;Et.empty=Lt,Et.removeOverlap=Rt;var At=function(e){this.members=e};function Tt(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new Mt(o.from+t,o.to+t,o.type))}return n}function Nt(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function Dt(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Pt(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var s=Nt(e,t,a+n);if(s){i=!0;var l=Pt(s,t,n+a+1,r);l!=Lt&&o.push(a,a+t.nodeSize,l)}}));for(var a=Tt(i?Dt(e):e,-n).sort($t),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new Et(a,o):Lt}function $t(e,t){return e.from-t.from||e.to-t.to}function Rt(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),It(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),It(t,o+1,i.copy(r.to,i.to)))}}return t}function It(e,t,n){for(;t<e.length&&$t(n,e[t])>0;)t++;e.splice(t,0,n)}function Ft(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=Lt&&t.push(r)})),e.cursorWrapper&&t.push(Et.create(e.state.doc,[e.cursorWrapper.deco])),At.from(t)}At.prototype.forChild=function(e,t){if(t.isLeaf)return Et.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(e,t);o!=Lt&&(o instanceof At?n=n.concat(o.members):n.push(o))}return At.from(n)},At.prototype.eq=function(e){if(!(e instanceof At)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},At.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?Rt(n?t:t.sort($t)):zt},At.from=function(e){switch(e.length){case 0:return Lt;case 1:return e[0];default:return new At(e)}};var qt=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Vt(this),this.markCursor=null,this.cursorWrapper=null,Kt(this),this.nodeViews=Ut(this),this.docView=Z(this.state.doc,Bt(this),Ft(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Ge(e,(function(t,n,r,o){return $e(e,t,n,r,o)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Ze[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||tt(e,t)||!e.editable&&t.type in Ye||n(e,t)})};for(var n in Ze)t(n);a.safari&&e.dom.addEventListener("input",(function(){return null})),et(e)}(this),this.pluginViews=[],this.updatePluginViews()},jt={props:{configurable:!0},root:{configurable:!0}};function Bt(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[Mt.node(0,e.state.doc.content.size,t)]}function Kt(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:Mt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Vt(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Ut(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}jt.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},qt.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&et(this),this._props=e,this.updateStateInner(e.state,!0)},qt.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},qt.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},qt.prototype.updateStateInner=function(e,t){var n=this,o=this.state,i=!1,s=!1;if(e.storedMarks&&this.composing&&(ht(this),s=!0),this.state=e,t){var l=Ut(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(l,this.nodeViews)&&(this.nodeViews=l,i=!0),et(this)}this.editable=Vt(this),Kt(this);var c=Ft(this),u=Bt(this),d=t?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(e.doc,u,c);!p&&e.selection.eq(o.selection)||(s=!0);var f,h,m,y,v,b,w,_,k,x,S,M="preserve"==d&&s&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=e.root.elementFromPoint(i,a);if(s!=e.dom&&e.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=o-20){t=s,n=l.top;break}}}return{refDOM:t,refTop:n,stack:z(e.dom)}}(this);if(s){this.domObserver.stop();var E=p&&(a.ie||a.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&(y=o.selection,v=e.selection,b=Math.min(y.$anchor.sharedDepth(y.head),v.$anchor.sharedDepth(v.head)),y.$anchor.start(b)!=v.$anchor.start(b));if(p){var L=a.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(e.doc,u,c,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Z(e.doc,u,c,this.dom,this)),L&&!this.trackWrites&&(E=!0)}E||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(f=this,h=f.docView.domFromPos(f.state.selection.anchor),m=f.root.getSelection(),g(h.node,h.offset,m.anchorNode,m.anchorOffset)))?fe(this,E):(ve(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==d)this.dom.scrollTop=0;else if("to selection"==d){var A=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof r.NodeSelection?C(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),A):C(this,this.coordsAtPos(e.selection.head,1),A))}else M&&(_=(w=M).refDOM,k=w.refTop,x=w.stack,S=_?_.getBoundingClientRect().top:0,O(x,0==S?0:S-k))},qt.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},qt.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},qt.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var a=o[i].props[e];if(null!=a&&(n=t?t(a):a))return n}},qt.prototype.hasFocus=function(){return this.root.activeElement==this.dom},qt.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(E)return e.focus(E);var t=z(e);e.focus(null==E?{get preventScroll(){return E={preventScroll:!0},!0}}:void 0),E||(E=!1,O(t,0))}(this.dom),fe(this),this.domObserver.start()},jt.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},qt.prototype.posAtCoords=function(e){return T(this,e)},qt.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),P(this,e,t)},qt.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},qt.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},qt.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},qt.prototype.endOfTextblock=function(e,t){return K(this,t||this.state,e)},qt.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ft(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},qt.prototype.dispatchEvent=function(e){return function(e,t){tt(e,t)||!Ze[t.type]||!e.editable&&t.type in Ye||Ze[t.type](e,t)}(this,e)},qt.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(qt.prototype,jt)},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(27)},function(e,t,n){"use strict";var r=n(30),o=n(33),i=[].slice,a=["keyword","gray","hex"],s={};Object.keys(o).forEach((function(e){s[i.call(o[e].labels).sort().join("")]=e}));var l={};function c(e,t){if(!(this instanceof c))return new c(e,t);if(t&&t in a&&(t=null),t&&!(t in o))throw new Error("Unknown model: "+t);var n,u;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof c)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=r.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,u=o[this.model].channels,this.color=d.value.slice(0,u),this.valpha="number"==typeof d.value[u]?d.value[u]:1}else if(e.length){this.model=t||"rgb",u=o[this.model].channels;var p=i.call(e,0,u);this.color=f(p,u),this.valpha="number"==typeof e[u]?e[u]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var h=Object.keys(e);"alpha"in e&&(h.splice(h.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var m=h.sort().join("");if(!(m in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[m];var g=o[this.model].labels,y=[];for(n=0;n<g.length;n++)y.push(e[g[n]]);this.color=f(y)}if(l[this.model])for(u=o[this.model].channels,n=0;n<u;n++){var v=l[this.model][n];v&&(this.color[n]=v(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function u(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(l[e]||(l[e]=[]))[t]=n})),e=e[0],function(r){var o;return arguments.length?(n&&(r=n(r)),(o=this[e]()).color[t]=r,o):(o=this[e]().color[t],n&&(o=n(o)),o)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function p(e){return Array.isArray(e)?e:[e]}function f(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}c.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=o[this.model].channels,n=o[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new c(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new c(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:u("rgb",0,d(255)),green:u("rgb",1,d(255)),blue:u("rgb",2,d(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:u("hsl",1,d(100)),lightness:u("hsl",2,d(100)),saturationv:u("hsv",1,d(100)),value:u("hsv",2,d(100)),chroma:u("hcg",1,d(100)),gray:u("hcg",2,d(100)),white:u("hwb",1,d(100)),wblack:u("hwb",2,d(100)),cyan:u("cmyk",0,d(100)),magenta:u("cmyk",1,d(100)),yellow:u("cmyk",2,d(100)),black:u("cmyk",3,d(100)),x:u("xyz",0,d(100)),y:u("xyz",1,d(100)),z:u("xyz",2,d(100)),l:u("lab",0,d(100)),a:u("lab",1),b:u("lab",2),keyword:function(e){return arguments.length?new c(e):o[this.model].keyword(this.color)},hex:function(e){return arguments.length?new c(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return c.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),o=void 0===t?.5:t,i=2*o-1,a=n.alpha()-r.alpha(),s=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,l=1-s;return c.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue(),n.alpha()*o+r.alpha()*(1-o))}},Object.keys(o).forEach((function(e){if(-1===a.indexOf(e)){var t=o[e].channels;c.prototype[e]=function(){if(this.model===e)return new c(this);if(arguments.length)return new c(arguments,e);var n="number"==typeof arguments[t]?t:this.valpha;return new c(p(o[this.model][e].raw(this.color)).concat(n),e)},c[e]=function(n){return"number"==typeof n&&(n=f(i.call(arguments),t)),new c(n,e)}}})),e.exports=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=i&&(l||+i[1]<57)||s&&l,d=0;d<10;d++)r[48+d]=r[96+d]=String(d);for(d=1;d<=24;d++)r[d+111]="F"+d;for(d=65;d<=90;d++)r[d]=String.fromCharCode(d+32),o[d]=String.fromCharCode(d);for(var p in r)o.hasOwnProperty(p)||(o[p]=r[p]);var f=n(1),h="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function m(e){var t,n,r,o,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(var s=0;s<i.length-1;s++){var l=i[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);h?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function g(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function y(e){return new f.Plugin({props:{handleKeyDown:v(e)}})}function v(e){var t=function(e){var t=Object.create(null);for(var n in e)t[m(n)]=e[n];return t}(e);return function(e,n){var i,s=function(e){var t=!(u&&(e.ctrlKey||e.altKey||e.metaKey)||(a||c)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?o:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),l=1==s.length&&" "!=s,d=t[g(s,n,!l)];if(d&&d(e.state,e.dispatch,e))return!0;if(l&&(n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(i=r[n.keyCode])&&i!=s){var p=t[g(i,n,!0)];if(p&&p(e.state,e.dispatch,e))return!0}else if(l&&n.shiftKey){var f=t[g(s,n,!0)];if(f&&f(e.state,e.dispatch,e))return!0}return!1}}},,function(e,t,n){"use strict";var r=n(37),o=n(39);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){o.isString(e)&&(e=b(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(40);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=l.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var k=(_=_[0]).toLowerCase();this.protocol=k,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===b.substr(0,2);!x||_&&g[_]||(b=b.substr(2),this.slashes=!0)}if(!g[_]&&(x||_&&!y[_])){for(var S,M,C=-1,z=0;z<p.length;z++){-1!==(O=b.indexOf(p[z]))&&(-1===C||O<C)&&(C=O)}-1!==(M=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(S=b.slice(0,M),b=b.slice(M+1),this.auth=decodeURIComponent(S)),C=-1;for(z=0;z<d.length;z++){var O;-1!==(O=b.indexOf(d[z]))&&(-1===C||O<C)&&(C=O)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var L=this.hostname.split(/\./),A=(z=0,L.length);z<A;z++){var T=L[z];if(T&&!T.match(f)){for(var N="",D=0,P=T.length;D<P;D++)T.charCodeAt(D)>127?N+="x":N+=T[D];if(!N.match(f)){var $=L.slice(0,z),R=L.slice(z+1),I=T.match(h);I&&($.push(I[1]),R.unshift(I[2])),R.length&&(b="/"+R.join(".")+b),this.hostname=$.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+F,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[k])for(z=0,A=u.length;z<A;z++){var j=u[z];if(-1!==b.indexOf(j)){var B=encodeURIComponent(j);B===j&&(B=escape(j)),b=b.split(j).join(B)}}var K=b.indexOf("#");-1!==K&&(this.hash=b.substr(K),b=b.slice(0,K));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,V)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var U=this.search||"";this.path=F+U}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var f=d[p];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||b||n.host&&e.pathname,k=_,x=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),_=_&&(""===h[0]||""===x[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=h;else if(h.length)x||(x=[]),x.pop(),x=x.concat(h),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=x.shift(),(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift());return n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var M=x.slice(-1)[0],C=(n.host||e.host||x.length>1)&&("."===M||".."===M)||""===M,z=0,O=x.length;O>=0;O--)"."===(M=x[O])?x.splice(O,1):".."===M?(x.splice(O,1),z++):z&&(x.splice(O,1),z--);if(!_&&!k)for(;z--;z)x.unshift("..");!_||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),C&&"/"!==x.join("/").substr(-1)&&x.push("");var E,L=""===x[0]||x[0]&&"/"===x[0].charAt(0);S&&(n.hostname=n.host=L?"":x.length?x.shift():"",(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift()));return(_=_||n.host&&x.length)&&!L&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){e.exports=n(25)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))o.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)i.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){var r=n(16),o={};for(var i in r)r.hasOwnProperty(i)&&(o[r[i]]=i);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var l=a[s].channels,c=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:l}),Object.defineProperty(a[s],"labels",{value:c})}a.rgb.hsl=function(e){var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),l=s-a;return s===a?t=0:r===s?t=(o-i)/l:o===s?t=2+(i-r)/l:i===s&&(t=4+(r-o)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,o,i,a=e[0]/255,s=e[1]/255,l=e[2]/255,c=Math.max(a,s,l),u=c-Math.min(a,s,l),d=function(e){return(c-e)/6/u+.5};return 0===u?o=i=0:(i=u/c,t=d(a),n=d(s),r=d(l),a===c?o=r-n:s===c?o=1/3+t-r:l===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-o)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-o-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=o[e];if(t)return t;var n,i,a,s=1/0;for(var l in r)if(r.hasOwnProperty(l)){var c=r[l],u=(i=e,a=c,Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)+Math.pow(i[2]-a[2],2));u<s&&(s=u,n=l)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],o=t[2];return r/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},a.hsl.rgb=function(e){var t,n,r,o,i,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[i=255*l,i,i];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var c=0;c<3;c++)(r=a+1/3*-(c-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[c]=255*i;return o},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,o=n,i=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,o*=i<=1?i:2-i,[t,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,o=e[0],i=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-i)*a,n=i*s,[o,100*(n=(n/=(t=(2-i)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,o,i,a,s,l=e[0]/360,c=e[1]/100,u=e[2]/100,d=c+u;switch(d>1&&(c/=d,u/=d),r=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(r=1-r),o=c+r*((n=1-u)-c),t){default:case 6:case 0:i=n,a=o,s=c;break;case 1:i=o,a=n,s=c;break;case 2:i=c,a=n,s=o;break;case 3:i=c,a=o,s=n;break;case 4:i=o,a=c,s=n;break;case 5:i=n,a=c,s=o}return[255*i,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},a.xyz.rgb=function(e){var t,n,r,o=e[0]/100,i=e[1]/100,a=e[2]/100;return n=-.9689*o+1.8758*i+.0415*a,r=.0557*o+-.204*i+1.057*a,t=(t=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,o=e[0];t=e[1]/500+(n=(o+16)/116),r=n-e[2]/200;var i=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=i>.008856?i:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],o=e[2];return(t=360*Math.atan2(o,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+o*o),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],o=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(o=Math.round(o/50)))return 30;var i=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===o&&(i+=60),i},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255,i=Math.max(Math.max(n,r),o),a=Math.min(Math.min(n,r),o),s=i-a;return t=s<=0?0:i===n?(r-o)/s%6:i===r?2+(o-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,o=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(o=(n-.5*r)/(1-r)),[e[0],100*r,100*o]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var o,i=[0,0,0],a=t%1*6,s=a%1,l=1-s;switch(Math.floor(a)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return o=(1-n)*r,[255*(n*i[0]+o),255*(n*i[1]+o),255*(n*i[2]+o)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){e.exports=n(35)()},function(e,t,n){
//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//! © 2018 Angry Bytes and contributors. MIT licensed.
e.exports=function(){"use strict";var e=function(e,n){return t(e.slice(),n)};function t(e,t){"function"!=typeof t&&(t=function(e,t){return String(e).localeCompare(t)});var r=e.length;if(r<=1)return e;for(var o=new Array(r),i=1;i<r;i*=2){n(e,t,i,o);var a=e;e=o,o=a}return e}e.inplace=function(e,r){var o=t(e,r);return o!==e&&n(o,null,e.length,e),e};var n=function(e,t,n,r){var o,i,a,s,l,c=e.length,u=0,d=2*n;for(o=0;o<c;o+=d)for(a=(i=o+n)+n,i>c&&(i=c),a>c&&(a=c),s=o,l=i;;)if(s<i&&l<a)t(e[s],e[l])<=0?r[u++]=e[s++]:r[u++]=e[l++];else if(s<i)r[u++]=e[s++];else{if(!(l<a))break;r[u++]=e[l++]}};return e}()},function(e,t,n){"use strict";const r=n(43),o=n(44),i=n(45);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function l(e,t){return t.decode?o(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!o&&l(n,e).includes(e.arrayFormatSeparator);n=i?l(n,e):n;const a=o||i?n.split(e.arrayFormatSeparator).map(t=>l(t,e)):null===n?n:l(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){let[e,a]=i(t.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:l(a,t),n(l(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=d(n[e],t);else r[e]=d(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=u,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",o,"]"].join("")]:[...n,[s(t,e),"[",s(o,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}}(t),o={};for(const t of Object.keys(e))n(t)||(o[t]=e[t]);const i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map(n=>{const o=e[n];return void 0===o?"":null===o?s(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):s(n,t)+"="+s(o,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:p(u(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:l(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=c(e.url).split("?")[0]||"",o=t.extract(e.url),i=t.parse(o,{sort:!1}),a=Object.assign(i,e.query);let l=t.stringify(a,n);l&&(l="?"+l);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u="#"+s(e.fragmentIdentifier,n)),`${r}${l}${u}`}},function(e,t,n){var r;!function(){function o(e,t,n){return e.call.apply(e.bind,arguments)}function i(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function a(e,t,n){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:i).apply(null,arguments)}var s=Date.now||function(){return+new Date};function l(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var c=!!window.FontFace;function u(e,t,n,r){if(t=e.c.createElement(t),n)for(var o in n)n.hasOwnProperty(o)&&("style"==o?t.style.cssText=n[o]:t.setAttribute(o,n[o]));return r&&t.appendChild(e.c.createTextNode(r)),t}function d(e,t,n){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function f(e,t,n){t=t||[],n=n||[];for(var r=e.className.split(/\s+/),o=0;o<t.length;o+=1){for(var i=!1,a=0;a<r.length;a+=1)if(t[o]===r[a]){i=!0;break}i||r.push(t[o])}for(t=[],o=0;o<r.length;o+=1){for(i=!1,a=0;a<n.length;a+=1)if(r[o]===n[a]){i=!0;break}i||t.push(r[o])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function h(e,t){for(var n=e.className.split(/\s+/),r=0,o=n.length;r<o;r++)if(n[r]==t)return!0;return!1}function m(e,t,n){function r(){s&&o&&i&&(s(a),s=null)}t=u(e,"link",{rel:"stylesheet",href:t,media:"all"});var o=!1,i=!0,a=null,s=n||null;c?(t.onload=function(){o=!0,r()},t.onerror=function(){o=!0,a=Error("Stylesheet failed to load"),r()}):setTimeout((function(){o=!0,r()}),0),d(e,"head",t)}function g(e,t,n,r){var o=e.c.getElementsByTagName("head")[0];if(o){var i=u(e,"script",{src:t}),a=!1;return i.onload=i.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),i.onload=i.onreadystatechange=null,"HEAD"==i.parentNode.tagName&&o.removeChild(i))},o.appendChild(i),setTimeout((function(){a||(a=!0,n&&n(Error("Script load timeout")))}),r||5e3),i}return null}function y(){this.a=0,this.c=null}function v(e){return e.a++,function(){e.a--,w(e)}}function b(e,t){e.c=t,w(e)}function w(e){0==e.a&&e.c&&(e.c(),e.c=null)}function _(e){this.a=e||"-"}function k(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function x(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var r=e[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?t.push("'"+r+"'"):t.push(r)}return t.join(",")}function S(e){return e.a+e.f}function M(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function C(e){var t=4,n="n",r=null;return e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10)))),n+t}function z(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new _("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function O(e){if(e.g){var t=h(e.f,e.a.c("wf","active")),n=[],r=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),f(e.f,n,r)}E(e,"inactive")}function E(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,S(n)):e.h[t]())}function L(){this.c={}}function A(e,t){this.c=e,this.f=t,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function T(e){d(e.c,"body",e.a)}function N(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(e.c)+";font-style:"+M(e)+";font-weight:"+e.f+"00;"}function D(e,t,n,r,o,i){this.g=e,this.j=t,this.a=r,this.c=n,this.f=o||3e3,this.h=i||void 0}function P(e,t,n,r,o,i,a){this.v=e,this.B=t,this.c=n,this.a=r,this.s=a||"BESbswy",this.f={},this.w=o||3e3,this.u=i||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),e=N(e=new k(this.a.c+",serif",S(this.a))),this.g.a.style.cssText=e,e=N(e=new k(this.a.c+",sans-serif",S(this.a))),this.h.a.style.cssText=e,e=N(e=new k("serif",S(this.a))),this.j.a.style.cssText=e,e=N(e=new k("sans-serif",S(this.a))),this.m.a.style.cssText=e,T(this.g),T(this.h),T(this.j),T(this.m)}_.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},D.prototype.start=function(){var e=this.c.o.document,t=this,n=s(),r=new Promise((function(r,o){!function i(){s()-n>=t.f?o():e.fonts.load(function(e){return M(e)+" "+e.f+"00 300px "+x(e.c)}(t.a),t.h).then((function(e){1<=e.length?r():setTimeout(i,25)}),(function(){o()}))}()})),o=null,i=new Promise((function(e,n){o=setTimeout(n,t.f)}));Promise.race([i,r]).then((function(){o&&(clearTimeout(o),o=null),t.g(t.a)}),(function(){t.j(t.a)}))};var $={D:"serif",C:"sans-serif"},R=null;function I(){if(null===R){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);R=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return R}function F(e,t,n){for(var r in $)if($.hasOwnProperty(r)&&t===e.f[$[r]]&&n===e.f[$[r]])return!0;return!1}function q(e){var t,n=e.g.a.offsetWidth,r=e.h.a.offsetWidth;(t=n===e.f.serif&&r===e.f["sans-serif"])||(t=I()&&F(e,n,r)),t?s()-e.A>=e.w?I()&&F(e,n,r)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?j(e,e.v):j(e,e.B):function(e){setTimeout(a((function(){q(this)}),e),50)}(e):j(e,e.v)}function j(e,t){setTimeout(a((function(){p(this.g.a),p(this.h.a),p(this.j.a),p(this.m.a),t(this.a)}),e),0)}function B(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}P.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),q(this)};var K=null;function V(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&f(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),E(e,"active")):O(e.a))}function U(e){this.j=e,this.a=new L,this.h=0,this.f=this.g=!0}function H(e,t,n,r,o){var i=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=o||null,s=r||{};if(0===n.length&&i)O(t.a);else{t.f+=n.length,i&&(t.j=i);var l,c=[];for(l=0;l<n.length;l++){var u=n[l],d=s[u.c],p=t.a,h=u;if(p.g&&f(p.f,[p.a.c("wf",h.c,S(h).toString(),"loading")]),E(p,"fontloading",h),p=null,null===K)if(window.FontFace){h=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var m=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);K=h?42<parseInt(h[1],10):!m}else K=!1;p=K?new D(a(t.g,t),a(t.h,t),t.c,u,t.s,d):new P(a(t.g,t),a(t.h,t),t.c,u,t.s,e,d),c.push(p)}for(l=0;l<c.length;l++)c[l].start()}}),0)}function W(e,t){this.c=e,this.a=t}function X(e,t){this.c=e,this.a=t}function G(e,t){this.c=e||J,this.a=[],this.f=[],this.g=t||""}B.prototype.g=function(e){var t=this.a;t.g&&f(t.f,[t.a.c("wf",e.c,S(e).toString(),"active")],[t.a.c("wf",e.c,S(e).toString(),"loading"),t.a.c("wf",e.c,S(e).toString(),"inactive")]),E(t,"fontactive",e),this.m=!0,V(this)},B.prototype.h=function(e){var t=this.a;if(t.g){var n=h(t.f,t.a.c("wf",e.c,S(e).toString(),"active")),r=[],o=[t.a.c("wf",e.c,S(e).toString(),"loading")];n||r.push(t.a.c("wf",e.c,S(e).toString(),"inactive")),f(t.f,r,o)}E(t,"fontinactive",e),V(this)},U.prototype.load=function(e){this.c=new l(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,n){var r=[],o=n.timeout;!function(e){e.g&&f(e.f,[e.a.c("wf","loading")]),E(e,"loading")}(t);r=function(e,t,n){var r,o=[];for(r in t)if(t.hasOwnProperty(r)){var i=e.c[r];i&&o.push(i(t[r],n))}return o}(e.a,n,e.c);var i=new B(e.c,t,o);for(e.h=r.length,t=0,n=r.length;t<n;t++)r[t].load((function(t,n,r){H(e,i,t,n,r)}))}(this,new z(this.c,e),e)},W.prototype.load=function(e){var t=this,n=t.a.projectId,r=t.a.version;if(n){var o=t.c.o;g(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(r?"?v="+r:""),(function(r){r?e([]):(o["__MonotypeConfiguration__"+n]=function(){return t.a},function t(){if(o["__mti_fntLst"+n]){var r,i=o["__mti_fntLst"+n](),a=[];if(i)for(var s=0;s<i.length;s++){var l=i[s].fontfamily;null!=i[s].fontStyle&&null!=i[s].fontWeight?(r=i[s].fontStyle+i[s].fontWeight,a.push(new k(l,r))):a.push(new k(l))}e(a)}else setTimeout((function(){t()}),50)}())})).id="__MonotypeAPIScript__"+n}else e([])},X.prototype.load=function(e){var t,n,r=this.a.urls||[],o=this.a.families||[],i=this.a.testStrings||{},a=new y;for(t=0,n=r.length;t<n;t++)m(this.c,r[t],v(a));var s=[];for(t=0,n=o.length;t<n;t++)if((r=o[t].split(":"))[1])for(var l=r[1].split(","),c=0;c<l.length;c+=1)s.push(new k(r[0],l[c]));else s.push(new k(r[0]));b(a,(function(){e(s,i)}))};var J="https://fonts.googleapis.com/css";function Z(e){this.f=e,this.a=[],this.c={}}var Y={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ee={i:"i",italic:"i",n:"n",normal:"n"},te=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ne(e,t){this.c=e,this.a=t}var re={Arimo:!0,Cousine:!0,Tinos:!0};function oe(e,t){this.c=e,this.a=t}function ie(e,t){this.c=e,this.f=t,this.a=[]}ne.prototype.load=function(e){var t=new y,n=this.c,r=new G(this.a.api,this.a.text),o=this.a.families;!function(e,t){for(var n=t.length,r=0;r<n;r++){var o=t[r].split(":");3==o.length&&e.f.push(o.pop());var i="";2==o.length&&""!=o[1]&&(i=":"),e.a.push(o.join(i))}}(r,o);var i=new Z(o);!function(e){for(var t=e.f.length,n=0;n<t;n++){var r=e.f[n].split(":"),o=r[0].replace(/\+/g," "),i=["n4"];if(2<=r.length){var a;if(a=[],s=r[1])for(var s,l=(s=s.split(",")).length,c=0;c<l;c++){var u;if((u=s[c]).match(/^[\w-]+$/))if(null==(p=te.exec(u.toLowerCase())))u="";else{if(u=null==(u=p[2])||""==u?"n":ee[u],null==(p=p[1])||""==p)p="4";else var d=Q[p],p=d||(isNaN(p)?"4":p.substr(0,1));u=[u,p].join("")}else u="";u&&a.push(u)}0<a.length&&(i=a),3==r.length&&(a=[],0<(r=(r=r[2])?r.split(","):a).length&&(r=Y[r[0]])&&(e.c[o]=r))}for(e.c[o]||(r=Y[o])&&(e.c[o]=r),r=0;r<i.length;r+=1)e.a.push(new k(o,i[r]))}}(i),m(n,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],r=0;r<t;r++)n.push(e.a[r].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(r),v(t)),b(t,(function(){e(i.a,i.c,re)}))},oe.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var r=[],o=0;o<t.length;o+=2)for(var i=t[o],a=t[o+1],s=0;s<a.length;s++)r.push(new k(i,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(r)}}),2e3):e([])},ie.prototype.load=function(e){var t=this.f.id,n=this.c.o,r=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var o=0,i=n.fonts.length;o<i;++o){var a=n.fonts[o];r.a.push(new k(a.name,C("font-weight:"+a.weight+";font-style:"+a.style)))}e(r.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var ae=new U(window);ae.a.c.custom=function(e,t){return new X(t,e)},ae.a.c.fontdeck=function(e,t){return new ie(t,e)},ae.a.c.monotype=function(e,t){return new W(t,e)},ae.a.c.typekit=function(e,t){return new oe(t,e)},ae.a.c.google=function(e,t){return new ne(t,e)};var se={load:a(ae.load,ae)};void 0===(r=function(){return se}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&l()}function s(){i(a)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=y(0,0,0,0);function p(e){return parseFloat(e)||0}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=u(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=p(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=p(r.width),l=p(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=f(r,"left","right")+i),Math.round(l+a)!==n&&(l-=f(r,"top","bottom")+a)),!function(e){return e===u(e).document.documentElement}(e)){var c=Math.round(s+i)-t,h=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(h)&&(l-=h)}return y(o.left,o.top,s,l)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"==typeof e.getBBox};function g(e){return r?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):h(e):d}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var v=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,o,i,a,s,l,u=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);c(this,{target:e,contentRect:u})},w=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!=typeof WeakMap?new WeakMap:new n,k=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new w(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){k.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));var x=void 0!==o.ResizeObserver?o.ResizeObserver:k;t.a=x}).call(this,n(18))},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var o=t&&t.prototype instanceof u?t:u,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var c={};function u(){}function d(){}function p(){}var f={};f[o]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(x([])));m&&m!==t&&n.call(m,o)&&(f=m);var g=p.prototype=u.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function v(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var c=l(e[o],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=g.constructor=p,p.constructor=d,p[a]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(v.prototype),v.prototype[i]=function(){return this},e.AsyncIterator=v,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new v(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(15),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,u=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.forward_ref"):60112,f=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function _(){}function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var x=k.prototype=new _;x.constructor=k,r(x,w.prototype),x.isPureReactComponent=!0;var S={current:null},M=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function z(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)M.call(t,r)&&!C.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:S.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g,L=[];function A(e,t,n,r){if(L.length){var o=L.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function T(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function N(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case a:l=!0}}if(l)return r(o,t,""===n?"."+D(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+D(s=t[c],c);l+=e(s,u,r,o)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+D(s,c++),r,o);else if("object"===s)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function P(e,t){e.func.call(e.context,t,e.count++)}function $(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?R(e,r,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(E,"$&/")+"/")+n)),r.push(e))}function R(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(E,"$&/")+"/"),N(e,$,t=A(t,i,r,o)),T(t)}var I={current:null};function F(){var e=I.current;if(null===e)throw Error(y(321));return e}var q={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return R(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;N(e,P,t=A(null,null,t,n)),T(t)},count:function(e){return N(e,(function(){return null}),null)},toArray:function(e){var t=[];return R(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw Error(y(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=k,t.StrictMode=l,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)M.call(t,u)&&!C.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=z,t.createFactory=function(e){var t=z.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v17.0.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),o=n(15),i=n(28);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function g(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=y.hasOwnProperty(t)?y[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(m,e)||!f.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,x=60106,S=60107,M=60108,C=60114,z=60109,O=60110,E=60112,L=60113,A=60120,T=60115,N=60116,D=60121,P=60128,$=60129,R=60130,I=60131;if("function"==typeof Symbol&&Symbol.for){var F=Symbol.for;k=F("react.element"),x=F("react.portal"),S=F("react.fragment"),M=F("react.strict_mode"),C=F("react.profiler"),z=F("react.provider"),O=F("react.context"),E=F("react.forward_ref"),L=F("react.suspense"),A=F("react.suspense_list"),T=F("react.memo"),N=F("react.lazy"),D=F("react.block"),F("react.scope"),P=F("react.opaque.id"),$=F("react.debug_trace_mode"),R=F("react.offscreen"),I=F("react.legacy_hidden")}var q,j="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}function K(e){if(void 0===q)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function H(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 22:return e=U(e.type._render,!1);case 1:return e=U(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case M:return"StrictMode";case L:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case z:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case T:return W(e.type);case D:return W(e._render);case N:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function ce(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ve).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var ke=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,ze=null,Oe=null;function Ee(e){if(e=Yr(e)){if("function"!=typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=eo(t),Ce(e.stateNode,e.type,t))}}function Le(e){ze?Oe?Oe.push(e):Oe=[e]:ze=e}function Ae(){if(ze){var e=ze,t=Oe;if(Oe=ze=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ne(e,t,n,r,o){return e(t,n,r,o)}function De(){}var Pe=Te,$e=!1,Re=!1;function Ie(){null===ze&&null===Oe||(De(),Ae())}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=eo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var qe=!1;if(d)try{var je={};Object.defineProperty(je,"passive",{get:function(){qe=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(e){qe=!1}function Be(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ke=!1,Ve=null,Ue=!1,He=null,We={onError:function(e){Ke=!0,Ve=e}};function Xe(e,t,n,r,o,i,a,s,l){Ke=!1,Ve=null,Be.apply(We,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Ge(e)!==e)throw Error(a(188))}function Ye(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Ze(o),e;if(i===r)return Ze(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Qe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,ot=!1,it=[],at=null,st=null,lt=null,ct=new Map,ut=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=ft(t,n,r,o,i),null!==t&&(null!==(t=Yr(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function gt(e){var t=Zr(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Yr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(ot=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=Yr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==at&&yt(at)&&(at=null),null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),ct.forEach(vt),ut.forEach(vt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<it.length){wt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==lt&&wt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},Mt={};function Ct(e){if(St[e])return St[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mt)return St[e]=n[t];return e}d&&(Mt=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var zt=Ct("animationend"),Ot=Ct("animationiteration"),Et=Ct("animationstart"),Lt=Ct("transitionend"),At=new Map,Tt=new Map,Nt=["abort","abort",zt,"animationEnd",Ot,"animationIteration",Et,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Tt.set(r,t),At.set(r,o),c(o,[r])}}(0,i.unstable_now)();var Pt=8;function $t(e){if(0!=(1&e))return Pt=15,1;if(0!=(2&e))return Pt=14,2;if(0!=(4&e))return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):0!=(32&e)?(Pt=11,32):0!==(t=192&e)?(Pt=10,t):0!=(256&e)?(Pt=9,256):0!==(t=3584&e)?(Pt=8,t):0!=(4096&e)?(Pt=7,4096):0!==(t=4186112&e)?(Pt=6,t):0!==(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):0!=(134217728&e)?(Pt=3,134217728):0!==(t=805306368&e)?(Pt=2,t):0!=(1073741824&e)?(Pt=1,1073741824):(Pt=8,e)}function Rt(e,t){var n=e.pendingLanes;if(0===n)return Pt=0;var r=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,o=Pt=15;else if(0!==(i=134217727&n)){var l=i&~a;0!==l?(r=$t(l),o=Pt):0!==(s&=i)&&(r=$t(s),o=Pt)}else 0!==(i=n&~a)?(r=$t(i),o=Pt):0!==s&&(r=$t(s),o=Pt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if($t(t),o<=Pt)return t;Pt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Kt(t)),r|=e[n],t&=~o;return r}function It(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ft(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Ft(10,t):e;case 10:return 0===(e=qt(192&~t))?Ft(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function qt(e){return e&-e}function jt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/Ut|0)|0},Vt=Math.log,Ut=Math.LN2;var Ht=i.unstable_UserBlockingPriority,Wt=i.unstable_runWithPriority,Xt=!0;function Gt(e,t,n,r){$e||De();var o=Zt,i=$e;$e=!0;try{Ne(o,e,t,n,r)}finally{($e=i)||Ie()}}function Jt(e,t,n,r){Wt(Ht,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var o;if(Xt)if((o=0==(4&t))&&0<it.length&&-1<pt.indexOf(e))e=ft(null,e,t,n,r),it.push(e);else{var i=Yt(e,t,n,r);if(null===i)o&&ht(e,r);else{if(o){if(-1<pt.indexOf(e))return e=ft(i,e,t,n,r),void it.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return at=mt(at,e,t,n,r,o),!0;case"dragenter":return st=mt(st,e,t,n,r,o),!0;case"mouseover":return lt=mt(lt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ct.set(i,mt(ct.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ut.set(i,mt(ut.get(i)||null,e,t,n,r,o)),!0}return!1}(i,e,t,n,r))return;ht(e,r)}Lr(e,t,r,null,n)}}}function Yt(e,t,n,r){var o=Me(r);if(null!==(o=Zr(o))){var i=Ge(o);if(null===i)o=null;else{var a=i.tag;if(13===a){if(null!==(o=Je(i)))return o;o=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Lr(e,t,r,o,n),null}var Qt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,o="value"in Qt?Qt.value:Qt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return tn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?on:an,this.isPropagationStopped=an,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=sn(dn),fn=o({},dn,{view:0,detail:0}),hn=sn(fn),mn=o({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(mn),yn=sn(o({},mn,{dataTransfer:0})),vn=sn(o({},fn,{relatedTarget:0})),bn=sn(o({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(o({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=sn(o({},dn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Mn}var zn=sn(o({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=sn(o({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=sn(o({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Ln=sn(o({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=sn(o({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=[9,13,27,32],Nn=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Pn=d&&"TextEvent"in window&&!Dn,$n=d&&(!Nn||Dn&&8<Dn&&11>=Dn),Rn=String.fromCharCode(32),In=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Vn(e,t,n,r){Le(r),0<(t=Tr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Hn=null;function Wn(e){Sr(e,0)}function Xn(e){if(Z(Qr(e)))return e}function Gn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Zn;if(d){var Yn="oninput"in document;if(!Yn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Yn="function"==typeof Qn.oninput}Zn=Yn}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function er(){Un&&(Un.detachEvent("onpropertychange",tr),Hn=Un=null)}function tr(e){if("value"===e.propertyName&&Xn(Hn)){var t=[];if(Vn(t,Hn,e,Me(e)),e=Wn,$e)e(t);else{$e=!0;try{Te(e,t)}finally{$e=!1,Ie()}}}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,(Un=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Hn)}function or(e,t){if("click"===e)return Xn(t)}function ir(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function lr(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var fr=d&&"documentMode"in document&&11>=document.documentMode,hr=null,mr=null,gr=null,yr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==hr||hr!==Y(r)||("selectionStart"in(r=hr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Tr(mr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Nt,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<br.length;wr++)Tt.set(br[wr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,s,l,c){if(Xe.apply(this,arguments),Ke){if(!Ke)throw Error(a(198));var u=Ve;Ke=!1,Ve=null,Ue||(Ue=!0,He=u)}}(r,t,void 0,e),e.currentTarget=null}function Sr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;xr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;xr(o,s,c),i=l}}}if(Ue)throw e=He,Ue=!1,He=null,e}function Mr(e,t){var n=to(t),r=e+"__bubble";n.has(r)||(Er(t,e,2,!1),n.add(r))}var Cr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){e[Cr]||(e[Cr]=!0,s.forEach((function(t){kr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;o|=2,i=r}var a=to(i),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(o|=4),Er(i,e,o,t),a.add(s))}function Er(e,t,n,r){var o=Tt.get(t);switch(void 0===o?2:o){case 0:o=Gt;break;case 1:o=Jt;break;default:o=Zt}n=o.bind(null,t,n,e),o=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,o){var i=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Zr(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Re)return e(t,n);Re=!0;try{Pe(e,t,n)}finally{Re=!1,Ie()}}((function(){var r=i,o=Me(n),a=[];e:{var s=At.get(e);if(void 0!==s){var l=pn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=zn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case zt:case Ot:case Et:l=bn;break;case Lt:l=Ln;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!=(4&t),d=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Fe(h,p))&&u.push(Ar(h,m,f)))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Gr])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(d=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:Qr(l),f=null==c?s:Qr(c),(s=new u(m,h+"leave",l,n,o)).target=d,s.relatedTarget=f,m=null,Zr(o)===r&&((u=new u(p,h+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,h=0,f=u=l;f;f=Nr(f))h++;for(f=0,m=p;m;m=Nr(m))f++;for(;0<h-f;)u=Nr(u),h--;for(;0<f-h;)p=Nr(p),f--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=Nr(u),p=Nr(p)}u=null}else u=null;null!==l&&Dr(a,s,l,u,!1),null!==c&&null!==d&&Dr(a,d,c,u,!0)}if("select"===(l=(s=r?Qr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Gn;else if(Kn(s))if(Jn)g=ir;else{g=rr;var y=nr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Vn(a,g,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&oe(s,"number",s.value)),y=r?Qr(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(hr=y,mr=r,gr=null);break;case"focusout":gr=mr=hr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,vr(a,n,o);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":vr(a,n,o)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&($n&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(v=nn()):(en="value"in(Qt=o)?Qt.value:Qt.textContent,jn=!0)),0<(y=Tr(r,b)).length&&(b=new _n(b,e,null,n,o),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=qn(n))&&(b.data=v))),(v=Pn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(In=!0,Rn);case"textInput":return(e=t.data)===Rn&&In?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Nn&&Fn(e,t)?(e=nn(),tn=en=Qt=null,jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Tr(r,"onBeforeInput")).length&&(o=new _n("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v))}Sr(a,t)}))}function Ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Fe(e,n))&&r.unshift(Ar(e,i,o)),null!=(i=Fe(e,t))&&r.push(Ar(e,i,o))),e=e.return}return r}function Nr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Fe(n,i))&&a.unshift(Ar(n,l,s)):o||null!=(l=Fe(n,i))&&a.push(Ar(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Pr(){}var $r=null,Rr=null;function Ir(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Fr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,jr="function"==typeof clearTimeout?clearTimeout:void 0;function Br(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Vr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ur=0;var Hr=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Hr,Xr="__reactProps$"+Hr,Gr="__reactContainer$"+Hr,Jr="__reactEvents$"+Hr;function Zr(e){var t=e[Wr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gr]||n[Wr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Vr(e);null!==e;){if(n=e[Wr])return n;e=Vr(e)}return t}n=(e=n).parentNode}return null}function Yr(e){return!(e=e[Wr]||e[Gr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Qr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function eo(e){return e[Xr]||null}function to(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var no=[],ro=-1;function oo(e){return{current:e}}function io(e){0>ro||(e.current=no[ro],no[ro]=null,ro--)}function ao(e,t){ro++,no[ro]=e.current,e.current=t}var so={},lo=oo(so),co=oo(!1),uo=so;function po(e,t){var n=e.type.contextTypes;if(!n)return so;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function fo(e){return null!=(e=e.childContextTypes)}function ho(){io(co),io(lo)}function mo(e,t,n){if(lo.current!==so)throw Error(a(168));ao(lo,t),ao(co,n)}function go(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,W(t)||"Unknown",i));return o({},n,r)}function yo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||so,uo=lo.current,ao(lo,e),ao(co,co.current),!0}function vo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=go(e,t,uo),r.__reactInternalMemoizedMergedChildContext=e,io(co),io(lo),ao(lo,e)):io(co),ao(co,n)}var bo=null,wo=null,_o=i.unstable_runWithPriority,ko=i.unstable_scheduleCallback,xo=i.unstable_cancelCallback,So=i.unstable_shouldYield,Mo=i.unstable_requestPaint,Co=i.unstable_now,zo=i.unstable_getCurrentPriorityLevel,Oo=i.unstable_ImmediatePriority,Eo=i.unstable_UserBlockingPriority,Lo=i.unstable_NormalPriority,Ao=i.unstable_LowPriority,To=i.unstable_IdlePriority,No={},Do=void 0!==Mo?Mo:function(){},Po=null,$o=null,Ro=!1,Io=Co(),Fo=1e4>Io?Co:function(){return Co()-Io};function qo(){switch(zo()){case Oo:return 99;case Eo:return 98;case Lo:return 97;case Ao:return 96;case To:return 95;default:throw Error(a(332))}}function jo(e){switch(e){case 99:return Oo;case 98:return Eo;case 97:return Lo;case 96:return Ao;case 95:return To;default:throw Error(a(332))}}function Bo(e,t){return e=jo(e),_o(e,t)}function Ko(e,t,n){return e=jo(e),ko(e,t,n)}function Vo(){if(null!==$o){var e=$o;$o=null,xo(e)}Uo()}function Uo(){if(!Ro&&null!==Po){Ro=!0;var e=0;try{var t=Po;Bo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Po=null}catch(t){throw null!==Po&&(Po=Po.slice(e+1)),ko(Oo,Vo),t}finally{Ro=!1}}}var Ho=_.ReactCurrentBatchConfig;function Wo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xo=oo(null),Go=null,Jo=null,Zo=null;function Yo(){Zo=Jo=Go=null}function Qo(e){var t=Xo.current;io(Xo),e.type._context._currentValue=t}function ei(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ti(e,t){Go=e,Zo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ta=!0),e.firstContext=null)}function ni(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Go)throw Error(a(308));Jo=t,Go.dependencies={lanes:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var ri=!1;function oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function si(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ci(e,t,n,r){var i=e.updateQueue;ri=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==s&&(null===p?d.firstBaseUpdate=u:p.next=u,d.lastBaseUpdate=c)}}if(null!==a){for(p=i.baseState,s=0,d=u=c=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){p=h.call(f,p,l);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(l="function"==typeof(h=m.payload)?h.call(f,p,l):h))break e;p=o({},p,l);break e;case 2:ri=!0}}null!==a.callback&&(e.flags|=32,null===(l=i.effects)?i.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=f,c=p):d=d.next=f,s|=l;if(null===(a=a.next)){if(null===(l=i.shared.pending))break;a=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}null===d&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,Ds|=s,e.lanes=s,e.memoizedState=p}}function ui(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(a(191,o));o.call(r)}}}var di=(new r.Component).refs;function pi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fi={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=il(),o=al(e),i=ai(r,o);i.payload=t,null!=n&&(i.callback=n),si(e,i),sl(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=il(),o=al(e),i=ai(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),si(e,i),sl(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=il(),r=al(e),o=ai(n,r);o.tag=2,null!=t&&(o.callback=t),si(e,o),sl(e,r,n)}};function hi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function mi(e,t,n){var r=!1,o=so,i=t.contextType;return"object"==typeof i&&null!==i?i=ni(i):(o=fo(t)?uo:lo.current,i=(r=null!=(r=t.contextTypes))?po(e,o):so),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function gi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fi.enqueueReplaceState(t,t.state,null)}function yi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=di,oi(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=ni(i):(i=fo(t)?uo:lo.current,o.context=po(e,i)),ci(e,n,o,r),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(pi(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&fi.enqueueReplaceState(o,o.state,null),ci(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}var vi=Array.isArray;function bi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===di&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function wi(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _i(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=bi(e,t,n),r.return=e,r):((r=ql(n.type,n.key,n.props,null,e.mode,r)).ref=bi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=jl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=ql(t.type,t.key,t.props,null,e.mode,n)).ref=bi(e,null,t),n.return=e,n;case x:return(t=Vl(t,e.mode,n)).return=e,t}if(vi(t)||B(t))return(t=jl(t,e.mode,n,null)).return=e,t;wi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===o?n.type===S?d(e,t,n.props.children,r,o):c(e,t,n,r):null;case x:return n.key===o?u(e,t,n,r):null}if(vi(n)||B(n))return null!==o?null:d(e,t,n,r,null);wi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===S?d(t,e,r.props.children,o,r.key):c(t,e,r,o);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(vi(r)||B(r))return d(t,e=e.get(n)||null,r,o,null);wi(t,r)}return null}function m(o,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(o,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),a=i(y,a,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(o,d),c;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(o,d);m<s.length;m++)null!==(g=h(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),c}function g(o,s,l,c){var u=B(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(o,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(o,v.value,c))&&(s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return u}for(m=r(o,m);!v.done;g++,v=l.next())null!==(v=h(m,o,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(o,e)})),u}return function(e,r,i,l){var c="object"==typeof i&&null!==i&&i.type===S&&null===i.key;c&&(i=i.props.children);var u="object"==typeof i&&null!==i;if(u)switch(i.$$typeof){case k:e:{for(u=i.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(i.type===S){n(e,c.sibling),(r=o(c,i.props.children)).return=e,e=r;break e}break;default:if(c.elementType===i.type){n(e,c.sibling),(r=o(c,i.props)).ref=bi(e,c,i),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}i.type===S?((r=jl(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=ql(i.type,i.key,i.props,null,e.mode,l)).ref=bi(e,r,i),l.return=e,e=l)}return s(e);case x:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Vl(i,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Kl(i,e.mode,l)).return=e,e=r),s(e);if(vi(i))return m(e,r,i,l);if(B(i))return g(e,r,i,l);if(u&&wi(e,i),void 0===i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,W(e.type)||"Component"))}return n(e,r)}}var ki=_i(!0),xi=_i(!1),Si={},Mi=oo(Si),Ci=oo(Si),zi=oo(Si);function Oi(e){if(e===Si)throw Error(a(174));return e}function Ei(e,t){switch(ao(zi,t),ao(Ci,e),ao(Mi,Si),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}io(Mi),ao(Mi,t)}function Li(){io(Mi),io(Ci),io(zi)}function Ai(e){Oi(zi.current);var t=Oi(Mi.current),n=he(t,e.type);t!==n&&(ao(Ci,e),ao(Mi,n))}function Ti(e){Ci.current===e&&(io(Mi),io(Ci))}var Ni=oo(0);function Di(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pi=null,$i=null,Ri=!1;function Ii(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Fi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function qi(e){if(Ri){var t=$i;if(t){var n=t;if(!Fi(e,t)){if(!(t=Kr(n.nextSibling))||!Fi(e,t))return e.flags=-1025&e.flags|2,Ri=!1,void(Pi=e);Ii(Pi,n)}Pi=e,$i=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Ri=!1,Pi=e}}function ji(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Pi=e}function Bi(e){if(e!==Pi)return!1;if(!Ri)return ji(e),Ri=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Fr(t,e.memoizedProps))for(t=$i;t;)Ii(e,t),t=Kr(t.nextSibling);if(ji(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){$i=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}$i=null}}else $i=Pi?Kr(e.stateNode.nextSibling):null;return!0}function Ki(){$i=Pi=null,Ri=!1}var Vi=[];function Ui(){for(var e=0;e<Vi.length;e++)Vi[e]._workInProgressVersionPrimary=null;Vi.length=0}var Hi=_.ReactCurrentDispatcher,Wi=_.ReactCurrentBatchConfig,Xi=0,Gi=null,Ji=null,Zi=null,Yi=!1,Qi=!1;function ea(){throw Error(a(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function na(e,t,n,r,o,i){if(Xi=i,Gi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hi.current=null===e||null===e.memoizedState?Oa:Ea,e=n(r,o),Qi){i=0;do{if(Qi=!1,!(25>i))throw Error(a(301));i+=1,Zi=Ji=null,t.updateQueue=null,Hi.current=La,e=n(r,o)}while(Qi)}if(Hi.current=za,t=null!==Ji&&null!==Ji.next,Xi=0,Zi=Ji=Gi=null,Yi=!1,t)throw Error(a(300));return e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zi?Gi.memoizedState=Zi=e:Zi=Zi.next=e,Zi}function oa(){if(null===Ji){var e=Gi.alternate;e=null!==e?e.memoizedState:null}else e=Ji.next;var t=null===Zi?Gi.memoizedState:Zi.next;if(null!==t)Zi=t,Ji=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Ji=e).memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},null===Zi?Gi.memoizedState=Zi=e:Zi=Zi.next=e}return Zi}function ia(e,t){return"function"==typeof t?t(e):t}function aa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Ji,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var l=s=i=null,c=o;do{var u=c.lane;if((Xi&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,i=r):l=l.next=d,Gi.lanes|=u,Ds|=u}c=c.next}while(null!==c&&c!==o);null===l?i=r:l.next=s,ar(r,t.memoizedState)||(Ta=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);ar(i,t.memoizedState)||(Ta=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function la(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(Xi&e)===e)&&(t._workInProgressVersionPrimary=r,Vi.push(t))),e)return n(t._source);throw Vi.push(t),Error(a(350))}function ca(e,t,n,r){var o=Cs;if(null===o)throw Error(a(349));var i=t._getVersion,s=i(t._source),l=Hi.current,c=l.useState((function(){return la(o,t,n)})),u=c[1],d=c[0];c=Zi;var p=e.memoizedState,f=p.refs,h=f.getSnapshot,m=p.source;p=p.subscribe;var g=Gi;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=i(t._source);if(!ar(s,e)){e=n(t._source),ar(d,e)||(u(e),e=al(g),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,a=e;0<a;){var l=31-Kt(a),c=1<<l;r[l]|=e,a&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=al(g);o.mutableReadLanes|=r&o.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(h,n)&&ar(m,t)&&ar(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ia,lastRenderedState:d}).dispatch=u=Ca.bind(null,Gi,e),c.queue=e,c.baseQueue=null,d=la(o,t,n),c.memoizedState=c.baseState=d),d}function ua(e,t,n){return ca(oa(),e,t,n)}function da(e){var t=ra();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e}).dispatch=Ca.bind(null,Gi,e),[t.memoizedState,e]}function pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Gi.updateQueue)?(t={lastEffect:null},Gi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fa(e){return e={current:e},ra().memoizedState=e}function ha(){return oa().memoizedState}function ma(e,t,n,r){var o=ra();Gi.flags|=e,o.memoizedState=pa(1|t,n,void 0,void 0===r?null:r)}function ga(e,t,n,r){var o=oa();r=void 0===r?null:r;var i=void 0;if(null!==Ji){var a=Ji.memoizedState;if(i=a.destroy,null!==r&&ta(r,a.deps))return void pa(t,n,i,r)}Gi.flags|=e,o.memoizedState=pa(1|t,n,i,r)}function ya(e,t){return ma(516,4,e,t)}function va(e,t){return ga(516,4,e,t)}function ba(e,t){return ga(4,2,e,t)}function wa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _a(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,wa.bind(null,t,e),n)}function ka(){}function xa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ma(e,t){var n=qo();Bo(98>n?98:n,(function(){e(!0)})),Bo(97<n?97:n,(function(){var n=Wi.transition;Wi.transition=1;try{e(!1),t()}finally{Wi.transition=n}}))}function Ca(e,t,n){var r=il(),o=al(e),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Gi||null!==a&&a===Gi)Qi=Yi=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(i.eagerReducer=a,i.eagerState=l,ar(l,s))return}catch(e){}sl(e,o,r)}}var za={readContext:ni,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useMutableSource:ea,useOpaqueIdentifier:ea,unstable_isNewReconciler:!1},Oa={readContext:ni,useCallback:function(e,t){return ra().memoizedState=[e,void 0===t?null:t],e},useContext:ni,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ma(4,2,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ra();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ca.bind(null,Gi,e),[r.memoizedState,e]},useRef:fa,useState:da,useDebugValue:ka,useDeferredValue:function(e){var t=da(e),n=t[0],r=t[1];return ya((function(){var t=Wi.transition;Wi.transition=1;try{r(e)}finally{Wi.transition=t}}),[e]),n},useTransition:function(){var e=da(!1),t=e[0];return fa(e=Ma.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ra();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ca(r,e,t,n)},useOpaqueIdentifier:function(){if(Ri){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ur++).toString(36))),Error(a(355))})),n=da(t)[1];return 0==(2&Gi.mode)&&(Gi.flags|=516,pa(5,(function(){n("r:"+(Ur++).toString(36))}),void 0,null)),t}return da(t="r:"+(Ur++).toString(36)),t},unstable_isNewReconciler:!1},Ea={readContext:ni,useCallback:xa,useContext:ni,useEffect:va,useImperativeHandle:_a,useLayoutEffect:ba,useMemo:Sa,useReducer:aa,useRef:ha,useState:function(){return aa(ia)},useDebugValue:ka,useDeferredValue:function(e){var t=aa(ia),n=t[0],r=t[1];return va((function(){var t=Wi.transition;Wi.transition=1;try{r(e)}finally{Wi.transition=t}}),[e]),n},useTransition:function(){var e=aa(ia)[0];return[ha().current,e]},useMutableSource:ua,useOpaqueIdentifier:function(){return aa(ia)[0]},unstable_isNewReconciler:!1},La={readContext:ni,useCallback:xa,useContext:ni,useEffect:va,useImperativeHandle:_a,useLayoutEffect:ba,useMemo:Sa,useReducer:sa,useRef:ha,useState:function(){return sa(ia)},useDebugValue:ka,useDeferredValue:function(e){var t=sa(ia),n=t[0],r=t[1];return va((function(){var t=Wi.transition;Wi.transition=1;try{r(e)}finally{Wi.transition=t}}),[e]),n},useTransition:function(){var e=sa(ia)[0];return[ha().current,e]},useMutableSource:ua,useOpaqueIdentifier:function(){return sa(ia)[0]},unstable_isNewReconciler:!1},Aa=_.ReactCurrentOwner,Ta=!1;function Na(e,t,n,r){t.child=null===e?xi(t,null,n,r):ki(t,e.child,n,r)}function Da(e,t,n,r,o){n=n.render;var i=t.ref;return ti(t,o),r=na(e,t,n,r,i,o),null===e||Ta?(t.flags|=1,Na(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,es(e,t,o))}function Pa(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||Il(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ql(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,$a(e,t,a,r,o,i))}return a=e.child,0==(o&i)&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)?es(e,t,i):(t.flags|=1,(e=Fl(a,r)).ref=t.ref,e.return=t,t.child=e)}function $a(e,t,n,r,o,i){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(Ta=!1,0==(i&o))return t.lanes=e.lanes,es(e,t,i);0!=(16384&e.flags)&&(Ta=!0)}return Fa(e,t,n,r,i)}function Ra(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ml(t,n);else{if(0==(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ml(t,e),null;t.memoizedState={baseLanes:0},ml(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ml(t,r);return Na(e,t,o,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Fa(e,t,n,r,o){var i=fo(n)?uo:lo.current;return i=po(t,i),ti(t,o),n=na(e,t,n,r,i,o),null===e||Ta?(t.flags|=1,Na(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,es(e,t,o))}function qa(e,t,n,r,o){if(fo(n)){var i=!0;yo(t)}else i=!1;if(ti(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mi(t,n,r),yi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=ni(c):c=po(t,c=fo(n)?uo:lo.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&gi(t,a,r,c),ri=!1;var p=t.memoizedState;a.state=p,ci(t,r,a,o),l=t.memoizedState,s!==r||p!==l||co.current||ri?("function"==typeof u&&(pi(t,n,u,r),l=t.memoizedState),(s=ri||hi(t,n,s,r,p,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,ii(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Wo(t.type,s),a.props=c,d=t.pendingProps,p=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=ni(l):l=po(t,l=fo(n)?uo:lo.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||p!==l)&&gi(t,a,r,l),ri=!1,p=t.memoizedState,a.state=p,ci(t,r,a,o);var h=t.memoizedState;s!==d||p!==h||co.current||ri?("function"==typeof f&&(pi(t,n,f,r),h=t.memoizedState),(c=ri||hi(t,n,c,r,p,h,l))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return ja(e,t,n,r,i,o)}function ja(e,t,n,r,o,i){Ia(e,t);var a=0!=(64&t.flags);if(!r&&!a)return o&&vo(t,n,!1),es(e,t,i);r=t.stateNode,Aa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,s,i)):Na(e,t,s,i),t.memoizedState=r.state,o&&vo(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?mo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mo(0,t.context,!1),Ei(e,t.containerInfo)}var Ka,Va,Ua,Ha={dehydrated:null,retryLane:0};function Wa(e,t,n){var r,o=t.pendingProps,i=Ni.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&i)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),ao(Ni,1&i),null===e?(void 0!==o.fallback&&qi(t),e=o.children,i=o.fallback,a?(e=Xa(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,e):"number"==typeof o.unstable_expectedLoadTime?(e=Xa(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,t.lanes=33554432,e):((n=Bl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(o=Ja(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ha,o):(n=Ga(e,t,o.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},0==(2&o)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Bl(t,o,0,null),n=jl(n,o,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function Ga(e,t,n,r){var o=e.child;return e=o.sibling,n=Fl(o,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ja(e,t,n,r,o){var i=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&i)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Fl(a,s),null!==e?r=Fl(e,r):(r=jl(r,i,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Za(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ei(e.return,t)}function Ya(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.lastEffect=i)}function Qa(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Na(e,t,r.children,n),0!=(2&(r=Ni.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n);else if(19===e.tag)Za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ao(Ni,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Di(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ya(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Di(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ya(t,!0,n,null,i,t.lastEffect);break;case"together":Ya(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function es(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ts(e,t){if(!Ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ns(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fo(t.type)&&ho(),null;case 3:return Li(),io(co),io(lo),Ui(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ti(t);var i=Oi(zi.current);if(n=t.type,null!==e&&null!=t.stateNode)Va(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oi(Mi.current),Bi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Wr]=t,r[Xr]=s,n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Mr(_r[e],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":ee(r,s),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mr("invalid",r);break;case"textarea":le(r,s),Mr("invalid",r)}for(var c in xe(n,s),e=null,s)s.hasOwnProperty(c)&&(i=s[c],"children"===c?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):l.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&Mr("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Pr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Wr]=t,e[Xr]=r,Ka(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),i=r;break;case"iframe":case"object":case"embed":Mr("load",e),i=r;break;case"video":case"audio":for(i=0;i<_r.length;i++)Mr(_r[i],e);i=r;break;case"source":Mr("error",e),i=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),i=r;break;case"details":Mr("toggle",e),i=r;break;case"input":ee(e,r),i=Q(e,r),Mr("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=o({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":le(e,r),i=se(e,r),Mr("invalid",e);break;default:i=r}xe(n,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?_e(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"==typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Mr("scroll",e):null!=d&&w(e,s,d,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Pr)}Ir(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ua(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Oi(zi.current),Oi(Mi.current),Bi(t)?(r=t.stateNode,n=t.memoizedProps,r[Wr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Wr]=t,t.stateNode=r)}return null;case 13:return io(Ni),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Bi(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ni.current)?0===As&&(As=3):(0!==As&&3!==As||(As=4),null===Cs||0==(134217727&Ds)&&0==(134217727&Ps)||dl(Cs,Os))),(r||n)&&(t.flags|=4),null);case 4:return Li(),null===e&&zr(t.stateNode.containerInfo),null;case 10:return Qo(t),null;case 17:return fo(t.type)&&ho(),null;case 19:if(io(Ni),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)ts(r,!1);else{if(0!==As||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Di(e))){for(t.flags|=64,ts(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ao(Ni,1&Ni.current|2),t.child}e=e.sibling}null!==r.tail&&Fo()>Fs&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Di(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ts(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ri)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fo()-r.renderingStartTime>Fs&&1073741824!==n&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fo(),n.sibling=null,t=Ni.current,ao(Ni,s?1&t|2:1&t),n):null;case 23:case 24:return gl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function rs(e){switch(e.tag){case 1:fo(e.type)&&ho();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Li(),io(co),io(lo),Ui(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Ti(e),null;case 13:return io(Ni),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return io(Ni),null;case 4:return Li(),null;case 10:return Qo(e),null;case 23:case 24:return gl(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Oi(Mi.current);var a,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"option":i=ie(e,i),r=ie(e,r),s=[];break;case"select":i=o({},i,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":i=se(e,i),r=se(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Pr)}for(d in xe(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var c=i[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Mr("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===P?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ua=function(e,t,n,r){n!==r&&(t.flags|=4)};var as="function"==typeof WeakMap?WeakMap:Map;function ss(e,t,n){(n=ai(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Vs=r),is(0,t)},n}function ls(e,t,n){(n=ai(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return is(0,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Us?Us=new Set([this]):Us.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var cs="function"==typeof WeakSet?WeakSet:Set;function us(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Nl(e,t)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Wo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Br(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!=(4&(o=o.tag))&&0!=(1&o)&&(Ll(n,e),El(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Wo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ui(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ui(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ir(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,r.style.display=we("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function hs(e,t){if(wo&&"function"==typeof wo.onCommitFiberUnmount)try{wo.onCommitFiberUnmount(bo,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!=(4&r))Ll(t,n);else{r=t;try{o()}catch(e){Nl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(us(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Nl(t,e)}break;case 5:us(t);break;case 4:vs(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(gs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Pr));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function vs(e,t){for(var n,r,o=t,i=!1;;){if(!i){i=o.return;e:for(;;){if(null===i)throw Error(a(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===o.tag||6===o.tag){e:for(var s=e,l=o,c=l;;)if(hs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(hs(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(i=!1)}o.sibling.return=o.return,o=o.sibling}}function bs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,o),t=Se(e,r),o=0;o<i.length;o+=2){var s=i[o],l=i[o+1];"style"===s?_e(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?ye(n,l):w(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?ae(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Is=Fo(),fs(t.child,!0)),void ws(t);case 19:return void ws(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(a(163))}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cs),t.forEach((function(t){var r=Pl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function _s(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ks=Math.ceil,xs=_.ReactCurrentDispatcher,Ss=_.ReactCurrentOwner,Ms=0,Cs=null,zs=null,Os=0,Es=0,Ls=oo(0),As=0,Ts=null,Ns=0,Ds=0,Ps=0,$s=0,Rs=null,Is=0,Fs=1/0;function qs(){Fs=Fo()+500}var js,Bs=null,Ks=!1,Vs=null,Us=null,Hs=!1,Ws=null,Xs=90,Gs=[],Js=[],Zs=null,Ys=0,Qs=null,el=-1,tl=0,nl=0,rl=null,ol=!1;function il(){return 0!=(48&Ms)?Fo():-1!==el?el:el=Fo()}function al(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===qo()?1:2;if(0===tl&&(tl=Ns),0!==Ho.transition){0!==nl&&(nl=null!==Rs?Rs.pendingLanes:0),e=tl;var t=4186112&~nl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qo(),0!=(4&Ms)&&98===e?e=Ft(12,tl):e=Ft(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),tl),e}function sl(e,t,n){if(50<Ys)throw Ys=0,Qs=null,Error(a(185));if(null===(e=ll(e,t)))return null;Bt(e,t,n),e===Cs&&(Ps|=t,4===As&&dl(e,Os));var r=qo();1===t?0!=(8&Ms)&&0==(48&Ms)?pl(e):(cl(e,n),0===Ms&&(qs(),Vo())):(0==(4&Ms)||98!==r&&99!==r||(null===Zs?Zs=new Set([e]):Zs.add(e)),cl(e,n)),Rs=e}function ll(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Kt(s),c=1<<l,u=i[l];if(-1===u){if(0==(c&r)||0!=(c&o)){u=t,$t(c);var d=Pt;i[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Rt(e,e===Cs?Os:0),t=Pt,0===r)null!==n&&(n!==No&&xo(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==No&&xo(n)}15===t?(n=pl.bind(null,e),null===Po?(Po=[n],$o=ko(Oo,Uo)):Po.push(n),n=No):14===t?n=Ko(99,pl.bind(null,e)):n=Ko(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),ul.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ul(e){if(el=-1,nl=tl=0,0!=(48&Ms))throw Error(a(327));var t=e.callbackNode;if(Ol()&&e.callbackNode!==t)return null;var n=Rt(e,e===Cs?Os:0);if(0===n)return null;var r=n,o=Ms;Ms|=16;var i=bl();for(Cs===e&&Os===r||(qs(),yl(e,r));;)try{kl();break}catch(t){vl(e,t)}if(Yo(),xs.current=i,Ms=o,null!==zs?r=0:(Cs=null,Os=0,r=As),0!=(Ns&Ps))yl(e,0);else if(0!==r){if(2===r&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(n=It(e))&&(r=wl(e,n))),1===r)throw t=Ts,yl(e,0),dl(e,n),cl(e,Fo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Ml(e);break;case 3:if(dl(e,n),(62914560&n)===n&&10<(r=Is+500-Fo())){if(0!==Rt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){il(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=qr(Ml.bind(null,e),r);break}Ml(e);break;case 4:if(dl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-Kt(n);i=1<<s,(s=r[s])>o&&(o=s),n&=~i}if(n=o,10<(n=(120>(n=Fo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=qr(Ml.bind(null,e),n);break}Ml(e);break;case 5:Ml(e);break;default:throw Error(a(329))}}return cl(e,Fo()),e.callbackNode===t?ul.bind(null,e):null}function dl(e,t){for(t&=~$s,t&=~Ps,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function pl(e){if(0!=(48&Ms))throw Error(a(327));if(Ol(),e===Cs&&0!=(e.expiredLanes&Os)){var t=Os,n=wl(e,t);0!=(Ns&Ps)&&(n=wl(e,t=Rt(e,t)))}else n=wl(e,t=Rt(e,0));if(0!==e.tag&&2===n&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(t=It(e))&&(n=wl(e,t))),1===n)throw n=Ts,yl(e,0),dl(e,t),cl(e,Fo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ml(e),cl(e,Fo()),null}function fl(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&(qs(),Vo())}}function hl(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&(qs(),Vo())}}function ml(e,t){ao(Ls,Es),Es|=t,Ns|=t}function gl(){Es=Ls.current,io(Ls)}function yl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,jr(n)),null!==zs)for(n=zs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ho();break;case 3:Li(),io(co),io(lo),Ui();break;case 5:Ti(r);break;case 4:Li();break;case 13:case 19:io(Ni);break;case 10:Qo(r);break;case 23:case 24:gl()}n=n.return}Cs=e,zs=Fl(e.current,null),Os=Es=Ns=t,As=0,Ts=null,$s=Ps=Ds=0}function vl(e,t){for(;;){var n=zs;try{if(Yo(),Hi.current=za,Yi){for(var r=Gi.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}Yi=!1}if(Xi=0,Zi=Ji=Gi=null,Qi=!1,Ss.current=null,null===n||null===n.return){As=1,Ts=t,zs=null;break}e:{var i=e,a=n.return,s=n,l=t;if(t=Os,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Ni.current),p=a;do{var f;if(f=13===p.tag){var h=p.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=p.updateQueue;if(null===g){var y=new Set;y.add(c),p.updateQueue=y}else g.add(c);if(0==(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=ai(-1,1);v.tag=2,si(s,v)}s.lanes|=1;break e}l=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new as,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var w=Dl.bind(null,i,c,s);c.then(w,w)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==As&&(As=2),l=os(l,s),p=a;do{switch(p.tag){case 3:i=l,p.flags|=4096,t&=-t,p.lanes|=t,li(p,ss(0,i,t));break e;case 1:i=l;var _=p.type,k=p.stateNode;if(0==(64&p.flags)&&("function"==typeof _.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===Us||!Us.has(k)))){p.flags|=4096,t&=-t,p.lanes|=t,li(p,ls(p,i,t));break e}}p=p.return}while(null!==p)}Sl(n)}catch(e){t=e,zs===n&&null!==n&&(zs=n=n.return);continue}break}}function bl(){var e=xs.current;return xs.current=za,null===e?za:e}function wl(e,t){var n=Ms;Ms|=16;var r=bl();for(Cs===e&&Os===t||yl(e,t);;)try{_l();break}catch(t){vl(e,t)}if(Yo(),Ms=n,xs.current=r,null!==zs)throw Error(a(261));return Cs=null,Os=0,As}function _l(){for(;null!==zs;)xl(zs)}function kl(){for(;null!==zs&&!So();)xl(zs)}function xl(e){var t=js(e.alternate,e,Es);e.memoizedProps=e.pendingProps,null===t?Sl(e):zs=t,Ss.current=null}function Sl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ns(n,t,Es)))return void(zs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Es)||0==(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=rs(t)))return n.flags&=2047,void(zs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(zs=t);zs=t=e}while(null!==t);0===As&&(As=5)}function Ml(e){var t=qo();return Bo(99,Cl.bind(null,e,t)),null}function Cl(e,t){do{Ol()}while(null!==Ws);if(0!=(48&Ms))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<i;){var c=31-Kt(i),u=1<<c;o[c]=0,s[c]=-1,l[c]=-1,i&=~u}if(null!==Zs&&0==(24&r)&&Zs.has(e)&&Zs.delete(e),e===Cs&&(zs=Cs=null,Os=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=Ms,Ms|=32,Ss.current=null,$r=Xt,pr(s=dr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,i=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d=0,p=-1,f=-1,h=0,m=0,g=s,y=null;t:for(;;){for(var v;g!==l||0!==i&&3!==g.nodeType||(p=d+i),g!==c||0!==u&&3!==g.nodeType||(f=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===s)break t;if(y===l&&++h===i&&(p=d),y===c&&++m===u&&(f=d),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===p||-1===f?null:{start:p,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Rr={focusedElem:s,selectionRange:l},Xt=!1,rl=null,ol=!1,Bs=r;do{try{zl()}catch(e){if(null===Bs)throw Error(a(330));Nl(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);rl=null,Bs=r;do{try{for(s=e;null!==Bs;){var b=Bs.flags;if(16&b&&ye(Bs.stateNode,""),128&b){var w=Bs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:ys(Bs),Bs.flags&=-3;break;case 6:ys(Bs),Bs.flags&=-3,bs(Bs.alternate,Bs);break;case 1024:Bs.flags&=-1025;break;case 1028:Bs.flags&=-1025,bs(Bs.alternate,Bs);break;case 4:bs(Bs.alternate,Bs);break;case 8:vs(s,l=Bs);var k=l.alternate;ms(l),null!==k&&ms(k)}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(a(330));Nl(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);if(_=Rr,w=dr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==s&&pr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,k=Math.min(s.start,l),s=void 0===s.end?k:Math.min(s.end,l),!_.extend&&k>s&&(l=s,s=k,k=l),l=ur(b,k),i=ur(b,s),l&&i&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==i.node||_.focusOffset!==i.offset)&&((w=w.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),k>s?(_.addRange(w),_.extend(i.node,i.offset)):(w.setEnd(i.node,i.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Xt=!!$r,Rr=$r=null,e.current=n,Bs=r;do{try{for(b=e;null!==Bs;){var x=Bs.flags;if(36&x&&ps(b,Bs.alternate,Bs),128&x){w=void 0;var S=Bs.ref;if(null!==S){var M=Bs.stateNode;switch(Bs.tag){case 5:w=M;break;default:w=M}"function"==typeof S?S(w):S.current=w}}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(a(330));Nl(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,Do(),Ms=o}else e.current=n;if(Hs)Hs=!1,Ws=e,Xs=t;else for(Bs=r;null!==Bs;)t=Bs.nextEffect,Bs.nextEffect=null,8&Bs.flags&&((x=Bs).sibling=null,x.stateNode=null),Bs=t;if(0===(r=e.pendingLanes)&&(Us=null),1===r?e===Qs?Ys++:(Ys=0,Qs=e):Ys=0,n=n.stateNode,wo&&"function"==typeof wo.onCommitFiberRoot)try{wo.onCommitFiberRoot(bo,n,void 0,64==(64&n.current.flags))}catch(e){}if(cl(e,Fo()),Ks)throw Ks=!1,e=Vs,Vs=null,e;return 0!=(8&Ms)||Vo(),null}function zl(){for(;null!==Bs;){var e=Bs.alternate;ol||null===rl||(0!=(8&Bs.flags)?Qe(Bs,rl)&&(ol=!0):13===Bs.tag&&_s(e,Bs)&&Qe(Bs,rl)&&(ol=!0));var t=Bs.flags;0!=(256&t)&&ds(e,Bs),0==(512&t)||Hs||(Hs=!0,Ko(97,(function(){return Ol(),null}))),Bs=Bs.nextEffect}}function Ol(){if(90!==Xs){var e=97<Xs?97:Xs;return Xs=90,Bo(e,Al)}return!1}function El(e,t){Gs.push(t,e),Hs||(Hs=!0,Ko(97,(function(){return Ol(),null})))}function Ll(e,t){Js.push(t,e),Hs||(Hs=!0,Ko(97,(function(){return Ol(),null})))}function Al(){if(null===Ws)return!1;var e=Ws;if(Ws=null,0!=(48&Ms))throw Error(a(331));var t=Ms;Ms|=32;var n=Js;Js=[];for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1],s=o.destroy;if(o.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===i)throw Error(a(330));Nl(i,e)}}for(n=Gs,Gs=[],r=0;r<n.length;r+=2){o=n[r],i=n[r+1];try{var l=o.create;o.destroy=l()}catch(e){if(null===i)throw Error(a(330));Nl(i,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ms=t,Vo(),!0}function Tl(e,t,n){si(e,t=ss(0,t=os(n,t),1)),t=il(),null!==(e=ll(e,1))&&(Bt(e,1,t),cl(e,t))}function Nl(e,t){if(3===e.tag)Tl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Tl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Us||!Us.has(r))){var o=ls(n,e=os(t,e),1);if(si(n,o),o=il(),null!==(n=ll(n,1)))Bt(n,1,o),cl(n,o);else if("function"==typeof r.componentDidCatch&&(null===Us||!Us.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Dl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=il(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Os&n)===n&&(4===As||3===As&&(62914560&Os)===Os&&500>Fo()-Is?yl(e,0):$s|=n),cl(e,t)}function Pl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===qo()?1:2:(0===tl&&(tl=Ns),0===(t=qt(62914560&~tl))&&(t=4194304))),n=il(),null!==(e=ll(e,t))&&(Bt(e,t,n),cl(e,n))}function $l(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new $l(e,t,n,r)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ql(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)Il(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return jl(n.children,o,i,t);case $:s=8,o|=16;break;case M:s=8,o|=1;break;case C:return(e=Rl(12,n,t,8|o)).elementType=C,e.type=C,e.lanes=i,e;case L:return(e=Rl(13,n,t,o)).type=L,e.elementType=L,e.lanes=i,e;case A:return(e=Rl(19,n,t,o)).elementType=A,e.lanes=i,e;case R:return Bl(n,o,i,t);case I:return(e=Rl(24,n,t,o)).elementType=I,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case z:s=10;break e;case O:s=9;break e;case E:s=11;break e;case T:s=14;break e;case N:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function jl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Bl(e,t,n,r){return(e=Rl(23,e,r,t)).elementType=R,e.lanes=n,e}function Kl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=jt(0),this.expirationTimes=jt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.mutableSourceEagerHydrationData=null}function Hl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Wl(e,t,n,r){var o=t.current,i=il(),s=al(o);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(fo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(fo(c)){n=go(n,c,l);break e}}n=l}else n=so;return null===t.context?t.context=n:t.pendingContext=n,(t=ai(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),si(o,t),sl(o,s,i),s}function Xl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Jl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}function Zl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ul(e,t,null!=n&&!0===n.hydrate),t=Rl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oi(t),e[Gr]=n.current,zr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ql(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Xl(a);s.call(e)}}Wl(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Xl(a);l.call(e)}}hl((function(){Wl(t,a,e,o)}))}return Xl(a)}function ec(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return Hl(e,t,null,n)}js=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||co.current)Ta=!0;else{if(0==(n&r)){switch(Ta=!1,t.tag){case 3:Ba(t),Ki();break;case 5:Ai(t);break;case 1:fo(t.type)&&yo(t);break;case 4:Ei(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;ao(Xo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Wa(e,t,n):(ao(Ni,1&Ni.current),null!==(t=es(e,t,n))?t.sibling:null);ao(Ni,1&Ni.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Qa(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ao(Ni,Ni.current),r)break;return null;case 23:case 24:return t.lanes=0,Ra(e,t,n)}return es(e,t,n)}Ta=0!=(16384&e.flags)}else Ta=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=po(t,lo.current),ti(t,n),o=na(null,t,r,e,o,n),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fo(r)){var i=!0;yo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,oi(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&pi(t,r,s,e),o.updater=fi,t.stateNode=o,o._reactInternals=t,yi(t,r,e,n),t=ja(null,t,r,!0,i,n)}else t.tag=0,Na(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"==typeof e)return Il(e)?1:0;if(null!=e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(o),e=Wo(o,e),i){case 0:t=Fa(null,t,o,e,n);break e;case 1:t=qa(null,t,o,e,n);break e;case 11:t=Da(null,t,o,e,n);break e;case 14:t=Pa(null,t,o,Wo(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Fa(e,t,r,o=t.elementType===r?o:Wo(r,o),n);case 1:return r=t.type,o=t.pendingProps,qa(e,t,r,o=t.elementType===r?o:Wo(r,o),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ii(e,t),ci(t,r,null,n),(r=t.memoizedState.element)===o)Ki(),t=es(e,t,n);else{if((i=(o=t.stateNode).hydrate)&&($i=Kr(t.stateNode.containerInfo.firstChild),Pi=t,i=Ri=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(i=e[o])._workInProgressVersionPrimary=e[o+1],Vi.push(i);for(n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Na(e,t,r,n),Ki();t=t.child}return t;case 5:return Ai(t),null===e&&qi(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,Fr(r,o)?s=null:null!==i&&Fr(r,i)&&(t.flags|=16),Ia(e,t),Na(e,t,s,n),t.child;case 6:return null===e&&qi(t),null;case 13:return Wa(e,t,n);case 4:return Ei(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ki(t,null,r,n):Na(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Da(e,t,r,o=t.elementType===r?o:Wo(r,o),n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var l=t.type._context;if(ao(Xo,l._currentValue),l._currentValue=i,null!==s)if(l=s.value,0===(i=ar(l,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!co.current){t=es(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&i)){1===l.tag&&((u=ai(-1,n&-n)).tag=2,si(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ei(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Na(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ti(t,n),r=r(o=ni(o,i.unstable_observedBits)),t.flags|=1,Na(e,t,r,n),t.child;case 14:return i=Wo(o=t.type,t.pendingProps),Pa(e,t,o,i=Wo(o.type,i),r,n);case 15:return $a(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fo(r)?(e=!0,yo(t)):e=!1,ti(t,n),mi(t,r,o),yi(t,r,o,n),ja(null,t,r,!0,e,n);case 19:return Qa(e,t,n);case 23:case 24:return Ra(e,t,n)}throw Error(a(156,t.tag))},Zl.prototype.render=function(e){Wl(e,this._internalRoot,null,null)},Zl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Wl(null,e,null,(function(){t[Gr]=null}))},et=function(e){13===e.tag&&(sl(e,4,il()),Jl(e,4))},tt=function(e){13===e.tag&&(sl(e,67108864,il()),Jl(e,67108864))},nt=function(e){if(13===e.tag){var t=il(),n=al(e);sl(e,n,t),Jl(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=eo(r);if(!o)throw Error(a(90));Z(r),ne(r,o)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Te=fl,Ne=function(e,t,n,r,o){var i=Ms;Ms|=4;try{return Bo(98,e.bind(null,t,n,r,o))}finally{0===(Ms=i)&&(qs(),Vo())}},De=function(){0==(49&Ms)&&(function(){if(null!==Zs){var e=Zs;Zs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cl(e,Fo())}))}Vo()}(),Ol())},Pe=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&(qs(),Vo())}};var tc={Events:[Yr,Qr,eo,Le,Ae,Ol,{current:!1}]},nc={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{bo=oc.inject(rc),wo=oc}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=ec,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ms;if(0!=(48&n))return e(t);Ms|=1;try{if(e)return Bo(99,e.bind(null,t))}finally{Ms=n,Vo()}},t.hydrate=function(e,t,n){if(!Yl(t))throw Error(a(200));return Ql(null,e,t,!0,n)},t.render=function(e,t,n){if(!Yl(t))throw Error(a(200));return Ql(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(a(40));return!!e._reactRootContainer&&(hl((function(){Ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[Gr]=null}))})),!0)},t.unstable_batchedUpdates=fl,t.unstable_createPortal=function(e,t){return ec(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Ql(e,t,n,!1,r)},t.version="17.0.1"},function(e,t,n){"use strict";e.exports=n(29)},function(e,t,n){"use strict";
/** @license React v0.20.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,o,i,a;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,d=null,p=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(p,0),e}};r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(p,0))},o=function(e,t){d=setTimeout(e,t)},i=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,y=null,v=-1,b=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,k=_.port2;_.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+b;try{y(!0,e)?k.postMessage(null):(g=!1,y=null)}catch(e){throw k.postMessage(null),e}}else g=!1},r=function(e){y=e,g||(g=!0,k.postMessage(null))},o=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){h(v),v=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<C(o,t)))break e;e[r]=t,e[n]=o,n=r}}function S(e){return void 0===(e=e[0])?null:e}function M(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>C(a,n))void 0!==l&&0>C(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==l&&0>C(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var z=[],O=[],E=1,L=null,A=3,T=!1,N=!1,D=!1;function P(e){for(var t=S(O);null!==t;){if(null===t.callback)M(O);else{if(!(t.startTime<=e))break;M(O),t.sortIndex=t.expirationTime,x(z,t)}t=S(O)}}function $(e){if(D=!1,P(e),!N)if(null!==S(z))N=!0,r(R);else{var t=S(O);null!==t&&o($,t.startTime-e)}}function R(e,n){N=!1,D&&(D=!1,i()),T=!0;var r=A;try{for(P(n),L=S(z);null!==L&&(!(L.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=L.callback;if("function"==typeof a){L.callback=null,A=L.priorityLevel;var s=a(L.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?L.callback=s:L===S(z)&&M(z),P(n)}else M(z);L=S(z)}if(null!==L)var l=!0;else{var c=S(O);null!==c&&o($,c.startTime-n),l=!1}return l}finally{L=null,A=r,T=!1}}var I=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||T||(N=!0,r(R))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return S(z)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:E++,callback:n,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,x(O,e),null===S(z)&&e===S(O)&&(D?i():D=!0,o($,a-s))):(e.sortIndex=l,x(z,e),N||T||(N=!0,r(R))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},function(e,t,n){var r=n(16),o=n(31),i={};for(var a in r)r.hasOwnProperty(a)&&(i[r[a]]=a);var s=e.exports={to:{},get:{}};function l(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),n="hsl";break;case"hwb":t=s.get.hwb(e),n="hwb";break;default:t=s.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,n,o,i=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=t[2],t=t[1],n=0;n<3;n++){var a=2*n;i[n]=parseInt(t.slice(a,a+2),16)}o&&(i[3]=parseInt(o,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(o=(t=t[1])[3],n=0;n<3;n++)i[n]=parseInt(t[n]+t[n],16);o&&(i[3]=parseInt(o+o,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(t[n+1],0);t[4]&&(i[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(i=r[t[1]])?(i[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(i[3]=parseFloat(t[4]))}for(n=0;n<3;n++)i[n]=l(i[n],0,255);return i[3]=l(i[3],0,1),i},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var e=o(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=o(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=o(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},s.to.hsl=function(){var e=o(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=o(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return i[e.slice(0,3)]}},function(e,t,n){"use strict";var r=n(32),o=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=o.call(t,i.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,n){var r=n(17),o=n(34),i={};Object.keys(r).forEach((function(e){i[e]={},Object.defineProperty(i[e],"channels",{value:r[e].channels}),Object.defineProperty(i[e],"labels",{value:r[e].labels});var t=o(e);Object.keys(t).forEach((function(n){var r=t[n];i[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,o=0;o<r;o++)n[o]=Math.round(n[o]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),i[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=i},function(e,t,n){var r=n(17);function o(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,o=0;o<n;o++)e[t[o]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var o=n.pop(),i=Object.keys(r[o]),a=i.length,s=0;s<a;s++){var l=i[s],c=t[l];-1===c.distance&&(c.distance=t[o].distance+1,c.parent=o,n.unshift(l))}return t}function i(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],o=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),o=i(r[t[a].parent][a],o),a=t[a].parent;return o.conversion=n,o}e.exports=function(e){for(var t=o(e),n={},r=Object.keys(t),i=r.length,s=0;s<i;s++){var l=r[s];null!==t[l].parent&&(n[l]=a(l,t))}return n}},function(e,t,n){"use strict";var r=n(36);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){(function(e,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,c=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(p[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function v(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=36)e=f(e/35);return f(r+36*e/(e+38))}function k(e){var t,n,r,o,i,a,s,c,u,d,p,h=[],g=e.length,y=0,v=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),h.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(i=y,a=1,s=36;o>=g&&m("invalid-input"),((c=(p=e.charCodeAt(o++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||c>f((l-y)/a))&&m("overflow"),y+=c*a,!(c<(u=s<=w?1:s>=w+26?26:s-w));s+=36)a>f(l/(d=36-u))&&m("overflow"),a*=d;w=_(y-i,t=h.length+1,0==i),f(y/t)>l-v&&m("overflow"),v+=f(y/t),y%=t,h.splice(y++,0,v)}return b(h)}function x(e){var t,n,r,o,i,a,s,c,u,d,p,g,y,b,k,x=[];for(g=(e=v(e)).length,t=128,n=0,i=72,a=0;a<g;++a)(p=e[a])<128&&x.push(h(p));for(r=o=x.length,o&&x.push("-");r<g;){for(s=l,a=0;a<g;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>f((l-n)/(y=r+1))&&m("overflow"),n+=(s-t)*y,t=s,a=0;a<g;++a)if((p=e[a])<t&&++n>l&&m("overflow"),p==t){for(c=n,u=36;!(c<(d=u<=i?1:u>=i+26?26:u-i));u+=36)k=c-d,b=36-d,x.push(h(w(d+k%b,0))),c=f(k/b);x.push(h(w(c,0))),i=_(n,y,r==o),n=0,++r}++n,++t}return x.join("")}s={version:"1.4.1",ucs2:{decode:v,encode:b},decode:k,encode:x,toASCII:function(e){return y(e,(function(e){return u.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(38)(e),n(18))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(41),t.encode=t.stringify=n(42)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,p,f,h,m=e[u].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),p=m.substr(g+1)):(d=m,p=""),f=decodeURIComponent(d),h=decodeURIComponent(p),r(a,f)?o(a[f])?a[f].push(h):a[f]=[a[f],h]:a[f]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),s=0;s<i.length;s++){var l=i[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(14),o=n.n(r),i=n(0),a=n.n(i),s=n(9),l=n.n(s),c="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),u=new Uint8Array(16);function d(){if(!c)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(u)}for(var p=[],f=0;f<256;++f)p.push((f+256).toString(16).substr(1));var h,m,g=function(e,t){var n=t||0;return(p[e[n+0]]+p[e[n+1]]+p[e[n+2]]+p[e[n+3]]+"-"+p[e[n+4]]+p[e[n+5]]+"-"+p[e[n+6]]+p[e[n+7]]+"-"+p[e[n+8]]+p[e[n+9]]+"-"+p[e[n+10]]+p[e[n+11]]+p[e[n+12]]+p[e[n+13]]+p[e[n+14]]+p[e[n+15]]).toLowerCase()},y=0,v=0;var b=function(e,t,n){var r=t&&n||0,o=t||new Array(16),i=(e=e||{}).node||h,a=void 0!==e.clockseq?e.clockseq:m;if(null==i||null==a){var s=e.random||(e.rng||d)();null==i&&(i=h=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=m=16383&(s[6]<<8|s[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:v+1,u=l-y+(c-v)/1e4;if(u<0&&void 0===e.clockseq&&(a=a+1&16383),(u<0||l>y)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=l,v=c,m=a;var p=(1e4*(268435455&(l+=122192928e5))+c)%4294967296;o[r++]=p>>>24&255,o[r++]=p>>>16&255,o[r++]=p>>>8&255,o[r++]=255&p;var f=l/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var b=0;b<6;++b)o[r+b]=i[b];return t||g(o)},w=function(e,t){var n="pw-"+e;switch((t||{}).format){case"cssVar":return"--"+n;case"data":return"data-"+n;case"selector":return"."+n}return n},_=n(1),k={CLICK:"mouseup",MOUSEENTER:"mouseenter"};function x(e,t){var n=e[t];return"tr"===t&&n instanceof _.Transaction?n.setMeta("dryrun",!0):n}function S(e,t,n){return e[t]=n,!0}var M=function(){function e(){}return e.prototype.shouldRespondToUIEvent=function(t){return t.type===e.EventType.CLICK},e.prototype.renderLabel=function(e){return null},e.prototype.isActive=function(e){return!1},e.prototype.isEnabled=function(e,t){return this.dryRun(e,t)},e.prototype.dryRun=function(e,t){var n=window.Proxy,r=n?new n(e,{get:x,set:S}):e;return this.execute(r,null,t)},e.prototype.execute=function(e,t,n,r){var o=this;return this.waitForUserInput(e,t,n,r).then((function(r){o.executeWithUserInput(e,t,n,r)})).catch((function(e){console.error(e)})),!1},e.prototype.waitForUserInput=function(e,t,n,r){return Promise.resolve(void 0)},e.prototype.executeWithUserInput=function(e,t,n,r){return!1},e.prototype.cancel=function(){},e.EventType=k,e}(),C=M,z=n(2),O=/([\d\.]+)(px|pt)/i;function E(e){var t=e.match(O);if(!t)return 0;var n=parseFloat(t[1]),r=t[2];return n&&r?("px"===r&&(n*=.75292857),n):0}var L="desktop_screen_4_3",A="desktop_screen_16_9",T="us_letter_landscape",N="us_letter_portrait";var D={attrs:{layout:{default:null},padding:{default:null},width:{default:null}},content:"block+"},P=["code",0],$={parseDOM:[{tag:"code"}],toDOM:function(){return P}},R=["em",0],I={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return R}};var F={attrs:{pt:{default:null}},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:function(e){var t={};if(!e)return t;var n=(r=e,o=[8,9,10,11,12,14,18,24,30,36,48,60,72,90],i=E(r),o.includes(i)?i:o.reduce((function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}),Number.NEGATIVE_INFINITY));var r,o,i;if(!n)return t;return{pt:n}}}],toDOM:function(e){var t=e.attrs.pt;return["span",t?{style:"font-size: "+t+"pt;",class:w("font-size-mark")}:null,0]}},q=["Aclonica","Acme","Alegreya","Arial Black","Georgia","Tahoma","Times New Roman","Times","Verdana","Courier New"];function j(e){B.add(e)}var B=new Set([]),K={attrs:{name:""},inline:!0,group:"inline",parseDOM:[{style:"font-family",getAttrs:function(e){return{name:e?e.replace(/[\"\']/g,""):""}}}],toDOM:function(e){var t=e.attrs.name,n={};return t&&(B.has(t)||j(t),n.style="font-family: "+t),["span",n,0]}},V={attrs:{href:{default:null},rel:{default:"noopener noreferrer nofollow"},target:{default:"blank"},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var t=e.getAttribute("href"),n=t&&0===t.indexOf("#")?"":"blank";return{href:e.getAttribute("href"),title:e.getAttribute("title"),target:n}}}],toDOM:function(e){return["a",e.attrs,0]}},U="heading",H="list_item",W="paragraph";function X(e,t,n){return t<e?e:t>n?n:t}var G=/^\d+(.\d+)?$/;function J(e){if(!e)return"";var t=String(e);if(G.test(t)){var n=parseFloat(t);t=String(Math.round(100*n))+"%"}return"100%"===t?"125%":"115%"===t?"138%":"150%"===t?"165%":"200%"===t?"232%":t}var Z=new Set(["","0%","0pt","0px"]),Y=/(left|right|center|justify)/;function Q(e){var t=e.style,n=t.lineHeight,r=t.textAlign,o=t.marginLeft,i=t.paddingTop,a=t.paddingBottom,s=e.getAttribute("align")||r||"";s=Y.test(s)?s:null;var l=parseInt(e.getAttribute("data-indent"),10);return!l&&o&&(l=re(o)),{align:s,indent:l=l||0,lineSpacing:n?J(n):null,paddingTop:i,paddingBottom:a,id:e.getAttribute("id")||"",objectId:e.getAttribute("objectId")||null}}function ee(e){var t=e.attrs,n=t.align,r=t.indent,o=t.lineSpacing,i=t.paddingTop,a=t.paddingBottom,s=t.id,l=t.objectId,c={},u="";if(n&&"left"!==n&&(u+="text-align: "+n+";"),o){var d=J(o);u+="line-height: "+d+";"+w("content-line-height: "+d,{format:"cssVar"})}return i&&!Z.has(i)&&(u+="padding-top: "+i+";"),a&&!Z.has(a)&&(u+="padding-bottom: "+a+";"),u&&(c.style=u),r&&(c["data-indent"]=String(r)),s&&(c.id=s),c.objectId=l,["p",c,0]}var te=ee,ne=Q;function re(e){var t=E(e);return X(0,Math.floor(t/36),7)}var oe={attrs:{align:{default:null},color:{default:null},id:{default:null},indent:{default:null},lineSpacing:{default:null},paddingBottom:{default:null},paddingTop:{default:null},objectId:{default:null}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:Q}],toDOM:ee},ie={attrs:{size:{default:"tab"}},defining:!0,draggable:!1,excludes:"_",group:"inline",inclusive:!1,inline:!0,spanning:!1,parseDOM:[{tag:"span[data-spacer-size]",getAttrs:function(e){return{size:e.getAttribute("data-spacer-size")||"tab"}}}],toDOM:function(e){var t,n=e.attrs.size;return["span",(t={},t["data-spacer-size"]=n,t),0]}},ae={parseDOM:[{style:"text-decoration",getAttrs:function(e){return"line-through"===e&&null}}],toDOM:function(){return["span",{style:"text-decoration: line-through"},0]}},se=["strong",0],le=/^(bold(er)?|[5-9]\d{2,})$/,ce={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!=e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return le.test(e)&&null}}],toDOM:function(){return se}},ue=n(10),de=n.n(ue),pe=/^rgba/i,fe={transparent:"rgba(0,0,0,0)",inherit:""};function he(e){if(!e)return!0;var t=me(e);return!t||"rgba(0,0,0,0)"===t}function me(e){if(!e)return"";if(e in fe)return fe[e];if(e&&pe.test(e)){var t=de()(e);if(0===t.valpha)return fe[e]="rgba(0,0,0,0)","rgba(0,0,0,0)";var n=t.toString();return fe[e]=n.toString(),n}var r="";try{r=de()(e).hex().toLowerCase(),fe[e]=r}catch(t){console.warn("unable to convert to hex",e),fe[e]=""}return r}var ge,ye,ve=me,be={attrs:{color:""},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:function(e){return{color:ve(e)}}}],toDOM:function(e){var t=e.attrs.color,n="";return t&&(n+="color: "+t+";"),["span",{style:n},0]}},we={attrs:{highlightColor:""},inline:!0,group:"inline",parseDOM:[{tag:"span[style*=background-color]",getAttrs:function(e){var t=me(e.style.backgroundColor);return{highlightColor:he(t)?"":t}}}],toDOM:function(e){var t=e.attrs.highlightColor,n="";return t&&(n+="background-color: "+t+";"),["span",{style:n},0]}},_e=["nobr",0],ke={parseDOM:[{tag:"nobr"}],toDOM:function(){return _e}},xe={group:"inline"},Se={attrs:{id:""},inline:!0,group:"inline",parseDOM:[{tag:w("text-selection")}],toDOM:function(e){return[w("text-selection"),{class:w("text-selection")},0]}},Me={parseDOM:[{tag:"sup"},{style:"vertical-align",getAttrs:function(e){return"super"===e&&null}}],toDOM:function(){return["sup",0]}},Ce={parseDOM:[{tag:"sub"},{style:"vertical-align",getAttrs:function(e){return"sub"===e&&null}}],toDOM:function(){return["sub",0]}},ze={parseDOM:[{tag:"u"},{style:"text-decoration-line",getAttrs:function(e){return"underline"===e&&null}},{style:"text-decoration",getAttrs:function(e){return"underline"===e&&null}}],toDOM:function(){return["u",0]}},Oe={attrs:{stylename:{default:null},fontname:{default:null},fontsize:{default:null},color:{default:null},highlightColor:{default:null}},inline:!0,group:"inline",parseDOM:[{style:"font-family",getAttrs:function(e){return{fontname:e?e.replace(/[\"\']/g,""):""}}}],toDOM:function(e){var t=e.attrs,n=t.fontname,r=t.fontsize,o=t.color,i=t.highlightColor,a={},s="";return n&&(s+="font-family: "+n+";"),r&&(s+="font-size: "+r+"pt;"),i&&(s+="background-color: "+i+";"),o&&(s+="color: "+o+";"),a.style=s,["span",a]}},Ee=((ge={}).doc=D,ge[W]=oe,ge.text=xe,ge),Le=((ye={}).link=V,ye["mark-no-break"]=ke,ye.code=$,ye.em=I,ye["mark-font-size"]=F,ye["mark-font-type"]=K,ye.spacer=ie,ye.strike=ae,ye.strong=ce,ye.sub=Ce,ye.super=Me,ye["mark-text-color"]=be,ye["mark-text-highlight"]=we,ye["mark-text-selection"]=Se,ye.underline=ze,ye["custom-styles"]=Oe,ye),Ae=new z.Schema({nodes:Ee,marks:Le}).spec.marks,Te=function(){return(Te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var Ne=Te(Te({},oe),{defining:!0,parseDOM:[{tag:"blockquote",getAttrs:function(e){return ne(e)}}],toDOM:function(e){var t=te(e);return t[0]="blockquote",t}});var De={inline:!0,attrs:{id:{default:null},visible:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"a[data-bookmark-id]",getAttrs:function(e){return{id:e.getAttribute("data-bookmark-id"),visible:"true"===e.getAttribute("data-bookmark-visible")}}}],toDOM:function(e){var t,n=e.attrs,r=n.id,o=n.visible;return["a",r?((t={})["data-bookmark-id"]=r,t["data-bookmark-visible"]=o,t.id=r,t):{}]}},Pe=/(left|right|center|justify)/;var $e={attrs:{align:{default:null}},content:"paragraph",parseDOM:[{tag:"li",getAttrs:function(e){var t={},n=e.style.textAlign,r=e.getAttribute("data-align")||n||"";return(r=Pe.test(r)?r:null)&&(t.align=r),t}}],toDOM:function(e){var t={},n=e.attrs.align;return n&&(t["data-align"]=n),["li",t,0]}},Re=["disc","square","circle"],Ie={attrs:{id:{default:null},indent:{default:0},listStyleType:{default:null},objectId:{default:null}},group:"block",content:H+"+",parseDOM:[{tag:"ul",getAttrs:function(e){var t=e.getAttribute("data-list-style-type")||null;return{indent:e.hasAttribute("data-indent")?parseInt(e.getAttribute("data-indent"),10):0,listStyleType:t,objectId:e.getAttribute("objectId")||null}}}],toDOM:function(e){var t=e.attrs,n=t.indent,r=t.listStyleType,o=t.objectId,i={};i["data-indent"]=n,r&&(i["data-list-style-type"]=r);var a=r;return a&&"disc"!==a||(a=Re[n%Re.length]),i.type=a,i.objectId=o,["ul",i,0]}},Fe=["br"],qe={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return Fe}},je=function(){return(je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Be={H1:1,H2:2,H3:3,H4:4,H5:5,H6:6},Ke=[{name:"Normal",level:0},{name:"Heading 1",level:1},{name:"Heading 2",level:2},{name:"Heading 3",level:3},{name:"Heading 4",level:4},{name:"Title",customstyles:[{stylename:"Title",strong:!0,em:!0,color:"Green"}]},{name:"Quote",style:[{"font-size":20,"font-name":"Arial"}]}];function Ve(e){var t=ne(e),n=Be[e.nodeName.toUpperCase()]||1;return t.level=n,t}var Ue=je(je({},oe),{attrs:je(je({},oe.attrs),{level:{default:1}}),defining:!0,parseDOM:[{tag:"h1",getAttrs:Ve},{tag:"h2",getAttrs:Ve},{tag:"h3",getAttrs:Ve},{tag:"h4",getAttrs:Ve},{tag:"h5",getAttrs:Ve},{tag:"h6",getAttrs:Ve}],toDOM:function(e){var t=te(e),n=e.attrs.level||1;return t[0]="h"+n,t}});var He={attrs:{pageBreak:{default:null}},group:"block",parseDOM:[{tag:"hr",getAttrs:function(e){var t={};return(e.getAttribute("data-page-break")||"always"===e.style.pageBreakBefore)&&(t.pageBreak=!0),t}}],toDOM:function(e){var t={};return e.attrs.pageBreak&&(t["data-page-break"]="true"),["hr",t]}},We=/rotate\(([0-9\.]+)rad\)/i,Xe=new Set(["0%","0pt","0px"]);var Ge={inline:!0,attrs:{align:{default:null},alt:{default:""},crop:{default:null},height:{default:null},rotate:{default:null},src:{default:null},title:{default:""},width:{default:null},objectId:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){var t=e.style,n=t.cssFloat,r=t.display,o=t.marginTop,i=t.marginLeft,a=e.style,s=a.width,l=a.height,c=e.getAttribute("data-align")||e.getAttribute("align");c?c=/(left|right|center)/.test(c)?c:null:"left"!==n||r?"right"!==n||r?n||"block"!==r||(c="block"):c="right":c="left",s=s||e.getAttribute("width"),l=l||e.getAttribute("height");var u=null,d=null,p=e.parentElement;if(p instanceof HTMLElement){var f=p.style;if("inline-block"===f.display&&"hidden"===f.overflow&&f.width&&f.height&&i&&!Xe.has(i)&&o&&!Xe.has(o)&&(u={width:parseInt(f.width,10)||0,height:parseInt(f.height,10)||0,left:parseInt(i,10)||0,top:parseInt(o,10)||0}),f.transform){var h=f.transform.match(We);h&&h[1]&&(d=parseFloat(h[1])||null)}}return{align:c,alt:e.getAttribute("alt")||null,crop:u,height:parseInt(l,10)||null,rotate:d,src:e.getAttribute("src")||null,title:e.getAttribute("title")||null,width:parseInt(s,10)||null,objectId:e.getAttribute("objectId")||null}}}],toDOM:function(e){return["img",e.attrs]}};function Je(e){var t=e.getAttribute("data-align")||e.getAttribute("align");return t&&(t=/(left|right|center)/.test(t)?t:null),{align:t,math:e.getAttribute("data-math")||null}}var Ze={inline:!0,attrs:{align:{default:null},math:{default:""}},group:"inline",draggable:!0,parseDOM:[{tag:"div[data-math]",getAttrs:Je},{tag:"span[data-math]",getAttrs:Je}],toDOM:function(e){var t=e.attrs,n=t.align,r=t.math,o={};return n&&(o.align=n),r&&(o["data-math"]=r),["center"==n?"div":"span",o]}};var Ye={inline:!1,attrs:{src:{default:""}},group:"block",draggable:!0,parseDOM:[{tag:"iframe",getAttrs:function(e){return{src:e.src}}}],toDOM:function(e){var t=e.attrs.src;return["div",{"data-src":t,class:"frame-wrapper embed-responsive embed-responsive-16by9"},["iframe",{src:t}]]}},Qe=["decimal","lower-alpha","lower-roman"],et={attrs:{id:{default:null},counterReset:{default:null},indent:{default:0},following:{default:null},listStyleType:{default:null},name:{default:null},start:{default:1},objectId:{default:null}},group:"block",content:H+"+",parseDOM:[{tag:"ol",getAttrs:function(e){var t=e.getAttribute("data-list-style-type"),n=e.getAttribute("data-counter-reset")||void 0,r=e.hasAttribute("start")?parseInt(e.getAttribute("start"),10):1,o=e.hasAttribute("data-indent")?parseInt(e.getAttribute("data-indent"),10):0,i=e.getAttribute("name")||void 0;return{counterReset:n,following:e.getAttribute("data-following")||void 0,indent:o,listStyleType:t,name:i,start:r,objectId:e.getAttribute("objectId")||null}}}],toDOM:function(e){var t,n=e.attrs,r=n.start,o=n.indent,i=n.listStyleType,a=n.counterReset,s=n.following,l=n.name,c=n.objectId,u=((t={})["data-indent"]=o,t);"none"===a&&(u["data-counter-reset"]=a),s&&(u["data-following"]=s),i&&(u["data-list-style-type"]=i),1!==r&&(u.start=r),l&&(u.name=l),u.objectId=c;var d=i;d&&"decimal"!==d||(d=Qe[o%Qe.length]);var p=w("counter-"+o);return u.style=w("counter-name: "+p+";",{format:"cssVar"})+w("counter-reset: "+(s?"none":r-1)+";",{format:"cssVar"})+w("list-style-type: "+d,{format:"cssVar"}),u.type=d,["ol",u,0]}},tt=n(3),nt=new Set(["0pt","0px"]),rt=Object(tt.tableNodes)({tableGroup:"block",cellContent:"block+",cellAttributes:{borderColor:{default:null,getFromDOM:function(e){var t=e.style,n=t.borderColor,r=t.borderWidth;return nt.has(r)?"transparent":n&&ve(n)||null},setDOMAttr:function(e,t){e&&(t.style=(t.style||"")+";border-color: "+e+";")}},background:{default:null,getFromDOM:function(e){return e.style.backgroundColor||null},setDOMAttr:function(e,t){e&&(t.style=(t.style||"")+";background-color: "+e+";")}}}}),ot=Object.assign({},rt.table,{attrs:{marginLeft:{default:null},objectId:{default:null}},parseDOM:[{tag:"table",getAttrs:function(e){var t=e.style.marginLeft,n=e.getAttribute("objectId")||null;return t&&/\d+px/.test(t)?{marginLeft:parseFloat(t),objectId:n}:{objectId:n}}}],toDOM:function(e){var t=e.attrs,n=t.marginLeft,r=t.objectId,o={};return o.objectId=r,n&&(o.style="margin-left: "+n+"px"),["table",o,0]}});Object.assign(rt,{table:ot});var it,at=rt,st=((it={}).doc=D,it.paragraph=oe,it.blockquote=Ne,it.horizontal_rule=He,it.heading=Ue,it.text=xe,it.image=Ge,it.math=Ze,it.hard_break=qe,it.bullet_list=Ie,it.ordered_list=et,it.list_item=$e,it.bookmark=De,it.embed=Ye,it),lt=new z.Schema({nodes:st,marks:{}}).spec.nodes.append(at),ct=new z.Schema({nodes:lt,marks:Ae}),ut=n(4);function dt(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function pt(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function ft(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function ht(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function mt(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function gt(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof _.NodeSelection&&e.selection.node.isBlock)return!(!r.parentOffset||!Object(ut.h)(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,a=e.tr;e.selection instanceof _.TextSelection&&a.deleteSelection();var s=0==r.depth?null:mt(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=i&&s?[{type:s}]:null,c=Object(ut.h)(a.doc,a.mapping.map(r.pos),1,l);l||c||!Object(ut.h)(a.doc,a.mapping.map(r.pos),1,s&&[{type:s}])||(l=[{type:s}],c=!0),c&&(a.split(a.mapping.map(r.pos),1,l),i||r.parentOffset||r.parent.type==s||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),z.Fragment.from(s.create(),r.parent))||a.setNodeMarkup(a.mapping.map(r.before()),s)),t(a.scrollIntoView())}return!0}function yt(e,t,n){var r,o,i=t.nodeBefore,a=t.nodeAfter;if(i.type.spec.isolating||a.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!Object(ut.g)(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&o.matchType(r[0]||a.type).validEnd){if(n){for(var s=t.pos+a.nodeSize,l=z.Fragment.empty,c=r.length-1;c>=0;c--)l=z.Fragment.from(r[c].create(null,l));l=z.Fragment.from(i.copy(l));var u=e.tr.step(new ut.b(t.pos-1,s,t.pos,s,new z.Slice(l,1,0),r.length,!0)),d=s+2*r.length;Object(ut.g)(u.doc,d)&&u.join(d),n(u.scrollIntoView())}return!0}var p=_.Selection.findFrom(t,1),f=p&&p.$from.blockRange(p.$to),h=f&&Object(ut.l)(f);return null!=h&&h>=t.depth&&(n&&n(e.tr.lift(f,h).scrollIntoView()),!0)}function vt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}var bt=vt(dt,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var o=ft(r);if(!o){var i=r.blockRange(),a=i&&Object(ut.l)(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}var s=o.nodeBefore;if(!s.type.spec.isolating&&yt(e,o,t))return!0;if(0==r.parent.content.size&&(pt(s,"end")||_.NodeSelection.isSelectable(s))){if(t){var l=e.tr.deleteRange(r.before(),r.after());l.setSelection(pt(s,"end")?_.Selection.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):_.NodeSelection.create(l.doc,o.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}return!(!s.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=ft(o)}var a=i&&i.nodeBefore;return!(!a||!_.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(_.NodeSelection.create(e.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)})),wt=vt(dt,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=ht(r);if(!o)return!1;var i=o.nodeAfter;if(yt(e,o,t))return!0;if(0==r.parent.content.size&&(pt(i,"start")||_.NodeSelection.isSelectable(i))){if(t){var a=e.tr.deleteRange(r.before(),r.after());a.setSelection(pt(i,"start")?_.Selection.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):_.NodeSelection.create(a.doc,a.mapping.map(o.pos))),t(a.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=ht(o)}var a=i&&i.nodeAfter;return!(!a||!_.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(_.NodeSelection.create(e.doc,i.pos)).scrollIntoView()),!0)})),_t={Enter:vt((function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),(function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=mt(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(a,i.createAndFill());s.setSelection(_.TextSelection.create(s.doc,a+1)),t(s.scrollIntoView())}return!0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Object(ut.h)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&Object(ut.l)(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)}),gt),"Mod-Enter":function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),a=r.indexAfter(-1),s=mt(i.contentMatchAt(a));if(!i.canReplaceWith(a,a,s))return!1;if(t){var l=r.after(),c=e.tr.replaceWith(l,l,s.createAndFill());c.setSelection(_.Selection.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0},Backspace:bt,"Mod-Backspace":bt,Delete:wt,"Mod-Delete":wt,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new _.AllSelection(e.doc))),!0}},kt={"Ctrl-h":_t.Backspace,"Alt-Backspace":_t["Mod-Backspace"],"Ctrl-d":_t.Delete,"Ctrl-Alt-Backspace":_t["Mod-Delete"],"Alt-Delete":_t["Mod-Delete"],"Alt-d":_t["Mod-Delete"]};for(var xt in _t)kt[xt]=_t[xt];var St=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?kt:_t;var Mt=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(t){var r=function(e){return n[t](e)};return e.dom.addEventListener(t,r),{name:t,handler:r}}))};Mt.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var n=t.name,r=t.handler;return e.editorView.dom.removeEventListener(n,r)}))},Mt.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&this.updateOverlay()},Mt.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},Mt.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,r=t.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){var a=this.editorView.coordsAtPos(this.cursorPos);e={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var l=!s||s==document.body&&"static"==getComputedStyle(s).position?{left:-pageXOffset,top:-pageYOffset}:s.getBoundingClientRect();this.element.style.left=e.left-l.left+"px",this.element.style.top=e.top-l.top+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"},Mt.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},Mt.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var n=t.pos;this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=Object(ut.i)(this.editorView.state.doc,n,this.editorView.dragging.slice))&&(n=t.pos),this.setCursor(n),this.scheduleRemoval(5e3)}}},Mt.prototype.dragend=function(){this.scheduleRemoval(20)},Mt.prototype.drop=function(){this.scheduleRemoval(20)},Mt.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)};var Ct=n(11),zt=n(8),Ot=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return t.valid(o)?new t(o):e.near(o)},t.prototype.content=function(){return z.Slice.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new Et(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t);if(0!=n)for(var r=e.node(t).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock},t.findFrom=function(e,n,r){e:for(;;){if(!r&&t.valid(e))return e;for(var o=e.pos,i=null,a=e.depth;;a--){var s=e.node(a);if(n>0?e.indexAfter(a)<s.childCount:e.index(a)>0){i=s.child(n>0?e.indexAfter(a):e.index(a)-1);break}if(0==a)return null;o+=n;var l=e.doc.resolve(o);if(t.valid(l))return l}for(;;){var c=n>0?i.firstChild:i.lastChild;if(!c){if(i.isAtom&&!i.isText&&!_.NodeSelection.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=c,o+=n;var u=e.doc.resolve(o);if(t.valid(u))return u}return null}},t}(_.Selection);Ot.prototype.visible=!1,_.Selection.jsonID("gapcursor",Ot);var Et=function(e){this.pos=e};Et.prototype.map=function(e){return new Et(e.map(this.pos))},Et.prototype.resolve=function(e){var t=e.resolve(this.pos);return Ot.valid(t)?new Ot(t):_.Selection.near(t)};var Lt=Object(Ct.a)({ArrowLeft:At("horiz",-1),ArrowRight:At("horiz",1),ArrowUp:At("vert",-1),ArrowDown:At("vert",1)});function At(e,t){var n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){var i=e.selection,a=t>0?i.$to:i.$from,s=i.empty;if(i instanceof _.TextSelection){if(!o.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}var l=Ot.findFrom(a,t,s);return!!l&&(r&&r(e.tr.setSelection(new Ot(l))),!0)}}function Tt(e,t,n){if(!e.editable)return!1;var r=e.state.doc.resolve(t);if(!Ot.valid(r))return!1;var o=e.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&_.NodeSelection.isSelectable(e.state.doc.nodeAt(o)))&&(e.dispatch(e.state.tr.setSelection(new Ot(r))),!0)}function Nt(e){if(!(e.selection instanceof Ot))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",zt.b.create(e.doc,[zt.a.widget(e.selection.head,t,{key:"gapcursor"})])}var Dt=function(){};Dt.prototype.append=function(e){return e.length?(e=Dt.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},Dt.prototype.prepend=function(e){return e.length?Dt.from(e).append(this):this},Dt.prototype.appendInner=function(e){return new $t(this,e)},Dt.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Dt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Dt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Dt.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Dt.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},Dt.from=function(e){return e instanceof Dt?e:e&&e.length?new Pt(e):Dt.empty};var Pt=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Dt);Dt.empty=new Pt([]);var $t=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Dt),Rt=Dt,It=function(e,t){this.items=e,this.eventCount=t};It.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(r=this.remapping(i,this.items.length),o=r.maps.length);var a,s,l=e.tr,c=[],u=[];return this.items.forEach((function(e,t){if(!e.step)return r||(r=n.remapping(i,t+1),o=r.maps.length),o--,void u.push(e);if(r){u.push(new Ft(e.map));var d,p=e.step.map(r.slice(o));p&&l.maybeStep(p).doc&&(d=l.mapping.maps[l.mapping.maps.length-1],c.push(new Ft(d,null,null,c.length+u.length))),o--,d&&r.appendMap(d,o)}else l.maybeStep(e.step);return e.selection?(a=r?e.selection.map(r.slice(o)):e.selection,s=new It(n.items.slice(0,i).append(u.reverse().concat(c)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:l,selection:a}},It.prototype.addTransform=function(e,t,n,r){for(var o=[],i=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null,l=0;l<e.steps.length;l++){var c,u=e.steps[l].invert(e.docs[l]),d=new Ft(e.mapping.maps[l],u,t);(c=s&&s.merge(d))&&(d=c,l?o.pop():a=a.slice(0,a.length-1)),o.push(d),t&&(i++,t=null),r||(s=d)}var p,f,h,m=i-n.depth;return m>jt&&(f=m,(p=a).forEach((function(e,t){if(e.selection&&0==f--)return h=t,!1})),a=p.slice(h),i-=m),new It(a.append(o),i)},It.prototype.remapping=function(e,t){var n=new ut.a;return this.items.forEach((function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)}),e,t),n},It.prototype.addMaps=function(e){return 0==this.eventCount?this:new It(this.items.append(e.map((function(e){return new Ft(e)}))),this.eventCount)},It.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach((function(e){e.selection&&a--}),r);var s=t;this.items.forEach((function(t){var r=o.getMirror(--s);if(null!=r){i=Math.min(i,r);var l=o.maps[r];if(t.step){var c=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(o.slice(s+1,r));u&&a++,n.push(new Ft(l,c,u))}else n.push(new Ft(l))}}),r);for(var l=[],c=t;c<i;c++)l.push(new Ft(o.maps[c]));var u=this.items.slice(0,r).append(l).append(n),d=new It(u,a);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d},It.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},It.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((function(i,a){if(a>=e)r.push(i),i.selection&&o++;else if(i.step){var s=i.step.map(t.slice(n)),l=s&&s.getMap();if(n--,l&&t.appendMap(l,n),s){var c=i.selection&&i.selection.map(t.slice(n));c&&o++;var u,d=new Ft(l.invert(),s,c),p=r.length-1;(u=r.length&&r[p].merge(d))?r[p]=u:r.push(d)}}else i.map&&n--}),this.items.length,0),new It(Rt.from(r.reverse()),o)},It.empty=new It(Rt.empty,0);var Ft=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};Ft.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new Ft(t.getMap().invert(),t,this.selection)}};var qt=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r},jt=20;function Bt(e){var t=[];return e.forEach((function(e,n,r,o){return t.push(r,o)})),t}function Kt(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function Vt(e,t,n,r){var o=Wt(t),i=Xt.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(a){var s=a.selection.resolve(a.transform.doc),l=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),c=new qt(r?l:a.remaining,r?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(Xt,{redo:r,historyState:c}).scrollIntoView())}}var Ut=!1,Ht=null;function Wt(e){var t=e.plugins;if(Ht!=t){Ut=!1,Ht=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Ut=!0;break}}return Ut}var Xt=new _.PluginKey("history"),Gt=new _.PluginKey("closeHistory");function Jt(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new _.Plugin({key:Xt,state:{init:function(){return new qt(It.empty,It.empty,null,0)},apply:function(t,n,r){return function(e,t,n,r){var o,i=n.getMeta(Xt);if(i)return i.historyState;n.getMeta(Gt)&&(e=new qt(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(Xt))return a.getMeta(Xt).redo?new qt(e.done.addTransform(n,null,r,Wt(t)),e.undone,Bt(n.mapping.maps[n.steps.length-1]),e.prevTime):new qt(e.done,e.undone.addTransform(n,null,r,Wt(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new qt(e.done.rebased(n,o),e.undone.rebased(n,o),Kt(e.prevRanges,n.mapping),e.prevTime):new qt(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Kt(e.prevRanges,n.mapping),e.prevTime);var s=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),l=a?Kt(e.prevRanges,n.mapping):Bt(n.mapping.maps[n.steps.length-1]);return new qt(e.done.addTransform(n,s?t.selection.getBookmark():null,r,Wt(t)),It.empty,l,n.time)}(n,r,t,e)}},config:e})}function Zt(e,t){var n=Xt.getState(e);return!(!n||0==n.done.eventCount)&&(t&&Vt(n,e,t,!1),!0)}function Yt(e,t){var n=Xt.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&Vt(n,e,t,!0),!0)}function Qt(e){var t=e.doc,n=t.nodeSize;if(n<2){var r=t.textContent;return!r||" "===r}if(n<10){var o=!0;return t.nodesBetween(0,t.nodeSize-2,(function(e,n){if(o){var r=e.type;if(r.isText){var i=t.textContent;o=!i||" "===i||"​"===i}else r.isAtom&&(o=!1)}return o})),o}return!1}var en,tn=(en=function(e,t){return(en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}en(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nn=w("has-placeholder"),rn=function(){function e(e){var t=this;this._el=null,this._focused=null,this._view=null,this._visible=null,this._checkFocus=function(){var e=t._el;if(t._view&&e){var n=document,r=n.activeElement,o=t._getBodyElement();!r||!o||n.hasFocus&&!n.hasFocus()?t._onBlur():r===o||o.contains(r)||r===o.parentNode?t._onFocus():t._onBlur()}};var n=document.createElement("div");this._el=n,this._view=e,n.className=w("editor-content-placeholder"),e.dom.parentNode.appendChild(n),document.addEventListener("focusin",this._checkFocus,!0),document.addEventListener("focusout",this._checkFocus,!1),this.update(e),this._checkFocus()}return e.prototype.update=function(e){this._view=e;var t=this._el;if(t&&e)if(!this._focused&&Qt(e.state)){var n=t.parentNode,r=this._getBodyElement(),o=e.placeholder;if(n&&r&&o){this._visible=!0,e.dom.classList.add(nn);var a=n.getBoundingClientRect(),l=r.getBoundingClientRect(),c=window.getComputedStyle(r),u=l.left-a.left,d=l.top-a.top;t.style.left=u+"px",t.style.top=d+"px",t.style.padding=c.padding,t.style.display="block",t.style.width=r.offsetWidth+"px",s.render(i.createElement("div",null,o),t)}}else this._hide()},e.prototype.destroy=function(){this._hide();var e=this._el;e&&(e.parentNode&&e.parentNode.removeChild(e),s.unmountComponentAtNode(e)),document.removeEventListener("focusin",this._checkFocus,!0),document.removeEventListener("focusout",this._checkFocus,!1),this._view=null,this._el=null,this._focused=!1,this._visible=!1},e.prototype._onFocus=function(){!0!==this._focused&&(this._focused=!0,this._hide())},e.prototype._onBlur=function(){var e=this._view;!1!==this._focused&&(this._focused=!1,e&&Qt(e.state)?this._show():this._hide())},e.prototype._getBodyElement=function(){var e=this._view;return e&&e.docView&&e.docView.dom&&e.docView.dom.firstChild},e.prototype._show=function(){if(!0!==this._visible){var e=this._el,t=this._view;this._visible=!0,e&&(e.style.display="block"),t&&(this.update(t),t.dom.classList.add(nn))}},e.prototype._hide=function(){if(!1!==this._visible){var e=this._el,t=this._view;this._visible=!1,e&&(e.style.display="none"),t&&t.dom.classList.remove(nn)}},e}(),on=function(e){function t(){return e.call(this,{key:new _.PluginKey("ContentPlaceholderPlugin"),view:function(e){return new rn(e)}})||this}return tn(t,e),t}(_.Plugin),an=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sn={name:"CursorPlaceholderPlugin"},ln=null,cn={key:new _.PluginKey("CursorPlaceholderPlugin"),state:{init:function(){return zt.b.empty},apply:function(e,t){t=t.map(e.mapping,e.doc);var n=e.getMeta(this);if(!n)return t;if(n.add){var r=document.createElement(w("cursor-placeholder"));r.className=w("cursor-placeholder");var o=zt.a.widget(n.add.pos,r,{id:sn});t=t.add(e.doc,[o])}else if(n.remove){var i=t.find(null,null,un);t=t.remove(i)}return t}},props:{decorations:function(e){return ln?ln.getState(e):null}}};function un(e){return e.id===sn}function dn(e){if(!ln)return null;var t=ln.getState(e).find(null,null,un);return(t.length?t[0].from:null)||null}function pn(e){var t=ln,n=e.tr;return t&&n.selection?(null===dn(e)&&(n.selection.empty||(n=n.deleteSelection()),n=n.setMeta(t,{add:{pos:n.selection.from}})),n):n}function fn(e){var t=ln,n=e.tr;return t?(null!==dn(e)&&(n=n.setMeta(t,{remove:{}})),n):n}var hn=function(e){function t(){var t=e.call(this,cn)||this;return ln||(ln=t,t)}return an(t,e),t}(_.Plugin),mn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gn={key:new _.PluginKey("EditorPageLayoutPlugin"),props:{attributes:function(e){var t,n=e.doc,r={class:w("prosemirror-editor")},o=n.attrs,i=o.width,a=o.padding,s=o.layout,l="";if(i){var c=i/72;!t&&c>=11&&c<=11.5?t=T:!t&&c>=8&&c<=8.6?t=N:l+="width: "+i+"pt;",a&&(l+="padding-left: "+a+"pt;",l+="padding-right: "+a+"pt;"),r.style=l}else t=s;t&&(r["data-layout"]=t);return r}}};var yn=function(e){function t(){return e.call(this,gn)||this}return mn(t,e),t}(_.Plugin),vn=n(6),bn=n.n(vn),wn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_n=new Set(["image/jpeg","image/gif","image/png","image/jpg"]),kn=new Array(4).join('<div class="'+w("image-upload-placeholder-child")+'"></div>');function xn(e){return e instanceof Cn}function Sn(e){return e&&_n.has(e.type)}function Mn(e,t,n){var r=e.runtime,o=e.state,i=e.readOnly,a=e.disabled,s=o.schema,l=o.plugins;if(i||a||!r||!r.canUploadImage)return!1;var c=s.nodes.image;if(!c)return!1;if(!r.uploadImage||!r.canUploadImage)return!1;var u=Array.from(t).filter(Sn);if(!u.length)return!1;var d=l.find(xn);if(!d)return!1;var p,f={debugId:"image_upload_"+b()},h=(p=function(){var t=function(t){var n=function(e,t,n){var r=e.getState(t).find(null,null,(function(e){return e.id===n}));return r.length?r[0].from:null}(d,e.state,f),r=e.state.tr;if(!n||e.readOnly||e.disabled)u.length=0;else{var o=c.create(t);r=r.replaceWith(n,n,o)}u.length?h():r=r.setMeta(d,{remove:{id:f}}),e.dispatch(r)},n=bn()(u.shift());r.uploadImage(n).then(t).catch(t.bind(null,{src:null}))},function(){setTimeout(p,0)});h();var m=o.tr,g=0;if(n){var y=e.posAtCoords({left:n.x,top:n.y});if(!y)return!1;g=y.pos,m=m.setSelection(_.TextSelection.create(m.doc,g,g))}else g=m.selection.to,m=m.setSelection(_.TextSelection.create(m.doc,g,g));var v={add:{id:f,pos:g}};return m=m.setMeta(d,v),e.dispatch(m),!0}var Cn=function(e){function t(){return e.call(this,{key:new _.PluginKey("ImageUploadPlaceholderPlugin"),state:{init:function(){return zt.b.empty},apply:function(e,t){t=t.map(e.mapping,e.doc);var n=e.getMeta(this);if(n&&n.add){var r=document.createElement("div");r.title="Uploading...",r.className=w("image-upload-placeholder"),r.innerHTML=kn;var o=zt.a.widget(n.add.pos,r,{id:n.add.id});t=t.add(e.doc,[o])}else if(n&&n.remove){t=t.remove(t.find(null,null,(function(e){return e.id==n.remove.id})))}return t}},props:{decorations:function(e){return this.getState(e)}}})||this}return wn(t,e),t}(_.Plugin),zn=Cn,On=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),En={name:"SelectionPlaceholderPlugin"},Ln=null,An={key:new _.PluginKey("SelectionPlaceholderPlugin"),state:{init:function(){return zt.b.empty},apply:function(e,t){t=t.map(e.mapping,e.doc);var n=e.getMeta(this);if(!n)return t;if(n.add){var r=zt.a.inline(n.add.from,n.add.to,{class:w("selection-placeholder")},{id:En});t=t.add(e.doc,[r])}else if(n.remove){var o=t.find(null,null,Tn);t=t.remove(o)}return t}},props:{decorations:function(e){return Ln?Ln.getState(e):null}}};function Tn(e){return e.id==En}function Nn(e){if(!Ln)return null;if(!e.plugins.includes(Ln))return console.warn("SelectionPlaceholderPlugin is not installed"),null;var t=Ln.getState(e).find(null,null,Tn);return(t.length?t[0]:null)||null}function Dn(e,t){t=t||e.tr;var n=Ln;return n&&t.selection&&!t.selection.empty?(null===Nn(e)&&(t=t.setMeta(n,{add:{from:t.selection.from,to:t.selection.to}})),t):t}function Pn(e,t){t=t||e.tr;var n=Ln;return n?(Nn(e)&&(t=t.setMeta(n,{remove:{}})),t):t}var $n=function(e){function t(){var t=e.call(this,An)||this;return Ln||(Ln=t,t)}return On(t,e),t}(_.Plugin);function Rn(e,t,n,r){if(!e.selection||!e.doc||!n)return e;var o=e.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){return!s&&(s=e.inlineContent&&e.type.allowsMarkType(n),!0)})),s)return{value:!0}},o=0;o<t.length;o++){var i=r(o);if("object"==typeof i)return i.value}return!1}(e.doc,s,n))return e;if(a)return e=e.removeStoredMark(n),r?e.addStoredMark(n.create(r)):e;for(var l=!1,c=0;!l&&c<s.length;c++){var u=s[c],d=u.$from,p=u.$to;l=e.doc.rangeHasMark(d.pos,p.pos,n)}for(c=0;c<s.length;c++){var f=s[c];d=f.$from,p=f.$to;l&&(e=e.removeMark(d.pos,p.pos,n)),r&&(e=e.addMark(d.pos,p.pos,n.create(r)))}return e}function In(e,t,n,r){for(var o=t,i=function(e){return e.type===r},a=null,s=null,l=null;o<=n;){if(!(p=e.nodeAt(o))||!p.marks)return null;if(!(f=p.marks.find(i)))return null;if(a&&f!==a)return null;s=s||p,a=a||f,l=p,o++}var c=t,u=n,d=0;for(o=t-1;o>d;){if(!(f=(p=e.nodeAt(o))&&p.marks.find(i))||f!==a)break;c=o,s=p,o--}for(o=n+1,d=e.nodeSize-2;o<d;){var p,f;if(!(f=(p=e.nodeAt(o))&&p.marks.find(i))||f!==a)break;u=o,l=p,o++}return{mark:a,from:{node:s,pos:c},to:{node:l,pos:u}}}function Fn(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function qn(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function jn(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return qn(n.overflowY,t)||qn(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function Bn(e,t,n,r,o,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=n||a>=t&&s>=n?i-e-r:a>t&&s<n||i<e&&s>n?a-t+o:0}var Kn=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,l="function"==typeof a?a:function(e){return e!==a};if(!Fn(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,u=[],d=e;Fn(d)&&l(d);){if((d=d.parentNode)===c){u.push(d);break}d===document.body&&jn(d)&&!jn(document.documentElement)||jn(d,s)&&u.push(d)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,f=n.visualViewport?n.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),y=g.height,v=g.width,b=g.top,w=g.right,_=g.bottom,k=g.left,x="start"===o||"nearest"===o?b:"end"===o?_:b+y/2,S="center"===i?k+v/2:"end"===i?w:k,M=[],C=0;C<u.length;C++){var z=u[C],O=z.getBoundingClientRect(),E=O.height,L=O.width,A=O.top,T=O.right,N=O.bottom,D=O.left;if("if-needed"===r&&b>=0&&k>=0&&_<=f&&w<=p&&b>=A&&_<=N&&k>=D&&w<=T)return M;var P=getComputedStyle(z),$=parseInt(P.borderLeftWidth,10),R=parseInt(P.borderTopWidth,10),I=parseInt(P.borderRightWidth,10),F=parseInt(P.borderBottomWidth,10),q=0,j=0,B="offsetWidth"in z?z.offsetWidth-z.clientWidth-$-I:0,K="offsetHeight"in z?z.offsetHeight-z.clientHeight-R-F:0;if(c===z)q="start"===o?x:"end"===o?x-f:"nearest"===o?Bn(m,m+f,f,R,F,m+x,m+x+y,y):x-f/2,j="start"===i?S:"center"===i?S-p/2:"end"===i?S-p:Bn(h,h+p,p,$,I,h+S,h+S+v,v),q=Math.max(0,q+m),j=Math.max(0,j+h);else{q="start"===o?x-A-R:"end"===o?x-N+F+K:"nearest"===o?Bn(A,N,E,R,F+K,x,x+y,y):x-(A+E/2)+K/2,j="start"===i?S-D-$:"center"===i?S-(D+L/2)+B/2:"end"===i?S-T+I+B:Bn(D,T,L,$,I+B,S,S+v,v);var V=z.scrollLeft,U=z.scrollTop;x+=U-(q=Math.max(0,Math.min(U+q,z.scrollHeight-E+K))),S+=V-(j=Math.max(0,Math.min(V+j,z.scrollWidth-L+B)))}M.push({el:z,top:q,left:j})}return M};function Vn(e){return e===Object(e)&&0!==Object.keys(e).length}var Un,Hn=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(Vn(t)&&"function"==typeof t.behavior)return t.behavior(n?[]:Kn(e,t));if(!n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:Vn(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))}(Kn(e,r),r.behavior)}},Wn=function(){return Un||(Un="performance"in window?performance.now.bind(performance):Date.now),Un()};function Xn(e,t,n,r,o,i){var a,s,l;void 0===r&&(r=600),void 0===o&&(o=function(e){return 1+--e*e*e*e*e}),a=e,s=e.scrollLeft,l=e.scrollTop,function e(t){var n=Wn(),r=Math.min((n-t.startTime)/t.duration,1),o=t.ease(r),i=t.startX+(t.x-t.startX)*o,a=t.startY+(t.y-t.startY)*o;t.method(i,a),i!==t.x||a!==t.y?requestAnimationFrame((function(){return e(t)})):t.cb()}({scrollable:a,method:function(t,n){e.scrollLeft=t,e.scrollTop=n},startTime:Wn(),startX:s,startY:l,x:t,y:n,duration:r,ease:o,cb:i})}var Gn=function(e,t){var n=t||{};return function(e){return e&&!e.behavior||"smooth"===e.behavior}(n)?Hn(e,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(e){return Promise.all(e.reduce((function(e,t){var r=t.el,o=t.left,i=t.top,a=r.scrollLeft,s=r.scrollTop;return a===o&&s===i?e:[].concat(e,[new Promise((function(e){return Xn(r,o,i,n.duration,n.ease,(function(){return e({el:r,left:[a,o],top:[s,i]})}))}))])}),[]))}}):Promise.resolve(Hn(e,t))},Jn=/^http(s?):*\/\//i;function Zn(e){return e?Jn.test(e)?e:"http://"+e:"http://"}var Yn=n(7),Qn=n.n(Yn);function er(e){e.preventDefault()}var tr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._clicked=!1,t._mul=!1,t._pressedTarget=null,t._unmounted=!1,t.state={pressed:!1},t._onMouseEnter=function(e){t._pressedTarget=null,e.preventDefault();var n=t.props,r=n.onMouseEnter,o=n.value;r&&r(o,e)},t._onMouseLeave=function(e){t._pressedTarget=null;var n=e;t._onMouseUpCapture(n)},t._onMouseDown=function(e){e.preventDefault(),t._pressedTarget=null,t._clicked=!1,3!==e.which&&2!=e.button&&(t.setState({pressed:!0}),t._pressedTarget=e.currentTarget,t._clicked=!1,t._mul||(document.addEventListener("mouseup",t._onMouseUpCapture,!0),t._mul=!0))},t._onMouseUp=function(e){if(e.preventDefault(),t._clicked||"keypress"===e.type){var n=t.props,r=n.onClick,o=n.value;!n.disabled&&r&&r(o,e)}t._pressedTarget=null,t._clicked=!1},t._onMouseUpCapture=function(e){t._mul&&(t._mul=!1,document.removeEventListener("mouseup",t._onMouseUpCapture,!0));var n=e.target;t._clicked=t._pressedTarget instanceof HTMLElement&&n instanceof HTMLElement&&(n===t._pressedTarget||n.contains(t._pressedTarget)||t._pressedTarget.contains(n)),t.setState({pressed:!1})},t}return tr(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,r=e.active,o=e.id,a=e.style,s=e.title,l=e.children,c=this.state.pressed,u=Qn()(t,{active:r,disabled:n,pressed:c});return i.createElement("span",{"aria-disabled":n,"aria-pressed":c,className:u,disabled:n,id:o,onKeyPress:n?er:this._onMouseUp,onMouseDown:n?er:this._onMouseDown,onMouseEnter:n?er:this._onMouseEnter,onMouseLeave:n?null:this._onMouseLeave,onMouseUp:n?er:this._onMouseUp,role:"button",style:a,tabIndex:n?null:0,title:s},l)},t.prototype.componentWillUnmount=function(){this._unmounted=!0,this._mul&&(this._mul=!1,document.removeEventListener("mouseup",this._onMouseUpCapture,!0))},t}(i.Component);function rr(e){return 0===e.w||0===e.h}function or(e,t,n){var r=n||0;return!(t.x-r>e.x+e.w+r||t.x+t.w+r<e.x-r||t.y-r>e.y+e.h+r||t.y+t.h+r<e.y-r)}function ir(e,t,n){return{x:e-(n=n||0),y:t-n,w:2*n,h:2*n}}function ar(e){if("contents"===document.defaultView.getComputedStyle(e).display&&1===e.children.length)return ar(e.children[0]);var t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width,h:t.height}}var sr=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},cr={x:-1e4,y:-1e4,w:0,h:0},ur=new(function(){function e(){var e=this;this._bridges=new Map,this._positions=new Map,this._mx=0,this._my=0,this._rafID=0,this._onScroll=function(t){e._rafID&&cancelAnimationFrame(e._rafID),e._rafID=requestAnimationFrame(e._syncPosition)},this._onResize=function(t){e._rafID&&cancelAnimationFrame(e._rafID),e._rafID=requestAnimationFrame(e._syncPosition)},this._onMouseChange=function(t){e._mx=Math.round(t.clientX),e._my=Math.round(t.clientY),e._rafID&&cancelAnimationFrame(e._rafID),e._rafID=requestAnimationFrame(e._syncPosition)},this._onClick=function(t){var n,r,o,i=Date.now();try{for(var a=sr(e._bridges),s=a.next();!s.done;s=a.next()){var l=lr(s.value,2),c=l[0];if(i-l[1]>350){var u=c.getDetails();u.modal&&u.autoDismiss&&(o=u)}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}if(o){var d=o.body,p=o.close,f=ir(t.clientX,t.clientY,1),h=d?ar(d):null;h&&or(f,h)||p()}},this._syncPosition=function(){var t,n,r,o,i,a,s,l,c,u;e._rafID=0;var d=new Map;try{for(var p=sr(e._bridges),f=p.next();!f.done;f=p.next()){var h=lr(f.value,2),m=h[0],g=h[1],y=m.getDetails();d.set(m,y);var v=y.anchor;(O=y.body)instanceof HTMLElement&&(y.bodyRect=ar(O)),v instanceof HTMLElement&&(y.anchorRect=ar(v))}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}var b=ir(e._mx,e._my,2),_=new Set;try{for(var k=sr(d),x=k.next();!x.done;x=k.next()){var S=lr(x.value,2),M=(m=S[0],v=(y=S[1]).anchor,y.bodyRect),C=y.anchorRect,z=y.position,O=y.body;if(M||C){var E=z(C,M),L=E.x,A=E.y,T=L+"-"+A;if(O&&M&&e._positions.get(m)!==T){var N=C?X(0,C.x-L+C.w/2,M.w-C.w/2):0;e._positions.set(m,T);var D=O.style;D.position="absolute",D.left=L+"px",D.top=A+"px",D.setProperty(w("pop-up-anchor-offset-left",{format:"cssVar"}),N+"px"),M.x=L,M.y=A}(or(b,M||cr,0)||or(b,C||cr,0))&&v&&_.add(v)}}}catch(e){r={error:e}}finally{try{x&&!x.done&&(o=k.return)&&o.call(k)}finally{if(r)throw r.error}}for(;;){var P=_.size;try{for(var $=(i=void 0,sr(d)),R=$.next();!R.done;R=$.next()){var I=lr(R.value,2);m=I[0],v=(y=I[1]).anchor,O=y.body;try{for(var F=(s=void 0,sr(_)),q=F.next();!q.done;q=F.next()){var j=q.value;v&&O&&!_.has(v)&&O.contains(j)&&_.add(v)}}catch(e){s={error:e}}finally{try{q&&!q.done&&(l=F.return)&&l.call(F)}finally{if(s)throw s.error}}}}catch(e){i={error:e}}finally{try{R&&!R.done&&(a=$.return)&&a.call($)}finally{if(i)throw i.error}}if(_.size===P)break}var B=Date.now();try{for(var K=sr(e._bridges),V=K.next();!V.done;V=K.next()){var U=lr(V.value,2);m=U[0],g=U[1];if(y=d.get(m)){var H=y.autoDismiss,W=(v=y.anchor,y.close),G=y.modal;H&&!G&&B-g>350&&!_.has(v)&&W()}}}catch(e){c={error:e}}finally{try{V&&!V.done&&(u=K.return)&&u.call(K)}finally{if(c)throw c.error}}}}return e.prototype.register=function(e){this._bridges.set(e,Date.now()),this._positions.set(e,null),1===this._bridges.size&&this._observe(),this._rafID=requestAnimationFrame(this._syncPosition)},e.prototype.unregister=function(e){this._bridges.delete(e),this._positions.delete(e),0===this._bridges.size&&this._unobserve(),this._rafID&&cancelAnimationFrame(this._rafID)},e.prototype._observe=function(){document.addEventListener("mousemove",this._onMouseChange,!1),document.addEventListener("mouseup",this._onMouseChange,!1),document.addEventListener("click",this._onClick,!1),window.addEventListener("scroll",this._onScroll,!0),window.addEventListener("resize",this._onResize,!0)},e.prototype._unobserve=function(){document.removeEventListener("mousemove",this._onMouseChange,!1),document.removeEventListener("mouseup",this._onMouseChange,!1),document.removeEventListener("click",this._onClick,!1),window.removeEventListener("scroll",this._onScroll,!0),window.removeEventListener("resize",this._onResize,!0),this._rafID&&cancelAnimationFrame(this._rafID)},e}());function dr(e,t){var n={x:0,y:0,w:0,h:0};if(e&&t){n.x=e.x,n.y=e.y+e.h;var r=window.innerWidth,o=window.innerHeight;n.x+t.w>r&&(n.x=e.x-t.w+e.w),n.y+t.h>o&&(n.y=Math.max(e.y-t.h,2))}return e&&!rr(e)||(n.x=-1e4),n}function pr(e,t){var n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=Math.max(e.x-(t.w-e.w)/2,10),n.y=e.y+e.h),e&&!rr(e)||(n.x=-1e4),n}function fr(e,t){var n={x:0,y:0,w:0,h:0};if(e&&t){n.x=e.x+e.w+1,n.y=e.y;var r=window.innerWidth;n.x+t.w>r&&(n.x=Math.max(2,e.x-t.w))}return e&&!rr(e)||(n.x=-1e4),n}function hr(e,t){var n={x:0,y:0,w:0,h:0};return t&&(n.x=(window.innerWidth-t.w)/2,n.y=(window.innerHeight-t.h)/2),t&&!rr(t)||(n.x=-1e4),n}function mr(e,t){var n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=e.x+e.w+1-t.w,n.y=e.y),e&&!rr(e)||(n.x=-1e4),n}function gr(e,t){var n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=e.x+(e.w-t.w)/2,n.y=e.y),e&&!rr(e)||(n.x=-1e4),n}var yr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vr=function(){return(vr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},br=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._bridge=null,t._id=b(),t._getDetails=function(){var e=t.props,n=e.close,r=e.popUpParams,o=r.anchor,i=r.autoDismiss,a=r.position,s=r.modal;return{anchor:o,autoDismiss:!1!==i,body:document.getElementById(t._id),close:n,modal:!0===s,position:a||(s?hr:dr)}},t}return yr(t,e),t.prototype.render=function(){var e=this.props,t=e.View,n=e.viewProps,r=e.close;return i.createElement("div",{"data-pop-up-id":this._id,id:this._id},i.createElement(t,vr({},n||{},{close:r})))},t.prototype.componentDidMount=function(){this._bridge={getDetails:this._getDetails},ur.register(this._bridge)},t.prototype.componentWillUnmount=function(){this._bridge&&ur.unregister(this._bridge)},t}(i.Component),wr=0,_r=0,kr="pop-up-modal-mask-"+b();function xr(){var e=document.getElementById(kr);e&&e.parentElement&&e.parentElement.removeChild(e)}function Sr(e,t,n){var r=n&&n.container||document.body||document.documentElement,o=document.getElementById(e);if(!o&&t&&(o=document.createElement("div")),!o)return null;n&&n.modal&&o.setAttribute("data-pop-up-modal","y"),o.className=w("pop-up-element")+" "+w("vars"),o.id=e;var i=o.style,a=n&&n.modal?1:0;return n&&n.container||(i.zIndex=9999+3*_r+a),o.setAttribute("role","dialog"),o.setAttribute("aria-modal","true"),r&&!o.parentElement&&r.appendChild(o),o}function Mr(e,t,n,r,o){var a=Sr(e,!0,o);if(a){var l=i.createElement(br,{View:n,close:t,popUpParams:o,viewProps:r});s.render(l,a)}wr>0?function(){var e=document.body||document.documentElement,t=document.getElementById(kr);t||((t=document.createElement("div")).id=kr,t.className=w("pop-up-modal-mask"),t.setAttribute("data-mask-type",w("pop-up-modal-mask")),t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true")),e&&!t.parentElement&&e.appendChild(t);var n=t.style,r=w("pop-up-element[data-pop-up-modal]",{format:"selector"}),o=Array.from(document.querySelectorAll(r)).reduce((function(e,t){return Math.max(e,Number(t.style.zIndex))}),0);n.zIndex=o-1}():xr()}function Cr(e,t,n){var r=b(),o=null,i=t;t=t||{};var a=(n=n||{}).modal||!n.anchor;n.modal=a,_r++,a&&wr++;var l=function(e){if(o){a&&wr--,_r--,o=null,function(e){var t=Sr(e,!1);t&&(s.unmountComponentAtNode(t),t.parentElement&&t.parentElement.removeChild(t)),0===wr&&xr()}(r);var t=n&&n.onClose;t&&t(e)}},c=Mr.bind(null,r,l,e),u={};return o={close:l,update:function(e){c((i=e)||u,n||u)}},c(i||u,n||u),o}var zr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zr(t,e),t.prototype.render=function(){var e=this.props.tooltip;return i.createElement("div",{className:w("tooltip-view")+" "+w("animation-fade-in")},e)},t}(i.Component),Er=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._id=b(),t._popUp=null,t._onMouseEnter=function(){if(!t._popUp){var e=t.props.tooltip;t._popUp=Cr(Or,{tooltip:e},{anchor:document.getElementById(t._id),onClose:t._onClose,position:pr})}},t._onMouseLeave=function(){t._popUp&&t._popUp.close(),t._popUp=null},t._onClose=function(){t._popUp=null},t}return zr(t,e),t.prototype.componentWillUnmount=function(){this._popUp&&this._popUp.close()},t.prototype.render=function(){var e=this.props,t=e.tooltip,n=e.children;return i.createElement("span",{"aria-label":t,className:w("tooltip-surface"),"data-tooltip":t,id:this._id,onMouseDown:t&&this._onMouseLeave,onMouseEnter:t&&this._onMouseEnter,onMouseLeave:t&&this._onMouseLeave,role:"tooltip"},n)},t}(i.Component),Lr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ar=function(){return(Ar=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Tr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Nr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lr(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.label,r=e.className,o=e.title,a=Tr(e,["icon","label","className","title"]),s=Qn()(r,w("custom-button"),{"use-icon":!!t});return i.createElement(Er,{tooltip:o},i.createElement(nr,Ar({},a,{className:s}),t,n))},t}(i.Component),Dr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},$r=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Rr(e){return!!e&&0===e.indexOf("#")&&e.length>=2}var Ir=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._unmounted=!1,t.state={hidden:!1},t._openLink=function(e){if(Rr(e)){var n=e.substr(1),r=document.getElementById(n);if(r){var o=t.props;(0,o.onCancel)(o.editorView),Pr(t,void 0,void 0,(function(){return $r(this,(function(e){switch(e.label){case 0:return[4,Gn(r,{scrollMode:"if-needed",behavior:"smooth"})];case 1:return e.sent(),[2]}}))}))}}else e&&window.open(Zn(e))},t}return Dr(t,e),t.prototype.render=function(){var e=this.props,t=e.href,n=e.editorView,r=e.onEdit,o=e.onRemove;return i.createElement("div",{className:w("link-tooltip")},i.createElement("div",{className:w("link-tooltip-body")},i.createElement("div",{className:w("link-tooltip-row")},i.createElement(Nr,{className:w("link-tooltip-href"),label:t,onClick:this._openLink,target:"new",title:t,value:t}),i.createElement(Nr,{label:"Change",onClick:r,value:n}),i.createElement(Nr,{label:"Remove",onClick:o,value:n}))))},t}(i.Component),Fr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qr=/\s/,jr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={url:t.props.href},t._onKeyDown=function(e){13===e.keyCode&&(e.preventDefault(),t._apply())},t._onURLChange=function(e){var n=e.target.value;t.setState({url:n})},t._cancel=function(){t.props.close()},t._apply=function(){var e=t.state.url;e&&!qr.test(e)&&t.props.close(Zn(e))},t}return Fr(t,e),t.prototype.render=function(){var e=this.props.href,t=this.state.url,n=!!t&&qr.test(t),r="Apply",o=!!n;return e?(r=t?"Apply":"Remove",o=n):o=n||!t,i.createElement("div",{className:w("image-url-editor")},i.createElement("form",{className:w("form"),onSubmit:er},i.createElement("fieldset",null,i.createElement("legend",null,"Add a Link"),i.createElement("input",{autoFocus:!0,onChange:this._onURLChange,onKeyDown:this._onKeyDown,placeholder:"Paste a URL",spellCheck:!1,type:"text",value:t||""})),i.createElement("div",{className:w("form-buttons")},i.createElement(Nr,{label:"Cancel",onClick:this._cancel}),i.createElement(Nr,{active:!0,disabled:o,label:r,onClick:this._apply}))))},t}(i.Component),Br=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kr={key:new _.PluginKey("LinkTooltipPlugin"),view:function(e){return new Ur(e)}},Vr=function(e){function t(){return e.call(this,Kr)||this}return Br(t,e),t}(_.Plugin),Ur=function(){function e(e){var t=this;this._anchorEl=null,this._popup=null,this._editor=null,this._onCancel=function(e){t.destroy(),e.focus()},this._onClose=function(){t._anchorEl=null,t._editor=null,t._popup=null},this._onEdit=function(e){if(!t._editor){var n=e.state,r=n.schema,o=n.doc,i=n.selection,a=In(o,i.from,i.to,r.marks.link);if(a){var s=n.tr,l=_.TextSelection.create(s.doc,a.from.pos,a.to.pos+1);s=Dn(n,s=s.setSelection(l)),e.dispatch(s);var c=a?a.mark.attrs.href:null;t._editor=Cr(jr,{href:c},{onClose:function(n){t._editor=null,t._onEditEnd(e,i,n)}})}}},this._onRemove=function(e){t._onEditEnd(e,e.state.selection,null)},this._onEditEnd=function(e,t,n){var r=e.state,o=e.dispatch,i=Pn(r);if(void 0!==n){var a=r.schema,s=a.marks.link;if(s){var l=In(i.doc,t.from,t.to,s);if(l){var c=_.TextSelection.create(i.doc,l.from.pos,l.to.pos+1);i=Rn(i=i.setSelection(c),0,s,n?{href:n}:null);var u=_.TextSelection.create(i.doc,t.from,t.to);i=i.setSelection(u)}}}o(i),e.focus()},this.update(e,null)}return e.prototype.update=function(e,t){if(e.readOnly)this.destroy();else{var n=e.state,r=n.doc,o=n.selection,i=n.schema.marks.link;if(i){var a=o.from,s=In(r,a,o.to,i);if(s){var l=e.domAtPos(a);if(l){var c=function(e,t){for(;e&&e.nodeName;){if(t(e))return e;e=e.parentElement}return null}(l.node,(function(e){return"A"===e.nodeName}));if(c){var u=this._popup,d={editorState:n,editorView:e,href:s.mark.attrs.href,onCancel:this._onCancel,onEdit:this._onEdit,onRemove:this._onRemove};u&&c===this._anchorEl?u.update(d):(u&&u.close(),this._anchorEl=c,this._popup=Cr(Ir,d,{anchor:c,autoDismiss:!1,onClose:this._onClose,position:gr}))}else this.destroy()}else this.destroy()}else this.destroy()}}},e.prototype.destroy=function(){this._popup&&this._popup.close(),this._editor&&this._editor.close()},e}(),Hr=Vr,Wr=n(5);function Xr(e){var t=e.doc,n=e.selection,r=e.schema,o=r.nodes.table_cell,i=r.nodes.table_header;if(!o&&!i)return null;var a=n;if(a instanceof _.TextSelection){if(n.from!==n.to)return null;var s=o&&Object(Wr.findParentNodeOfType)(o)(n)||i&&Object(Wr.findParentNodeOfType)(i)(n);if(!s)return null;a=tt.CellSelection.create(t,s.pos)}return a instanceof tt.CellSelection?function(e){var t,n=e.$anchorCell,r=n.start(-1),o=n.node(-1),i=tt.TableMap.get(o),a=null,s=null;return e.forEachCell((function(e,n){var o=i.findCell(n-r);(!t||o.top>=t.top&&o.left>t.left)&&(t=o,a=n,s=e)})),null===a?null:{node:s,pos:a}}(a):null}var Gr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gr(t,e),t.prototype.render=function(){var e=this.props.children;return i.createElement("div",{className:w("custom-menu")+" "+w("custom-scrollbar")},e)},t}(i.Component),Zr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yr=function(){return(Yr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zr(t,e),t.prototype.render=function(){return i.createElement("div",{className:w("custom-menu-item-separator")})},t}(i.Component),eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zr(t,e),t.prototype.render=function(){return i.createElement(Nr,Yr({},this.props,{className:w("custom-menu-item")}))},t.Separator=Qr,t}(i.Component),to=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),no=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._activeCommand=null,t._onUIEnter=function(e,n){e.shouldRespondToUIEvent(n)&&(t._activeCommand&&t._activeCommand.cancel(),t._activeCommand=e,t._execute(e,n))},t._execute=function(e,n){var r=t.props,o=r.dispatch,i=r.editorState,a=r.editorView,s=r.onCommand;e.execute(i,o,a,n)&&s&&s()},t}return to(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.commandGroups,r=t.editorState,o=t.editorView,a=[],s=n.length-1;return n.forEach((function(t,n){Object.keys(t).forEach((function(n){var s=t[n],l=!0;try{l=!o||!s.isEnabled(r,o)}catch(e){l=!1}a.push(i.createElement(eo,{active:s.isActive(r),disabled:l,key:n,label:s.renderLabel(r)||n,onClick:e._onUIEnter,onMouseEnter:e._onUIEnter,value:s}))})),n!==s&&a.push(i.createElement(eo.Separator,{key:String(n)+"-hr"}))})),i.createElement(Jr,null,a)},t}(i.Component),ro=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oo=function(){return(oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},io=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._menu=null,t._id=b(),t.state={expanded:!1},t._onClick=function(){var e=!t.state.expanded;t.setState({expanded:e}),e?t._showMenu():t._hideMenu()},t._hideMenu=function(){var e=t._menu;t._menu=null,e&&e.close()},t._showMenu=function(){var e=t._menu,n=oo(oo({},t.props),{onCommand:t._onCommand});e?e.update(n):t._menu=Cr(no,n,{anchor:document.getElementById(t._id),onClose:t._onClose})},t._onCommand=function(){t.setState({expanded:!1}),t._hideMenu()},t._onClose=function(){t._menu&&(t.setState({expanded:!1}),t._menu=null)},t}return ro(t,e),t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.label,o=t.commandGroups,a=t.editorState,s=t.editorView,l=t.icon,c=t.disabled,u=t.title,d=!c&&o.some((function(e,t){return Object.keys(e).some((function(t){var n=e[t],r=!0;try{r=!s||!n.isEnabled(a,s)}catch(e){r=!1}return!r}))})),p=this.state.expanded,f=Qn()(n,((e={})[w("custom-menu-button")]=!0,e.expanded=p,e));return i.createElement(Nr,{className:f,disabled:!d,icon:l,id:this._id,label:r,onClick:this._onClick,title:u})},t.prototype.componentWillUnmount=function(){this._hideMenu()},t}(i.Component);function ao(e,t){return e>t?1:e<t?-1:0}function so(e,t){if(e.nodeSize<2||t<2)return!1;var n=e.nodeAt(t-1);return n&&n.type.name===H}function lo(e){return"ordered_list"===e.type.name}function co(e){return e instanceof z.Node&&(function(e){return"bullet_list"===e.type.name}(e)||lo(e))}var uo=function(){return(uo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function po(e){if(e.getMeta("dryrun"))return e;for(var t;;){var n=mo(e.doc,t);if(!n){e=fo(e);break}var r=n.deleteFrom,o=n.deleteTo,i=n.insertAt,a=n.content;e=(e=e.delete(r,o)).insert(i,a),t=n}return e}function fo(e){var t=e.doc.nodeSize-2;if(1>=t)return e;var n=new Set,r=null;return e.doc.nodesBetween(1,t,(function(t,o,i){var a=!0;if(co(t)){a=!1;var s,l=t.attrs.indent||0,c=t.attrs.start||1,u=t.attrs,d=u.name,p=u.following;if(d&&n.add(d),r){if(1===c&&lo(t))r.some((function(e,n){return e.node.type!==t.type&&e.indent===l||e.indent<l?(s=!1,!0):e.indent===l&&(s=!0,!0)})),void 0!==s&&(e=ho(e,o,s))}else if(r=[],lo(t)){var f=n.has(p);e=ho(e,o,f)}r.unshift({parentNode:i,indent:l,node:t})}else r=null;return a})),e}function ho(e,t,n){var r=e.doc.nodeAt(t),o=n?"none":null;if(o!==(r.attrs.counterReset||null)){var i=uo(uo({},r.attrs),{counterReset:o});e=e.setNodeMarkup(t,r.type,i,r.marks)}return e}function mo(e,t){var n=t?Math.max(1,t.firstListNodePos):1,r=e.nodeSize-2;if(r<=n)return null;var o=null,i=null,a=0;return e.nodesBetween(n,r,(function(e,t){return!i&&(co(e)?(i=function(e,t,n,r){if(!n||(o=e,i=n,o.type!==i.type||o.attrs.indent!==i.attrs.indent||!co(o)||!co(i)))return null;var o,i;return{deleteFrom:t,deleteTo:t+e.nodeSize,insertAt:t-1,content:e.content,firstListNodePos:r}}(e,t,o,a=0===a?t:a),o=e,!1):(o=e,!0))})),i&&(i.firstListNodePos=a),i}var go="[​⠀PLACEHOLDER_TEXT_"+b()+"⠀​]";function yo(e,t,n){if(e.getMeta("dryrun"))return n({tr:e,schema:t});var r=e.selection,o=e.doc,i=t.marks["mark-text-selection"];if(!i||!r||!o)return e;if(!(r instanceof _.TextSelection))return e;var a,s=r.from,l=r.to,c=0,u=0;if(s===l){if(0===s)return e;var d=e.doc.nodeAt(s),p=e.doc.nodeAt(s-1),f=e.doc.nodeAt(s+1);if(d||!p||p.type.name!==W||p.firstChild)if(!d&&p&&"text"===p.type.name)c=-1;else if(p&&d&&d.type===p.type)c=-1;else if(f&&d&&d.type===f.type)u=1;else if(f)u=1;else{if(!p)return e;c=-1}else a=t.text(go),e=e.insert(s,z.Fragment.from(a)),u=1;e=e.setSelection(_.TextSelection.create(e.doc,s+c,l+u))}var h={},m=function(e){return e.attrs.id===h};e=n({tr:e=Rn(e,0,i,{id:h}),schema:t});var g,y,v=(g=0,y=0,e.doc.descendants((function(e,t){return e.marks&&e.marks.find(m)&&(g=0===g?t:g,y=t+e.nodeSize),!0})),{from:g,to:y}),b={from:Math.max(0,v.from-c),to:Math.max(0,v.to-u)};return b.to=Math.max(0,b.from,b.to),e=e.removeMark(v.from,v.to,i),a&&e.doc.descendants((function(t,n){return"text"!==t.type.name||t.text!==go||(e=e.delete(n,n+go.length),a=null,!1)})),e=e.setSelection(_.TextSelection.create(e.doc,b.from,b.to))}var vo=function(){return(vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function bo(e,t,n,r){return yo(e,t,(function(e){return po(function(e,t,n){var r=e.schema,o=e.tr;if(!o.doc||!o.selection)return o;var i=r.nodes,a=i[W];if(!i[H]||!a)return o;if(!co(o.doc.nodeAt(t)))return o;var s=o.selection,l=s.from,c=s.to,u=[];if(o.doc.nodesBetween(l,c,(function(e,t){co(e)&&u.push(t)})),l===c&&l<1)return o;return u.sort(ao).reverse().forEach((function(e){o=function(e,t,n,r,o,i){var a=[],s=[],l=[],c=n[W],u=n[H],d=e.doc.nodeAt(t);if(e.doc.nodesBetween(t,t+d.nodeSize,(function(e,t,n,r){if(e.type!==c)return!0;var u={node:e,pos:t,parentNode:n,index:r};return t+e.nodeSize<=o?a.push(u):t>i?l.push(u):s.push(u),!1})),!s.length)return e;e=e.delete(t,t+d.nodeSize);var p=d.type,f={indent:d.attrs.indent,start:1};if(l.length){var h=l.map((function(e){return u.create({},z.Fragment.from(e.node))})),m=z.Fragment.from(p.create(f,z.Fragment.from(h)));e=e.insert(t,m)}if(s.length){var g=s.map((function(e){return r?r(e.node):e.node}));m=z.Fragment.from(g);e=e.insert(t,m)}if(a.length){var y=a.map((function(e){return u.create({},z.Fragment.from(e.node))}));m=z.Fragment.from(p.create(f,z.Fragment.from(y)));e=e.insert(t,m)}return e}(o,e,i,n,l,c)})),o}(e,n,r))}))}function wo(e,t,n,r){return void 0===r&&(r=null),yo(e,t,(function(e){return po(function(e,t,n){void 0===n&&(n=null);var r=e.schema,o=e.tr,i=o.doc,a=o.selection,s=a.from,l=a.to;if(!o||!a)return o;n&&(s=n.from,l=n.to);var c=r.nodes[W],u=r.nodes[U],d=null,p=[];if(i.nodesBetween(s,l,(function(e,n){var r=e.type,i=r.name;if(co(e)){if(e.type!==t){var a=vo(vo({},e.attrs),{listNodeType:null});o=o.setNodeMarkup(n,t,a,e.marks)}return d&&p.push(d),d=null,!1}return/table/.test(i)?(d&&p.push(d),d=null,!0):(r===u||r===c?(d=d||[]).push({node:e,pos:n}):(d&&d.length&&p.push(d),d=null),!0)})),d&&d.length&&p.push(d),!(p=p.filter((function(e){return e.length>0}))).length)return o;return(p=p.sort((function(e,t){return bn()(e[0]).pos>=bn()(t[0]).pos?1:-1}))).reverse(),p.forEach((function(e){o=function(e,t,n,r){var o=e,i=t.nodes[W],a=t.nodes[H];if(!i||!a)return e;var s=[];r.forEach((function(t){var n=t.node,r=t.pos,o=vo(vo({},n.attrs),{id:{}});e=e.setNodeMarkup(r,i,o,n.marks),s.push(e.doc.nodeAt(r))}));var l=s[0],c=s[s.length-1];if(!l||!c)return o;var u=l.attrs.id,d=c.attrs.id;if(!u||!d)return o;var p=null,f=null;if(e.doc.descendants((function(e,t){var n=e.attrs.id;return n===u&&(p=t),n===d&&(f=t+e.nodeSize),null===p||null===f})),null===p||null===f)return o;var h=[];r.forEach((function(e){var t=e.node,n=i.create(t.attrs,t.content,t.marks),r=a.create(t.attrs,z.Fragment.from(n));h.push(r)}));var m=e.doc.resolve(p),g=e.doc.resolve(f),y=m.nodeBefore&&m.nodeBefore.type===n&&0===m.nodeBefore.attrs.indent,v=g.nodeAfter&&g.nodeAfter.type===n&&0===g.nodeAfter.attrs.indent;if(y)e=(e=e.delete(p,f)).insert(p-1,z.Fragment.from(h)),v&&(e=e.delete(f+1,f+3));else if(v)e=(e=e.delete(p,f)).insert(p+1,z.Fragment.from(h));else{var b=n.create({indent:0,start:1},z.Fragment.from(h));e=(e=e.delete(p,f)).insert(p,z.Fragment.from(b))}return e}(o,r,t,e)})),o}(e,n,r))}))}function _o(e,t){var n=t.nodes,r=e.selection,o=e.doc,i=n[U],a=n.blockquote,s=n[W],l=n[H];if(!(r&&o&&i&&s&&l&&i))return e;var c=e.selection,u=c.from,d=c.to,p=null,f=[];return o.nodesBetween(u,d,(function(e,t,n){var r=e.type,o=n.type;return null===p&&(p=r===a),o!==l&&f.push(t),!co(e)})),f.sort(ao).reverse().forEach((function(n){e=function(e,t,n){var r=t.nodes,o=r[U],i=r[W],a=r.blockquote;if(n>=e.doc.content.size)return e;var s=e.doc.nodeAt(n);if(!s||!o||!i)return e;var l=s.type;if(so(e.doc,n))return e;co(s)?a&&(e=bo(e,t,n,(function(e){var t=e.content,n=e.marks,r=e.attrs;return a.create(r,t,n)}))):l===a?e=e.setNodeMarkup(n,i,s.attrs,s.marks):l!==i&&l!==o||(e=e.setNodeMarkup(n,a,s.attrs,s.marks));return e}(e,t,n)})),e}var ko=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isActive=function(e){var t=e.schema.nodes.blockquote;return!(!t||!Object(Wr.findParentNodeOfType)(t)(e.selection))},t.execute=function(e,t,n){var r=e.schema,o=e.selection,i=_o(e.tr.setSelection(o),r);return!!i.docChanged&&(t&&t(i),!0)},t}return ko(t,e),t}(C),So=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mo=function(){return(Mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Co=function(e){function t(t,n,r){void 0===r&&(r="SetDocAttr");var o=e.call(this)||this;return o.stepType=r,o.key=t,o.value=n,o}return So(t,e),t.prototype.apply=function(e){var t;this.prevValue=e.attrs[this.key];var n=Mo(Mo({},e.attrs),((t={})[this.key]=this.value,t)),r=e.type.create(n,e.content,e.marks);return ut.e.ok(r)},t.prototype.invert=function(){return new t(this.key,this.prevValue,"revertSetDocAttr")},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(this.key,this.value,"SetDocAttr")},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(this.key,this.value,"SetDocAttr")},t.prototype.toJSON=function(){return{stepType:this.stepType,key:this.key,value:this.value}},t.fromJSON=function(e,n){return new t(n.key,n.value,n.stepType)},t}(ut.d);ut.d.jsonID("SetDocAttr",Co);var zo=Co,Oo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eo=function(){return(Eo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Lo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name=b(),t}return Oo(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.className,r=e.checked,o=e.label,a=e.inline,s=e.name,l=e.onSelect,c=e.disabled,u=Lo(e,["title","className","checked","label","inline","name","onSelect","disabled"]),d=Qn()(n,w("custom-radio-button"),{checked:r,inline:a});return i.createElement(nr,Eo({},u,{className:d,disabled:c,onClick:l,title:t||o}),i.createElement("input",{checked:r,className:w("custom-radio-button-input"),disabled:c,name:s||this._name,onChange:er,tabIndex:c?null:0,type:"radio"}),i.createElement("span",{className:w("custom-radio-button-icon")}),i.createElement("span",{className:w("custom-radio-button-label")},o))},t}(i.Component),To=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),No=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._unmounted=!1,r._onSelect=function(e){r.setState({selectedValue:e})},r._cancel=function(){r.props.close()},r._apply=function(){var e=r.state.selectedValue;"string"==typeof e?r.props.close({width:null,layout:e}):r.props.close({width:e,layout:null})};var o=r.props.initialValue||{},i=o.width,a=o.layout;return r.state={width:i,layout:a,selectedValue:i||a||N},r}return To(t,e),t.prototype.render=function(){var e=this.state,t=e.width,n=e.selectedValue,r=t?i.createElement(Ao,{checked:n===t,key:"c",label:"Custom width: "+t+"pt",onSelect:this._onSelect,value:t}):null;return i.createElement("div",{className:w("body-layout-editor")},i.createElement("form",{className:w("form"),onSubmit:er},i.createElement("fieldset",null,i.createElement("legend",null,"Page Layout"),i.createElement(Ao,{checked:n===N,label:"US Letter - Portrait",onSelect:this._onSelect,value:N}),i.createElement(Ao,{checked:n===T,label:"US Letter - Landscape",onSelect:this._onSelect,value:T}),i.createElement(Ao,{checked:n===L,label:"4:3 Desktop Screen",onSelect:this._onSelect,value:L}),i.createElement(Ao,{checked:n===A,label:"16:9 Desktop Screen",onSelect:this._onSelect,value:A}),r),i.createElement("hr",null),i.createElement("div",{className:w("form-buttons")},i.createElement(Nr,{label:"Cancel",onClick:this._cancel}),i.createElement(Nr,{active:!0,label:"Apply",onClick:this._apply}))))},t.propsTypes={close:function(e,t){var n=e[t];if(!n.prototype||"function"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+"must be a function with 1 arg of type DocLayoutEditorValue")}},t}(i.Component),Do=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Po(e,t,n,r){return e.doc?e=(e=e.step(new zo("width",n||null))).step(new zo("layout",r||null)):e}var $o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._popUp=null,t.isEnabled=function(e){return!0},t.isActive=function(e){return!!t._popUp},t.waitForUserInput=function(e,n,r,o){if(t._popUp)return Promise.resolve(void 0);var i=e.doc;return new Promise((function(e){var n={initialValue:i.attrs};t._popUp=Cr(No,n,{modal:!0,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})}))},t.executeWithUserInput=function(e,t,n,r){if(t){var o=e.selection,i=(e.schema,e.tr);if(i=i.setSelection(o),r)i=Po(i,0,r.width,r.layout);t(i),n&&n.focus()}return!1},t}return Do(t,e),t}(C),Ro=function(){},Io=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fo=function(){return(Fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function qo(e,t,n){var r=e.selection,o=e.doc;if(!r||!o)return e;var i=r.from,a=r.to,s=t.nodes,l=s.blockquote,c=s[H],u=s[U],d=s[W],p=[];n=n||null;var f=new Set([l,u,c,d]);return o.nodesBetween(i,a,(function(e,t,r){var o=e.type;return(e.attrs.align||null)!==n&&f.has(o)&&p.push({node:e,pos:t,nodeType:o}),!0})),p.length?(p.forEach((function(t){var r=t.node,o=t.pos,i=t.nodeType,a=r.attrs;a=Fo(Fo({},a),n?{align:n}:{align:null}),e=e.setNodeMarkup(o,i,a,r.marks)})),e):e}var jo=function(e){function t(t){var n=e.call(this)||this;return n.isActive=function(e){var t=e.selection,r=e.doc,o=t.from,i=t.to,a=!0,s=!1;return r.nodesBetween(o,i,(function(e,t){return a&&e.attrs.align===n._alignment&&(a=!1,s=!0),a})),s},n.isEnabled=function(e){var t=e.selection;return t instanceof _.TextSelection||t instanceof _.AllSelection},n.execute=function(e,t,r){var o=e.schema,i=e.selection,a=qo(e.tr.setSelection(i),o,n._alignment);return!!a.docChanged&&(t&&t(a),!0)},n._alignment=t,n}return Io(t,e),t}(C),Bo=["em","mark-font-size","mark-font-type","strike","strong","mark-text-color","mark-text-highlight","underline","custom-styles"];function Ko(e,t){var n=e.doc,r=e.selection;if(!r||!n)return e;var o=r.from,i=r.to;if(r.empty)return e;var a=new Set(Bo.map((function(e){return t.marks[e]})).filter(Boolean));if(!a.size)return e;var s=[];return n.nodesBetween(o,i,(function(e,t){return!e.marks||!e.marks.length||(e.marks.some((function(n){a.has(n.type)&&s.push({node:e,pos:t,mark:n})})),!0)})),s.length?(s.forEach((function(t){var n=t.node,r=t.mark,o=t.pos;e=e.removeMark(o,o+n.nodeSize,r.type)})),e=qo(e,t,null)):e}function Vo(e,t){var n=e.doc,r=e.selection;if(!r||!n)return e;var o=r.from,i=r.to;if(r.empty)return e;var a=t.nodes,s=a[U],l=a[W],c=[];return n.nodesBetween(o,i,(function(e,t){return s===e.type&&c.push({node:e,pos:t}),!0})),c.length?(c.forEach((function(t){var n=t.node,r=t.pos;e=e.setNodeMarkup(r,l,n.attrs,n.marks)})),e):e}var Uo=function(){return(Uo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ho(e,t,n){var r=t.nodes,o=e.selection,i=e.doc,a=r.blockquote,s=r[U],l=r[H],c=r[W];if(!(o&&i&&s&&c&&l&&a))return e;var u=e.selection,d=u.from,p=u.to,f=null,h=[];return i.nodesBetween(d,p,(function(e,t,r){var o=e.type,i=r.type;return null===f&&(f=o===s&&e.attrs.level===n),i!==l&&h.push(t),!co(e)})),h.sort(ao).reverse().forEach((function(r){e=function(e,t,n,r){var o=t.nodes,i=o[U],a=o[W],s=o.blockquote;if(n>=e.doc.content.size)return e;var l=e.doc.nodeAt(n);if(!(l&&i&&a&&s))return e;var c=l.type;if(so(e.doc,n))return e;co(l)?i&&null!==r&&(e=bo(e,t,n,(function(e){var t=e.content,n=e.marks,o=e.attrs,a=Uo(Uo({},o),{level:r});return i.create(a,t,n)}))):c===i?e=null===r?e.setNodeMarkup(n,a,l.attrs,l.marks):e.setNodeMarkup(n,i,Uo(Uo({},l.attrs),{level:r}),l.marks):(r&&c===a||c===s)&&(e=(e=Ko(e,t)).setNodeMarkup(n,i,Uo(Uo({},l.attrs),{level:r}),l.marks));return e}(e,t,r,f?null:n)})),e}var Wo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xo=function(e){function t(t){var n=e.call(this)||this;return n.isActive=function(e){var t=n._findHeading(e);return!!(t&&t.node&&t.node.attrs&&t.node.attrs.level===n._level)},n.execute=function(e,t,r){var o=e.schema,i=e.selection,a=Ho(e.tr.setSelection(i),o,n._level);return!!a.docChanged&&(t&&t(a),!0)},n._level=t,n}return Wo(t,e),t.prototype._findHeading=function(e){var t=e.schema.nodes[U];return(t?Object(Wr.findParentNodeOfType)(t):Ro)(e.selection)},t}(C),Go=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.execute=function(e,t,n){return Yt(e,t)},t}return Go(t,e),t}(C),Zo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.execute=function(e,t,n){return Zt(e,t)},t}return Zo(t,e),t}(C),Qo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ei(e,t){var n=e.selection;if(!n)return e;var r=n.from;if(r!==n.to)return e;var o=t.nodes.horizontal_rule;if(!o)return e;var i=o.create({},null,null),a=z.Fragment.from(i);return e=e.insert(r,a)}var ti=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.execute=function(e,t,n){var r=e.selection,o=e.schema,i=ei(e.tr.setSelection(r),o);return!!i.docChanged&&(t&&t(i),!0)},t}return Qo(t,e),t}(C),ni=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ri=/\s/,oi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={url:t.props.src},t._onKeyDown=function(e){13===e.keyCode&&(e.preventDefault(),t._apply())},t._onURLChange=function(e){var n=e.target.value;t.setState({url:n})},t._delete=function(){t.props.close({delete:!0})},t._cancel=function(){t.props.close()},t._apply=function(){var e=t.state.url;e&&!ri.test(e)&&t.props.close({src:Zn(e)})},t}return ni(t,e),t.prototype.render=function(){var e=this.props.src,t=this.state.url,n=!!t&&ri.test(t),r="Apply",o=!!n;return e?(r=e?"Update":"Add",o=n):o=n||!t,i.createElement("div",{className:w("image-url-editor")},i.createElement("form",{className:w("form"),onSubmit:er},i.createElement("fieldset",null,i.createElement("legend",null,r," Embed"),i.createElement("input",{autoFocus:!0,onChange:this._onURLChange,onKeyDown:this._onKeyDown,placeholder:"Paste a URL",spellCheck:!1,type:"text",value:t||""})),i.createElement("div",{className:w("form-buttons")},e&&i.createElement(Nr,{label:"Delete",onClick:this._delete}),i.createElement("span",{className:"spacer"}),i.createElement(Nr,{label:"Cancel",onClick:this._cancel}),i.createElement(Nr,{active:!0,disabled:o,label:r,onClick:this._apply}))))},t}(i.Component),ii=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ai(e,t,n){var r=e.selection;if(!r)return e;var o=r.from;if(o!==r.to)return e;var i=t.nodes.embed;if(!i)return e;var a={src:n},s=i.create(a,null,null),l=z.Fragment.from(s);return e=e.insert(o,l)}var si=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._popUp=null,t.isEnabled=function(e,t){var n=e.selection;return n instanceof _.TextSelection&&n.from===n.to},t.waitForUserInput=function(e,n,r,o){if(t._popUp)return Promise.resolve(void 0);n&&n(Dn(e));var i=e.doc,a=e.schema,s=e.selection,l=a.marks.link;if(!l)return Promise.resolve(void 0);var c=In(i,s.from,s.to,l),u=c?c.mark.attrs.src:null;return new Promise((function(e){t._popUp=Cr(oi,{src:u},{modal:!0,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})}))},t.executeWithUserInput=function(e,t,n,r){if(t){var o=e.selection,i=e.schema,a=e.tr;a=(a=n?fn(n.state):a).setSelection(o),r&&r.src&&(a=ai(a,i,r.src)),t(a),n&&n.focus()}return!1},t}return ii(t,e),t}(C),li=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ci(e,t,n){var r=e.selection;if(!r)return e;var o=r.from;if(o!==r.to)return e;var i=t.nodes.image;if(!i)return e;var a={src:n||"",alt:"",title:""},s=i.create(a,null,null),l=z.Fragment.from(s);return e=e.insert(o,l)}var ui=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._popUp=null,t.isEnabled=function(e,n){return t.__isEnabled(e,n)},t.waitForUserInput=function(e,n,r,o){return t._popUp?Promise.resolve(void 0):(n&&n(pn(e)),new Promise((function(e){var n={runtime:r?r.runtime:null};t._popUp=Cr(t.getEditor(),n,{modal:!0,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})})))},t.executeWithUserInput=function(e,t,n,r){if(t){var o=e.selection,i=e.schema,a=e.tr;if(a=(a=n?fn(n.state):a).setSelection(o),r)a=ci(a,i,r.src);t(a),n&&n.focus()}return!1},t.__isEnabled=function(e,t){var n=e.selection;return n instanceof _.TextSelection&&n.from===n.to},t}return li(t,e),t.prototype.getEditor=function(){throw new Error("Not implemented")},t}(C),di=n(20),pi=n(13);var fi=function(){return(fi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},hi={},mi=[];function gi(e){return new Promise((function(t,n){var r={src:e,resolve:t,reject:n};mi.push(r),yi()}))}function yi(){var e=mi.shift();e&&function(e,t,n){var r={complete:!1,height:0,naturalHeight:0,naturalWidth:0,src:e||"",width:0};if(window.navigator.hasOwnProperty("onLine")&&!window.navigator.onLine)return void t(r);var o=e||"";if(!o)return void t(r);if(hi[o]){var i=Object.assign({},hi[o]);return void t(i)}var a,s=pi.parse(o).protocol;if(!/(http:|https:|data:)/.test(s||window.location.protocol))return void t(r);var l=function(){a&&(r.width=a.width,r.height=a.height,r.width=a.naturalWidth,r.height=a.naturalHeight,r.complete=!0),t(r),u(),hi[o]=fi({},r)},c=function(){t(r),u()},u=function(){if(a){if(a instanceof HTMLElement){var e=a.parentNode;e&&e.removeChild(a)}a.onload=null,a.onerror=null,a=null}yi()},d=document.body;d?((a=document.createElement("img")).style.cssText="position:fixed;left:-10000000000px;width:auto;height:auto;",a.onload=l,a.onerror=c,a.src=o,d.appendChild(a)):((a=new Image).onload=l,a.onerror=c,a.src=o)}(e.src,e.resolve,e.reject)}var vi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bi=function(){return(bi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._img=null,t._unmounted=!1,t.state=bi(bi({},t.props.initialValue||{}),{validValue:null}),t._onSrcChange=function(e){var n=e.target.value;t.setState({src:n,validValue:null},t._didSrcChange)},t._didSrcChange=function(){gi(t.state.src).then((function(e){if(t.state.src===e.src&&!t._unmounted){var n=e.complete?e:null;t.setState({validValue:n})}}))},t._cancel=function(){t.props.close()},t._insert=function(){var e=t.state.validValue;t.props.close(e)},t}return vi(t,e),t.prototype.componentWillUnmount=function(){this._unmounted=!0},t.prototype.render=function(){var e=this.state,t=e.src,n=e.validValue,r=n?i.createElement("div",{className:w("image-url-editor-input-preview"),style:{backgroundImage:"url("+String(n.src)}}):null;return i.createElement("div",{className:w("image-url-editor")},i.createElement("form",{className:w("form"),onSubmit:er},i.createElement("fieldset",null,i.createElement("legend",null,"Insert Image"),i.createElement("div",{className:w("image-url-editor-src-input-row")},i.createElement("input",{autoFocus:!0,className:w("image-url-editor-src-input"),onChange:this._onSrcChange,placeholder:"Paste URL of Image...",type:"text",value:t||""}),r),i.createElement("em",null,"Only select image that you have confirmed the license to use")),i.createElement("div",{className:w("form-buttons")},i.createElement(Nr,{label:"Cancel",onClick:this._cancel}),i.createElement(Nr,{active:!!n,disabled:!n,label:"Insert",onClick:this._insert}))))},t.propsTypes={initialValue:di.object,close:function(e,t){var n=e[t];if(!n.prototype||"function"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+"must be a function with 1 arg of type ImageLike")}},t}(i.Component),_i=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ki=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _i(t,e),t.prototype.getEditor=function(){return wi},t}(ui),xi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Si=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xi(t,e),t.prototype.render=function(){return i.createElement("div",{className:w("loading-indicator")},i.createElement("div",{className:w("loading-indicator-frag-1 frag")}),i.createElement("div",{className:w("loading-indicator-frag-2 frag")}),i.createElement("div",{className:w("loading-indicator-frag-3 frag")}),i.createElement("div",{className:w("loading-indicator-frag-4 frag")}))},t}(i.Component),Mi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ci=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},zi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Oi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._img=null,t._unmounted=!1,t.state={error:null,id:b(),pending:!1},t._onSelectFile=function(e){var n=e.target.files&&e.target.files[0];n&&"object"==typeof n&&t._upload(n)},t._onSuccess=function(e){t._unmounted||t.props.close(e)},t._onError=function(e){t._unmounted||t.setState({error:e,id:b(),pending:!1})},t._upload=function(e){return Ci(t,void 0,Promise,(function(){var t,n,r;return zi(this,(function(o){switch(o.label){case 0:if(o.trys.push([0,2,,3]),!(t=this.props.runtime||{}).canUploadImage||!t.uploadImage||!t.canUploadImage())throw new Error("feature is not available");return this.setState({pending:!0,error:null}),[4,t.uploadImage(e)];case 1:return n=o.sent(),this._onSuccess(n),[3,3];case 2:return r=o.sent(),this._onError(r),[3,3];case 3:return[2]}}))}))},t._cancel=function(){t.props.close()},t}return Mi(t,e),t.prototype.componentWillUnmount=function(){this._unmounted=!0},t.prototype.render=function(){var e=this.state,t=e.id,n=e.error,r=e.pending,o=Qn()(w("image-upload-editor"),{pending:r,error:n}),a="Choose an image file...";return r?a=i.createElement(Si,null):n&&(a="Something went wrong, please try again"),i.createElement("div",{className:o},i.createElement("form",{className:w("form"),onSubmit:er},i.createElement("fieldset",null,i.createElement("legend",null,"Upload Image"),i.createElement("div",{className:w("image-upload-editor-body")},i.createElement("div",{className:w("image-upload-editor-label")},a),i.createElement("input",{accept:"image/png,image/gif,image/jpeg,image/jpg",className:w("image-upload-editor-input"),disabled:r,id:t,key:t,onChange:this._onSelectFile,type:"file"}))),i.createElement("div",{className:w("form-buttons")},i.createElement(Nr,{label:"Cancel",onClick:this._cancel}))))},t}(i.Component),Ei=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Li=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isEnabled=function(e,n){if(!n)return!1;var r=n.runtime;return!!r&&(!(!r.canUploadImage||!r.uploadImage)&&(!!r.canUploadImage()&&t.__isEnabled(e,n)))},t}return Ei(t,e),t.prototype.getEditor=function(){return Oi},t}(ui),Ai=function(){return(Ai=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ti(e,t,n){var r=e.doc,o=e.selection;if(!r||!o)return e;if(!(o instanceof _.TextSelection||o instanceof _.AllSelection))return e;var i=t.nodes,a=o.from,s=o.to,l=[],c=i.blockquote,u=i[U],d=i[W];return r.nodesBetween(a,s,(function(r,o){var i=r.type;return i===d||i===u||i===c?(e=Ni(e,t,o,n),!1):!co(r)||(l.push(o),!1)})),l.length?e=yo(e,t,(function(e){var t=e.schema,r=e.tr;return l.sort(ao).reverse().forEach((function(e){r=function(e,t,n,r){var o=t.nodes[H];if(!o)return e;var i=e.doc,a=e.selection;if(!i)return e;var s=i.nodeAt(n);if(!s)return e;var l=X(0,s.attrs.indent+r,7);if(l===s.attrs.indent)return e;var c=a.from,u=a.to;if(c<=n&&u>=n)return Ni(e,t,n,r);var d=s.type,p=[],f=[],h=[];if(i.nodesBetween(n,n+s.nodeSize,(function(e,t){if(e.type===d)return!0;if(e.type===o){var n=o.create(e.attrs,e.content,e.marks);return t+e.nodeSize<=c?p.push(n):t>u?h.push(n):f.push(n),!1}return!0})),e=e.delete(n,n+s.nodeSize),h.length){var m=d.create(s.attrs,z.Fragment.from(h));e=e.insert(n,z.Fragment.from(m))}if(f.length){var g=Ai(Ai({},s.attrs),{indent:l});m=d.create(g,z.Fragment.from(f));e=e.insert(n,z.Fragment.from(m))}if(p.length){m=d.create(s.attrs,z.Fragment.from(p));e=e.insert(n,z.Fragment.from(m))}return e}(r,t,e,n)})),r=po(r)})):e}function Ni(e,t,n,r){if(!e.doc)return e;var o=e.doc.nodeAt(n);if(!o)return e;var i=X(0,(o.attrs.indent||0)+r,7);if(i===o.attrs.indent)return e;var a=Ai(Ai({},o.attrs),{indent:i});return e.setNodeMarkup(n,o.type,a,o.marks)}var Di=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pi=function(e){function t(t){var n=e.call(this)||this;return n.isActive=function(e){return!1},n.execute=function(e,t,r){var o=e.selection,i=e.schema,a=e.tr;return!!(a=Ti(a=a.setSelection(o),i,n._delta)).docChanged&&(t&&t(a),!0)},n._delta=t,n}return Di(t,e),t}(C),$i=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ri=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._popUp=null,t.isEnabled=function(e){if(!(e.selection instanceof _.TextSelection))return!1;if(!e.schema.marks.link)return!1;var t=e.selection;return t.from<t.to},t.waitForUserInput=function(e,n,r,o){if(t._popUp)return Promise.resolve(void 0);n&&n(Dn(e));var i=e.doc,a=e.schema,s=e.selection,l=a.marks.link;if(!l)return Promise.resolve(void 0);var c=In(i,s.from,s.to,l),u=c?c.mark.attrs.href:null;return new Promise((function(e){t._popUp=Cr(jr,{href:u},{modal:!0,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})}))},t.executeWithUserInput=function(e,t,n,r){if(t){var o=e.selection,i=e.schema,a=e.tr;if(a=(a=n?Pn(n.state):a).setSelection(o),void 0!==r){var s=i.marks.link,l=r?{href:r}:null;a=Rn(a.setSelection(e.selection),0,s,l)}t(a)}return n&&n.focus(),!0},t}return $i(t,e),t}(C),Ii=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Fi(e,t){var n=e.selection;if(!n)return e;var r=n.from;if(!n.empty)return e;var o=t.nodes.hard_break;if(!o)return e;var i=t.nodes[H];return Object(Wr.findParentNodeOfType)(i)(n)?e=(e=e.insert(r,z.Fragment.from(o.create()))).setSelection(_.TextSelection.create(e.doc,r+1,r+1)):e}var qi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.execute=function(e,t,n){var r=e.schema,o=e.selection,i=Fi(e.tr.setSelection(o),r);return!!i.docChanged&&(t&&t(i),!0)},t}return Ii(t,e),t}(C);function ji(e,t){return t<0||t>e.content.size?null:e.nodeAt(t)}var Bi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var Ki=function(e){function t(t){var n=e.call(this)||this;return n._direction="",n.isActive=function(e){return!1},n.execute=function(e,t,r){var o=e.selection,i=e.schema,a=e.tr,s=n._direction;return"down"===s?a=function(e,t){var n=e.selection;if(!n)return e;var r=t.nodes[H];if(!r)return e;var o=n.from;if(!n.empty)return e;var i=Object(Wr.findParentNodeOfType)(r)(n);if(!i)return e;var a=i.pos,s=i.node;if(o!==a+s.content.size)return e;var l=e.doc.resolve(a).parent.type,c=Object(Wr.findParentNodeOfType)(l)(n);if(!c)return e;var u,d=a+s.nodeSize,p=ji(e.doc,d),f=d;if(c.start+c.node.content.size===d&&(p=ji(e.doc,d+1),f+=1),!p)return e;switch(p.type){case r:var h=bn()(p.firstChild);u=z.Fragment.from(h.content);break;case t.nodes[U]:case t.nodes[W]:u=z.Fragment.from(p.content)}if(!u)return e;var m=t.text(" ");return e=(e=(e=(e=e.delete(f,f+p.nodeSize)).insert(d-2,u)).insert(d-2,z.Fragment.from(m))).setSelection(_.TextSelection.create(e.doc,d-2,d-2))}(a.setSelection(o),i):"up"===s&&(a=function(e,t){var n=e.selection;if(!n)return e;var r=t.nodes[H];if(!r)return e;var o=n.from;if(!n.empty)return e;var i=Object(Wr.findParentNodeOfType)(r)(n);if(!i)return e;var a=i.pos,s=i.node;if(o!==a+2)return e;var l=e.doc.resolve(a).nodeBefore;if(!l||l.type!==r)return e;if(1!==s.childCount)return e;var c=s.firstChild,u=t.text(" ");return e=(e=(e=(e=e.delete(a-2,a+s.nodeSize)).insert(a-2,z.Fragment.from(u))).insert(a-1,z.Fragment.from(c.content))).setSelection(_.TextSelection.create(e.doc,a-1,a-1))}(a.setSelection(o),i)),!!a.docChanged&&(t&&t(a),!0)},n._direction=t,n}return Bi(t,e),t}(C),Vi=function(){return(Vi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ui(e,t){var n=t.nodes[H];if(!n)return e;var r=e.selection;if(!r)return e;var o=r.$from,i=r.$to,a=r.node;if(a&&a.isBlock||o.depth<2||!o.sameParent(i))return e;var s=o.node(-1);if(s.type!==n)return e;if(0==o.parent.content.size)return function(e,t){var n=t.nodes[H],r=t.nodes.ordered_list,o=t.nodes.bullet_list,i=t.nodes[W];if(!n||!i)return e;var a=Object(Wr.findParentNodeOfType)(n)(e.selection);if(!a||""!==a.node.textContent)return e;var s=r&&Object(Wr.findParentNodeOfType)(r)(e.selection)||o&&Object(Wr.findParentNodeOfType)(o)(e.selection);if(!s)return e;var l=e.doc.resolve(a.pos),c=l.index(l.depth),u=s.node;if(u.childCount<3||c<1||c>=u.childCount-1)return e;var d=u.attrs.name;d||(d=b(),e=e.setNodeMarkup(s.pos,u.type,Vi(Vi({},u.attrs),{name:d}),u.marks));var p=a.pos+a.node.nodeSize,f=s.pos+s.node.nodeSize-1,h=e.doc.slice(p,f,!1),m=a.pos,g=s.pos+s.node.nodeSize;e=e.delete(m,g);var y=s.node,v=Vi({},y.attrs);r===y.type&&(v.counterReset="none",v.following=d);var w=m+1,k=y.type.create(v,h.content);e=e.insert(w,k);var x=i.create({},z.Fragment.empty);return e=(e=e.insert(w,x)).setSelection(_.TextSelection.create(e.doc,w))}(e,t);var l=i.pos==o.end()?s.contentMatchAt(o.indexAfter(-1)).defaultType:null;e=e.delete(o.pos,i.pos);var c=l&&[null,{type:l}];return Object(ut.h)(e.doc,o.pos,2,c)?e.split(o.pos,2,c):e}var Hi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wi=function(e){function t(){var t=e.call(this)||this;return t.execute=function(e,t,n){var r=e.selection,o=e.schema,i=Ui(e.tr.setSelection(r),o);return!!i.docChanged&&(t&&t(i),!0)},t}return Hi(t,e),t}(C),Xi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gi=function(e){function t(t){var n=e.call(this)||this;return n.isActive=function(e){return n._ordered?!!n._findList(e,"ordered_list"):!!n._findList(e,"bullet_list")},n.execute=function(e,t,r){var o=e.selection,i=e.schema,a=i.nodes[n._ordered?"ordered_list":"bullet_list"],s=e.tr;return s=s.setSelection(o),a?!!(s=function(e,t,n){var r=e.selection,o=e.doc;if(!r||!o)return e;var i=r.from,a=r.to,s=null;0===i&&(i=1,s=_.TextSelection.create(o,i,a),e=e.setSelection(s));var l=_.TextSelection.create(o,i,i),c=t.nodes[W],u=t.nodes[U],d=Object(Wr.findParentNodeOfType)(n)(l),p=Object(Wr.findParentNodeOfType)(c)(l),f=Object(Wr.findParentNodeOfType)(u)(l);return d?e=bo(e,t,d.pos):(c&&p||u&&f)&&(e=wo(e,t,n,s)),e}(s,i,a)).docChanged&&(t&&t(s),!0):s},n._ordered=t,n}return Xi(t,e),t.prototype._findList=function(e,t){var n=e.schema.nodes[t];return(n?Object(Wr.findParentNodeOfType)(n):Ro)(e.selection)},t}(C),Ji=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zi=function(e){function t(t){var n=e.call(this)||this;return n.isActive=function(e){var t=e.schema,r=e.doc,o=e.selection,i=o.from,a=o.to,s=t.marks[n._markName];return!!(s&&i<a)&&!!In(r,i,a-1,s)},n.execute=function(e,t,r){var o=e.schema,i=e.selection,a=e.tr,s=o.marks[n._markName];if(!s)return!1;if(i.empty&&!(i instanceof _.TextSelection))return!1;var l=i.from,c=i.to;if(a&&c===l+1){var u=a.doc.nodeAt(l);if(u.isAtom&&!u.isText&&u.isLeaf)return!1}return function(e,t){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,s,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var l=!1,c=n.tr,u=0;!l&&u<s.length;u++){var d=s[u],p=d.$from,f=d.$to;l=n.doc.rangeHasMark(p.pos,f.pos,e)}for(var h=0;h<s.length;h++){var m=s[h],g=m.$from,y=m.$to;l?c.removeMark(g.pos,y.pos,e):c.addMark(g.pos,y.pos,e.create(t))}r(c.scrollIntoView())}return!0}}(s)(e,t,r)},n._markName=t,n}return Ji(t,e),t}(C),Yi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isActive=function(e){return!1},t.isEnabled=function(e){var t=e.selection;return!t.empty&&(t instanceof _.TextSelection||t instanceof _.AllSelection)},t.execute=function(e,t,n){var r=Ko(e.tr.setSelection(e.selection),e.schema);return r=Vo(r,e.schema),!(!t||!r.docChanged)&&(t(r),!0)},t}return Yi(t,e),t}(C),ea=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ta(e,t,n){var r=e.selection;if(!r)return e;var o=r.from;if(o!==r.to)return e;var i=t.nodes.math;if(!i)return e;var a={math:n},s=i.create(a,null,null),l=z.Fragment.from(s);return e.insert(o,l).setSelection(_.NodeSelection.create(e.doc,o))}var na=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._popUp=null,t.isEnabled=function(e,t){var n=e.selection;return n instanceof _.TextSelection&&n.from===n.to},t.waitForUserInput=function(e,n,r,o){return t._popUp?Promise.resolve(void 0):(n&&n(pn(e)),Promise.resolve(" "))},t.executeWithUserInput=function(e,t,n,r){if(t){var o=e.selection,i=e.schema,a=e.tr;a=(a=n?fn(n.state):a).setSelection(o),r&&(a=ta(a,i,r)),t(a),n&&n.focus()}return!1},t}return ea(t,e),t}(C),ra=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isActive=function(e){return!1},t.isEnabled=function(e){return!!window.print},t.execute=function(e,t,n){return!(!t||!window.print)&&(window.print(),!0)},t}return ra(t,e),t}(C),ia=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function aa(e,t,n){for(var r=[],o=360/e,i=X(0,t,100),a=X(0,n,100),s=0;s<360;){var l="hsl("+s+","+i+"%,"+a+"%)",c=de()(l);r.unshift(c),s+=o}return r}var sa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderColor=function(e,n){var r=t.props.hex,o=e.hex().toLowerCase(),a={backgroundColor:o},s=r&&r.toLowerCase()===o;return i.createElement(Nr,{active:s,className:w("color-editor-cell"),key:o+"-"+n,label:"",onClick:t._onSelectColor,style:a,value:o})},t._onSelectColor=function(e){t.props.close(e)},t}return ia(t,e),t.prototype.render=function(){var e=this._renderColor,t=this.props.hex;return i.createElement("div",{className:w("color-editor")},i.createElement("div",{className:w("color-editor-section")},i.createElement(Nr,{active:!t,className:w("color-editor-color-transparent"),label:"Transparent",onClick:this._onSelectColor,value:"rgba(0,0,0,0)"})),i.createElement("div",{className:w("color-editor-section")},function(e){for(var t=255,n=t/e,r=[];t>0;){var o=de()({r:t,g:t,b:t});t-=n,t=Math.floor(t),r.unshift(o)}return r}(10).map(e)),i.createElement("div",{className:w("color-editor-section")},aa(10,90,50).map(e)),i.createElement("div",{className:w("color-editor-section")},aa(30,70,70).map(e)),i.createElement("div",{className:w("color-editor-section")},aa(30,90,30).map(e)))},t}(i.Component),la=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ca=Object(tt.setCellAttr)("background","#000000"),ua=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._popUp=null,t.shouldRespondToUIEvent=function(e){return e.type===C.EventType.MOUSEENTER},t.isEnabled=function(e){return ca(e.tr)},t.waitForUserInput=function(e,n,r,o){if(t._popUp)return Promise.resolve(void 0);if(!(bn()(o).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);var i=o?o.currentTarget:null;return new Promise((function(e){t._popUp=Cr(sa,null,{anchor:i,position:fr,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})}))},t.executeWithUserInput=function(e,t,n,r){return!(!t||void 0===r)&&(Object(tt.setCellAttr)("background",r)(e,t,n),!0)},t}return la(t,e),t.prototype.cancel=function(){this._popUp&&this._popUp.close(void 0)},t}(C),da=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pa=Object(tt.setCellAttr)("borderColor","#000000"),fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._popUp=null,t.shouldRespondToUIEvent=function(e){return e.type===C.EventType.MOUSEENTER},t.isEnabled=function(e){return pa(e.tr)},t.waitForUserInput=function(e,n,r,o){if(t._popUp)return Promise.resolve(void 0);if(!(bn()(o).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);var i=o?o.currentTarget:null;return new Promise((function(e){t._popUp=Cr(sa,null,{anchor:i,position:fr,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})}))},t.executeWithUserInput=function(e,t,n,r){return!(!t||void 0===r)&&(Object(tt.setCellAttr)("borderColor",r)(e,t,n),!0)},t}return da(t,e),t.prototype.cancel=function(){this._popUp&&this._popUp.close(void 0)},t}(C);function ha(e,t,n,r){if(!e.selection||!e.doc)return e;var o=e.selection,i=o.from;if(i!==o.to)return e;var a=t.nodes,s=a.table_cell,l=a[W],c=a.table_row,u=a.table;if(!(s&&l&&c&&u))return e;for(var d=[],p=0;p<n;p++){for(var f=[],h=0;h<r;h++){var m=s.create(void 0,z.Fragment.fromArray([l.create()]));f.push(m)}var g=c.create({},z.Fragment.from(f));d.push(g)}var y=u.create({},z.Fragment.from(d));e=e.insert(i,z.Fragment.from(y));var v=_.TextSelection.create(e.doc,i+5,i+5);return e=e.setSelection(v)}function ma(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width,h:t.height}}var ga=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ya=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ga(t,e),t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.selected,o={left:t+"px",top:n+"px",width:"16px",height:"16px"},a=Qn()(w("table-grid-size-editor-cell"),{selected:r});return i.createElement("div",{className:a,style:o})},t}(i.Component),va=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ex=0,t._ey=0,t._mx=0,t._my=0,t._rafID=0,t._ref=null,t._entered=!1,t.state={rows:1,cols:1},t._onRef=function(e){t._ref=e},t._onMouseEnter=function(e){var n=e.currentTarget;if(n instanceof HTMLElement){var r=ar(n),o=Math.round(e.clientX),i=Math.round(e.clientY);t._ex=r.x,t._ey=r.y,t._mx=o,t._my=i,t._entered||(t._entered=!0,document.addEventListener("mousemove",t._onMouseMove,!0))}},t._onMouseMove=function(e){var n=t._ref&&s.findDOMNode(t._ref),r=n?ma(n):null,o=ir(e.screenX,e.screenY,10);r&&o&&or(r,o,50)&&(e.preventDefault(),e.stopImmediatePropagation());var i=Math.round(e.clientX),a=Math.round(e.clientY);i===t._mx&&a===t._my||(t._mx=i,t._my=a,t._rafID&&cancelAnimationFrame(t._rafID),t._rafID=requestAnimationFrame(t._updateGridSize))},t._updateGridSize=function(){t._rafID=0;var e=t._mx,n=t._my,r=e-t._ex,o=n-t._ey,i=X(1,Math.ceil(o/21),7),a=X(1,Math.ceil(r/21),7),s=t.state,l=s.rows,c=s.cols;l===i&&c===a||t.setState({rows:i,cols:a})},t._onMouseDown=function(e){e.preventDefault(),t.props.close(t.state)},t}return ga(t,e),t.prototype.componentWillUnmount=function(){this._entered&&document.removeEventListener("mousemove",this._onMouseMove,!0),this._rafID&&cancelAnimationFrame(this._rafID)},t.prototype.render=function(){var e=this.state,t=e.rows,n=e.cols,r=Math.max(5,t),o=Math.max(5,n);r===t&&(r=Math.min(7,r+1)),o===n&&(o=Math.min(7,o+1));for(var a=[],s=0,l=0,c=0,u=0;s<r;){l+=5;for(var d=0,p=0;d<o;){p+=5;var f=s<t&&d<n;a.push(i.createElement(ya,{key:String(s)+"-"+String(d),selected:f,x:p,y:l})),c=(p+=16)+5,d++}u=(l+=16)+5,s++}var h={width:c+"px",height:u+"px"};return i.createElement("div",{className:w("table-grid-size-editor"),ref:this._onRef},i.createElement("div",{className:w("table-grid-size-editor-body"),onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,style:h},a),i.createElement("div",{className:w("table-grid-size-editor-footer")},t," X ",n))},t}(i.Component),ba=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._popUp=null,t.shouldRespondToUIEvent=function(e){return e.type===C.EventType.MOUSEENTER},t.isEnabled=function(e){var t=!1,n=e.selection;if(n instanceof _.TextSelection){if(t=n.from===n.to)for(var r=n.$head,o=r.depth;o>0;o--)if("row"==r.node(o).type.spec.tableRole)return!1;return t}return t},t.waitForUserInput=function(e,n,r,o){if(t._popUp)return Promise.resolve(void 0);if(!(bn()(o).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);var i=o?o.currentTarget:null;return new Promise((function(e){t._popUp=Cr(va,null,{anchor:i,position:fr,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})}))},t.executeWithUserInput=function(e,t,n,r){if(t){var o=e.selection,i=e.schema,a=e.tr;if(r){var s=r.rows,l=r.cols;a=ha(a=a.setSelection(o),i,s,l)}t(a)}return!1},t}return ba(t,e),t}(C),_a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ka(e){if(!e)return!1;if(e.type.name!==W)return!1;var t=e.firstChild,n=e.lastChild;return!t||t===n&&("text"===t.type.name&&" "===t.text)}function xa(e,t){var n=t.nodes[W],r=t.nodes.table_cell;if(!n||!r)return e;var o=e.doc,i=e.selection;if(!i instanceof tt.CellSelection)return e;var a=i.from,s=i.to,l=[];return o.nodesBetween(a,s,(function(t,o,i){if(t.type===n&&i.type===r){if(ka(t))ka(e.doc.resolve(o).nodeBefore)&&l.push(o);return!1}return!0})),l.reverse().forEach((function(t){var n=e.doc.nodeAt(t);e=e.delete(t,t+n.nodeSize)})),e}var Sa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.execute=function(e,t,n){var r=e.tr,o=e.schema,i=e.selection,a=r;i instanceof tt.CellSelection&&(Object(tt.mergeCells)(e,(function(e){a=e}),n),a=xa(a,o));var s=a.docChanged||a!==r;return s&&t&&t(a),s},t}return _a(t,e),t}(C);var Ma=new Set(["mark-font-size","mark-text-color"]);function Ca(e,t){var n=e.selection,r=e.schema,o=e.tr;if(!r.marks[t])return!1;var i=r.nodes.math;if(i&&Ma.has(t)&&function(e,t){return e instanceof _.NodeSelection&&e.node.type===t}(n,i))return!0;if(!(n instanceof _.TextSelection||n instanceof _.AllSelection))return!1;var a=e.selection,s=a.from;if(a.to===s+1){var l=o.doc.nodeAt(s);if(l.isAtom&&!l.isText&&l.isLeaf)return!1}return!0}var za=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._popUp=null,t.isEnabled=function(e){return Ca(e,"mark-text-color")},t.waitForUserInput=function(e,n,r,o){if(t._popUp)return Promise.resolve(void 0);if(!(bn()(o).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);var i=e.doc,a=e.selection,s=e.schema.marks["mark-text-color"],l=o?o.currentTarget:null,c=In(i,a.from,a.to,s),u=c?c.mark.attrs.color:null;return new Promise((function(e){t._popUp=Cr(sa,{hex:u},{anchor:l,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})}))},t.executeWithUserInput=function(e,t,n,r){if(t&&void 0!==r){var o=e.schema,i=e.tr,a=o.marks["mark-text-color"],s=r?{color:r}:null;if((i=Rn(e.tr.setSelection(e.selection),0,a,s)).docChanged||i.storedMarksSet)return t&&t(i),!0}return!1},t}return za(t,e),t}(C),Ea=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),La=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._popUp=null,t.isEnabled=function(e){return Ca(e,"mark-text-highlight")},t.waitForUserInput=function(e,n,r,o){if(t._popUp)return Promise.resolve(void 0);if(!(bn()(o).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);var i=e.doc,a=e.selection,s=e.schema.marks["mark-text-highlight"],l=In(i,a.from,a.to,s),c=l?l.mark.attrs.highlightColor:null,u=o?o.currentTarget:null;return new Promise((function(e){t._popUp=Cr(sa,{hex:c},{anchor:u,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})}))},t.executeWithUserInput=function(e,t,n,r){if(t&&void 0!==r){var o=e.schema,i=e.tr,a=o.marks["mark-text-highlight"],s=r?{highlightColor:r}:null;if((i=Rn(i.setSelection(e.selection),0,a,s)).docChanged||i.storedMarksSet)return t&&t(i),!0}return!1},t}return Ea(t,e),t}(C),Aa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ta(e,t){var n=e.selection;if(!(n.empty&&n instanceof _.TextSelection))return e;var r=t.marks.spacer;if(!r)return e;var o=t.nodes[W],i=t.nodes[U],a=t.nodes[H],s=a&&Object(Wr.findParentNodeOfType)(a)(n)||o&&Object(Wr.findParentNodeOfType)(o)(n)||i&&Object(Wr.findParentNodeOfType)(i)(n);if(!s)return e;var l=n.from,c=n.to;if(s.node.type===a&&s.pos===l-2)return e;var u=t.text(" "),d={size:"tab"};return e=(e=Rn(e=(e=e.insert(c,z.Fragment.from(u))).setSelection(_.TextSelection.create(e.doc,c,c+1)),0,r,d)).setSelection(_.TextSelection.create(e.doc,c+1,c+1))}var Na=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.execute=function(e,t,n,r){var o=e.schema,i=Ta(e.tr,o);return!!i.docChanged&&(t&&t(i),!0)},t}return Aa(t,e),t}(C),Da=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pa=function(){return(Pa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function $a(){return[{Single:new Ra("125%"),1.15:new Ra("138%"),1.5:new Ra("165%"),Double:new Ra("232%")}]}var Ra=function(e){function t(t){var n=e.call(this)||this;return n.isActive=function(e){var t=e.selection,r=e.doc,o=e.schema,i=t.from,a=t.to,s=o.nodes[W],l=o.nodes[U],c=!0,u=!1;return r.nodesBetween(i,a,(function(e,t){var r=e.type;return!c||r!==s&&r!==l||e.attrs.lineSpacing!==n._lineSpacing||(c=!1,u=!0),c})),u},n.isEnabled=function(e){return n.isActive(e)||n.execute(e)},n.execute=function(e,t,r){var o=e.schema,i=e.selection,a=function(e,t,n){var r=e.selection,o=e.doc;if(!r||!o)return e;if(!(r instanceof _.TextSelection||r instanceof _.AllSelection))return e;var i=r.from,a=r.to,s=t.nodes[W],l=t.nodes[U],c=t.nodes[H],u=t.nodes.blockquote;if(!(s||l||c||u))return e;var d=[],p=n||null;return o.nodesBetween(i,a,(function(e,t,n){var r=e.type;return r!==s&&r!==l&&r!==c&&r!==u||((e.attrs.lineSpacing||null)!==p&&d.push({node:e,pos:t,nodeType:r}),r===c)})),d.length?(d.forEach((function(t){var n=t.node,r=t.pos,o=t.nodeType,i=n.attrs;i=Pa(Pa({},i),p?{lineSpacing:p}:{lineSpacing:null}),e=e.setNodeMarkup(r,o,i,n.marks)})),e):e}(e.tr.setSelection(i),o,n._lineSpacing);return!!a.docChanged&&(t&&t(a),!0)},n._lineSpacing=t,n}return Da(t,e),t.createGroup=$a,t}(C),Ia=Ra,Fa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function qa(e){return new(function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.isEnabled=function(e){return n.execute(e)},n.execute=function(t,n,r){var o=t.tr,i=o;return e(t,(function(e){i=e,n&&n(i)}),r),i.docChanged||o!==i},n}return Fa(n,t),n}(C))}var ja=tt.addColumnAfter,Ba=tt.addColumnBefore,Ka=tt.addRowAfter,Va=tt.addRowBefore,Ua=tt.deleteColumn,Ha=tt.deleteRow,Wa=tt.deleteTable,Xa=tt.goToNextCell,Ga=tt.splitCell,Ja=tt.toggleHeaderCell,Za=tt.toggleHeaderColumn,Ya=tt.toggleHeaderRow;"function"==typeof document.execCommand&&(document.execCommand("enableObjectResizing",!1,"false"),document.execCommand("enableInlineTableEditing",!1,"false"));var Qa=new xo,es=new Qi,ts=(new $o,new Zi("em")),ns=(new Xo(1),new Xo(2),new Xo(3),new Xo(4),new Xo(5),new Xo(6),new Jo),rs=new Yo,is=new ti,as=new si,ss=new ki,ls=new Li,cs=new Pi(-1),us=new Pi(1),ds=new Ri,ps=new qi,fs=new Ki("down"),hs=new Ki("up"),ms=new Wi,gs=new na,ys=new Gi(!0),vs=(new oa,new Zi("strike")),bs=new Zi("strong"),ws=new Zi("sub"),_s=new Zi("super"),ks=qa(ja),xs=qa(Ba),Ss=qa(Ka),Ms=qa(Va),Cs=new ua,zs=new fa,Os=qa(Ua),Es=qa(Ha),Ls=qa(Wa),As=new wa,Ts=new Sa,Ns=qa(Xa(1)),Ds=qa(Xa(-1)),Ps=qa(Ga),$s=qa(Ja),Rs=qa(Za),Is=qa(Ya),Fs=new jo("center"),qs=new jo("justify"),js=new jo("left"),Bs=new jo("right"),Ks=new Oa,Vs=new La,Us=new Na,Hs=Ia.createGroup(),Ws=new Gi(!1),Xs=new Zi("underline"),Gs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var Js=function(e){function t(t){var n=e.call(this)||this;return n._popUp=null,n._pt=0,n.isEnabled=function(e){return Ca(e,"mark-font-size")},n.execute=function(e,t,r){var o=e.schema,i=e.selection,a=function(e,t,n){var r=t.marks["mark-font-size"];return r?e=Rn(e,0,r,n?{pt:n}:null):e}(e.tr.setSelection(i),o,n._pt);return!(!a.docChanged&&!a.storedMarksSet)&&(t&&t(a),!0)},n._pt=t,n}return Gs(t,e),t}(C);function Zs(e,t,n,r){var o=t;if(e.nodeSize<=2)return null;var i=function(e){return e.type===r};for(t=Math.max(2,t),n=Math.min(n,e.nodeSize-2);o<=n;){var a=e.nodeAt(o);if(a&&a.marks){var s=a.marks.find(i);if(s)return s;o++}else o++}return null}var Ys={1:20,2:18,3:16,4:14,5:11,6:11};var Qs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),el=[8,9,10,11,12,14,18,24,30,36,48,60,72,90].reduce((function(e,t){return e[" "+t+" "]=new Js(t),e}),{}),tl=[{Default:new Js(0)},el],nl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qs(t,e),t.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.editorState,r=e.editorView,o=function(e){var t=e.schema,n=e.doc,r=e.selection,o=e.tr,i=t.marks["mark-font-size"],a=t.nodes[U],s=String(11);if(!i)return s;var l=r.from,c=r.to;if(r.empty){var u=(o.storedMarks||e.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find((function(e){return e.type===i}));return u?String(u.attrs.pt||s):s}var d=i?Zs(n,l,c,i):null;if(d)return String(d.attrs.pt);if(!a)return s;var p=Object(Wr.findParentNodeOfType)(a)(e.selection);if(!p)return s;var f=String(p.node.attrs.level);return Ys[f]||s}(n),a=String(o).length<=2?"width-30":"width-60";return i.createElement(io,{className:a,commandGroups:tl,disabled:!r||!r.editable,dispatch:t,editorState:n,editorView:r,label:o})},t}(i.Component),rl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var ol=function(e){function t(t){var n=e.call(this)||this;return n._label=null,n._name="",n._popUp=null,n.renderLabel=function(e){return n._label},n.isEnabled=function(e){var t=e.schema,n=e.selection,r=e.tr;if(!(n instanceof _.TextSelection||n instanceof _.AllSelection))return!1;if(!t.marks["mark-font-type"])return!1;var o=n.from;if(n.to===o+1){var i=r.doc.nodeAt(o);if(i.isAtom&&!i.isText&&i.isLeaf)return!1}return!0},n.execute=function(e,t,r){var o=e.schema,i=e.selection,a=function(e,t,n){var r=t.marks["mark-font-type"];if(!r)return e;var o=e.selection;return o instanceof _.TextSelection||o instanceof _.AllSelection?e=Rn(e,0,r,n?{name:n}:null):e}(e.tr.setSelection(i),o,n._name);return!(!a.docChanged&&!a.storedMarksSet)&&(t&&t(a),!0)},n._name=t,n._label=t?i.createElement("span",{style:{fontFamily:t}},t):null,n}return rl(t,e),t}(C);var il,al=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sl=((il={}).Arial=new ol(""),il);q.forEach((function(e){sl[e]=new ol(e)}));var ll=[sl],cl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return al(t,e),t.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.editorState,r=e.editorView,o=function(e){var t=e.schema,n=e.doc,r=e.selection,o=e.tr,i=t.marks["mark-font-type"];if(!i)return"Arial";var a=r.from,s=r.to;if(r.empty){var l=(o.storedMarks||e.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find((function(e){return e.type===i}));return l&&l.attrs.name||"Arial"}var c=i?Zs(n,a,s,i):null,u=c&&c.attrs.name;return u||"Arial"}(n);return i.createElement(io,{className:"width-100",commandGroups:ll,disabled:!r||!r.editable,dispatch:t,editorState:n,editorView:r,label:o})},t}(i.Component),ul=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dl=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function pl(e,t,n,r,o){var i=n.selection,a=i.empty,s=i.$cursor,l=i.ranges;if(a&&!s||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0==i.depth&&e.type.allowsMarkType(n);return e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),!!s&&{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,l,e))return!1;if(o){if(!s){for(var c=0;c<l.length;c++){var u=l[c],d=u.$from,p=u.$to;r.addMark(d.pos,p.pos,e.create(t))}return r}e.isInSet(n.storedMarks||s.marks())?o(r.removeStoredMark(e)):o(r.addStoredMark(e.create(t)))}return!0}var fl=function(e){function t(t,n){var r=e.call(this)||this;return r._customStyle=[],r.getTheInlineStyles=function(e){var t={},n=[];return(n=Object.assign(n,r._customStyle)).forEach((function(n){t=Object.assign(t,n),Object.entries(n).forEach((function(n){var r=dl(n,2),o=r[0],i=r[1];e&&"boolean"==typeof i?delete t[o]:e||"boolean"==typeof i||delete t[o]}))})),t},r.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},r.isEnabled=function(e){return!0},r.execute=function(e,t,n){var o=e.tr,i=e.selection,a=e.schema;if(r._customStyle){var s=r.getTheInlineStyles(!0);r.isEmpty(s)||(o=function(e,t,n){var r=t.marks["custom-styles"];if(!r)return e;var o=e.selection;return o instanceof _.TextSelection||o instanceof _.AllSelection?e=Rn(e,0,r,n):e}(o.setSelection(i),a,s));var l=r.getTheInlineStyles(!1);for(var c in l){o=pl(a.marks[c],void 0,e,o,t)}}return!(!o.docChanged&&!o.storedMarksSet)&&(t&&t(o),!0)},r._customStyle=t,r._customStyleName=n,r}return ul(t,e),t.prototype._findHeading=function(e){var t=e.schema.nodes[U];return(t?Object(Wr.findParentNodeOfType)(t):Ro)(e.selection)},t}(C);var hl,ml=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gl=((hl={}).Normal=new Xo(0),hl);Ke.forEach((function(e){e.level?gl[e.name]=new Xo(e.level):gl[e.name]=new fl(e.customstyles,e.name)}));var yl=[gl],vl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ml(t,e),t.prototype.findHeadingName=function(e){for(var t=0;t<Ke.length;t++)if(Ke[t].level==e)return Ke[t].name},t.prototype.render=function(){var e,t=this.props,n=t.dispatch,r=t.editorState,o=t.editorView,a=function(e){var t=e.schema.nodes[U];if(!t)return"Normal";var n=(t?Object(Wr.findParentNodeOfType)(t):null)(e.selection);return n&&void 0!==n?n.node.attrs.level:0}(r);return e=0<a?this.findHeadingName(a):function(e){var t=e.schema,n=e.doc,r=e.selection,o=e.tr,i=t.marks["custom-styles"];if(!i)return FONT_TYPE_NAME_DEFAULT;var a=r.from,s=r.to;if(r.empty){var l=(o.storedMarks||e.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find((function(e){return e.type===i}));return l&&l.attrs.stylename||"Normal"}var c=i?Zs(n,a,s,i):null,u=c&&c.attrs.stylename;return u||"Normal"}(r),i.createElement(io,{className:"width-100",commandGroups:yl,disabled:!o||!o.editable,dispatch:n,editorState:r,editorView:o,label:e})},t}(i.Component),bl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wl=/[a-z_]+/,_l={},kl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t.prototype.render=function(){return i.createElement("span",{className:"superscript-wrap"},i.createElement("span",{className:"superscript-base"},"x"),i.createElement("span",{className:"superscript-top"},"y"))},t}(i.Component),xl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t.prototype.render=function(){return i.createElement("span",{className:"subscript-wrap"},i.createElement("span",{className:"subscript-base"},"x"),i.createElement("span",{className:"subscript-bottom"},"y"))},t}(i.Component),Sl={superscript:i.createElement(kl,null),subscript:i.createElement(xl,null)},Ml=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t.get=function(e,n){var r=(e||"")+"-"+(n||""),o=_l[r]||i.createElement(t,{title:n,type:e});return _l[r]=o,o},t.prototype.render=function(){var e,t,n=this.props,r=n.type,o=n.title,a="",s="",l=Sl[r];return l?(a=Qn()(w("icon"),((e={})[r]=!0,e)),s=l):r&&wl.test(r)?(a=Qn()(w("icon"),((t={})[r]=!0,t)),s=r):(a=w("icon-unknown"),s=o||r),i.createElement("span",{className:a},s)},t}(i.Component),Cl=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},zl=/\[([A-Za-z_\d]+)\](.*)/;function Ol(e){var t=e.match(zl);if(t){var n=Cl(t,3),r=(n[0],n[1]),o=n[2];return{icon:r?Ml.get(r):null,title:o||null}}return{icon:null,title:e||null}}var El=[{"Insert Table...":As},{"Fill Color...":Cs,"Border Color....":zs},{"Insert Column Before":xs,"Insert Column After":ks,"Delete Column":Os},{"Insert Row Before":Ms,"Insert Row After":Ss,"Delete Row":Es},{"Merge Cells":Ts,"Split Row":Ps},{"Toggle Header Column":Rs,"Toggle Header Row":Is,"Toggle Header Cells":$s},{"Delete Table":Ls}],Ll=[{"[font_download] Font Type":cl},{"[format_size] Text Size":nl},{"[format_bold] Bold":bs,"[format_italic] Italic":ts,"[format_underline] Underline":Xs,"[format_strikethrough] Strike through":vs,"[subscript] Subscript":ws,"[superscript] Superscript":_s,"[format_color_text] Text color":Ks,"[border_color] Highlight color":Vs,"[format_clear] Clear formats":es},{"[format_align_left] Left align":js,"[format_align_center] Center Align":Fs,"[format_align_right] Right Align":Bs,"[format_align_justify] Justify":qs},{"[format_indent_increase] Indent more":us,"[format_indent_decrease] Indent less":cs,"[format_line_spacing] Line spacing":Hs},{"[format_list_numbered] Ordered list":ys,"[format_list_bulleted] Bulleted list":Ws},{"[H1] Header 1":vl},{"[video_library] Insert video":as,"[link] Apply link":ds,"[image] Insert image":[{"Insert image by URL":ss,"Upload image from computer":ls}],"[grid_on] Table...":El,"[hr] Horizontal line":is,"[functions] Math":gs,"[format_quote] Block quote":Qa},{"[undo] Undo":rs,"[redo] Redo":ns}],Al=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._menu=null,t}return Al(t,e),t.prototype.render=function(){var e=this.props,t=e.editorState,n=e.editorView;return i.createElement(io,{className:w("table-cell-menu"),commandGroups:El,dispatch:n.dispatch,editorState:t,editorView:n,icon:Ml.get("edit"),title:"Edit"})},t}(i.Component);function Nl(e){var t=ar(e),n=t.x,r=t.y,o=t.w,i=t.h,a=o&&i?e.ownerDocument.elementFromPoint(n+1,r+1):null;return!!a&&(a===e||!!e.contains(a))}var Dl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pl=function(){function e(e){var t=this;this._popUp=null,this._scrollHandle=null,this.destroy=function(){t._popUp&&t._popUp.close(),t._popUp=null},this._onOpen=function(){var e=t._cellElement;e&&(t._scrollHandle=function(e,t){for(var n=e.ownerDocument.defaultView,r=[],o=0,i=function(){o&&cancelAnimationFrame(o),o=requestAnimationFrame(t)},a=e;a;){var s=n.getComputedStyle(a).overflow;(i&&"auto"===s||"scroll"===s)&&(a.addEventListener("scroll",i,!1),r.push(a)),a=a.parentElement}return{dispose:function(){for(;i&&r.length;)(a=r.pop())&&a.removeEventListener("scroll",i,!1);i=null,o&&window.cancelAnimationFrame(o),o=0}}}(e,t._onScroll))},this._onClose=function(){t._popUp=null,t._scrollHandle&&t._scrollHandle.dispose(),t._scrollHandle=null},this._onScroll=function(){var e=t._popUp,n=t._cellElement;e&&n&&(Nl(n)||e.close())},this.update(e,null)}return e.prototype.update=function(e,t){var n=e.state,r=e.readOnly,o=Xr(n);if(o&&!r){var i=e.domAtPos(o.pos+1);if(i){var a=i.node,s=this._popUp,l={editorState:n,editorView:e};a&&!Nl(a)&&(a=null),a?s&&a===this._cellElement?s.update(l):(s&&s.close(),this._cellElement=a,e.disabled||(this._popUp=Cr(Tl,l,{anchor:a,autoDismiss:!1,onClose:this._onClose,position:mr}),this._onOpen())):(s&&s.close(),this._cellElement=null)}else this.destroy()}else this.destroy()},e}(),$l={key:new _.PluginKey("TableCellMenuPlugin"),view:function(e){return new Pl(e)}},Rl=function(e){function t(){return e.call(this,$l)||this}return Dl(t,e),t}(_.Plugin),Il=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fl=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o._updateMargin(t),o}return Il(t,e),t.prototype.update=function(t){var n=e.prototype.update.call(this,t);return n&&this._updateMargin(t),n},t.prototype._updateMargin=function(e){var t=e.attrs&&e.attrs.marginLeft||0;this.table.style.marginLeft=t?t+"px":""},t}(tt.TableView),ql=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jl=function(){return(jl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Bl=new _.PluginKey("tableColumnResizing"),Kl=null,Vl=!0,Ul=function(){function e(e,t,n){this.cellPos=e,this.draggingInfo=n,this.forMarginLeft=t}return e.prototype.apply=function(t){var n=this,r=t.getMeta(Bl);if(r&&"number"==typeof r.setCellPos)return new e(r.setCellPos,r.setForMarginLeft,null);if(r&&void 0!==r.setDraggingInfo)return new e(n.cellPos,n.forMarginLeft,r.setDraggingInfo);if(n.cellPos&&n.cellPos>-1&&t.docChanged){var o=t.mapping.map(n.cellPos,-1);Object(tt.pointsAtCell)(t.doc.resolve(o))||(o=null),n=new e(o,!!o&&n.forMarginLeft,n.draggingInfo)}return n},e}();function Hl(e,t){var n=Bl.getState(e.state);if(!n.draggingInfo){var r=function(e){for(;e&&"TD"!==e.nodeName&&"TH"!==e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentElement;return e}(t.target),o=!1,i=-1;if(r instanceof HTMLTableCellElement){var a=r.getBoundingClientRect(),s=a.left,l=a.right;t.clientX-s<=5?0===r.cellIndex?(o=!0,i=Zl(e,t,"right")):i=Zl(e,t,"left"):l-t.clientX<=5&&(i=Zl(e,t,"right"))}if(i!==n.cellPos||o!==n.forMarginLeft){if(-1!==i)if(!e.state.doc.resolve(i))return;Yl(e,i,o)}}}function Wl(e){var t=Bl.getState(e.state),n=t.cellPos,r=t.draggingInfo;n>-1&&!r&&Yl(e,-1,!1)}function Xl(e,t){Kl&&Kl(t);var n=Bl.getState(e.state);if(-1===n.cellPos||n.draggingInfo)return!1;var r=!1,o=null,i=function(t){window.removeEventListener("mouseup",i,!0),window.removeEventListener("mousemove",a,!0),r&&function(e,t){var n=Bl.getState(e.state),r=n.cellPos,o=n.draggingInfo;if(!o)return;for(var i=o.columnElements,a=o.tableElement,s=i.map((function(e){return parseFloat(e.style.width)})),l=e.state.doc.resolve(r),c=l.start(-1),u=l.node(-1),d=tt.TableMap.get(u),p=e.state.tr,f=0;f<d.height;f++)for(var h=0;h<s.length;h++){var m=f*d.width+h;if(!f||d.map[m]!=d.map[m-d.width]){var g=d.map[m],y=(_=u.nodeAt(g).attrs).colspan||1,v=s.slice(h,h+y);y>1&&(h+=y-1),_.colwidth&&tc(_.colwidth,v)||(p=p.setNodeMarkup(c+g,null,Object(tt.setAttr)(_,"colwidth",v)))}}var b=parseFloat(a.style.marginLeft)||null;if(u.attrs.marginLeft!==b){var w=u.type,_=jl(jl({},u.attrs),{marginLeft:b}),k=Object(Wr.findParentNodeOfTypeClosestToPos)(l,e.state.schema.nodes[w.name]),x=bn()(k&&k.pos);p=p.setNodeMarkup(x,w,_)}p.docChanged&&e.dispatch(p);e.dispatch(e.state.tr.setMeta(Bl,{setDraggingInfo:null}))}(e),Kl=null},a=function(t){t.which?(r||(!function(e,t){var n=Bl.getState(e.state);if(-1===n.cellPos||n.draggingInfo)return;e.dispatch(e.state.tr.setMeta(Bl,{setDraggingInfo:Jl(e,t,n)}))}(e,t),r=!0),(o=o||ec(Gl))(e,t)):i(t)};return Kl=i,window.addEventListener("mouseup",i,!0),window.addEventListener("mousemove",a,!0),t.preventDefault(),!0}function Gl(e,t){var n=Bl.getState(e.state),r=n.draggingInfo,o=n.forMarginLeft;if(r){var i=r.startX,a=r.columnWidths,s=r.taregtColumnIndex,l=r.columnElements,c=r.tableElement,u=r.tableMarginLeft,d=r.tableMarginRight,p=0,f=u,h=t.clientX-i,m=a.length-1,g=a.map((function(e,t){var n;return o?0===t?(n=Math.min(Math.max(30,e-h),e+u),f=Math.max(0,u+e-n)):n=e:n=t===s&&t===m?Math.min(e+d,Math.max(30,e+h)):t===s?Math.min(Math.max(30,e+h),e+(a[t+1]||0)-30):t===s+1?Math.min(Math.max(30,e-h),e+(a[t-1]||0)-30):e,p+=n,n})),y=c.style;y.marginLeft=f+"px",y.width=Math.round(p-f)+"px",y.minWidth="",l.forEach((function(e,t){e.style.width=Math.round(g[t])+"px"}))}}function Jl(e,t,n){var r=n.cellPos,o=n.forMarginLeft,i=e.domAtPos(r).node.closest("table"),a=i.closest(".tableWrapper"),s=i.querySelector("colgroup"),l=s?Array.from(s.querySelectorAll("col")):[],c=a.getBoundingClientRect(),u=i.getBoundingClientRect(),d=c.width/l.length,p=t.clientX,f=p-u.left,h=0,m=-1,g=i.style.marginLeft,y=g&&/\d+px/.test(g)?parseFloat(g):0,v=c.right-u.right,b=Array.from(l).map((function(e,t){var n=e.style.width,r=Math.max(30,n&&parseFloat(n)||d);h+r>c.width&&(r-=Math.abs(c.width-(h+r)));return f>=h+r-10&&f<=h+r+10&&-1===m&&(m=t),h+=r,r}));return o&&(m=0),m<0?null:{columnElements:l,taregtColumnIndex:m,columnWidths:b,startX:p,tableElement:i,tableMarginLeft:y,tableMarginRight:v,tableWidth:h,tableWrapperWidth:c.width}}function Zl(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY}).pos,o=Object(tt.cellAround)(e.state.doc.resolve(r));if(!o)return-1;if("right"==n)return o.pos;var i=tt.TableMap.get(o.node(-1)),a=o.start(-1),s=i.map.indexOf(o.pos-a);return s%i.width==0?-1:a+i.map[s-1]}function Yl(e,t,n){e.dispatch(e.state.tr.setMeta(Bl,{setCellPos:t,setForMarginLeft:n}))}function Ql(e,t){return Vl=t.editable,new Fl(e,30,t)}function ec(e){var t=null,n=0,r=0,o=null,i=function(){o&&t&&e(o,{target:t,clientX:n,clientY:r})};return function(e,a){t=a.target,n=a.clientX,r=a.clientY,o=e,requestAnimationFrame(i)}}function tc(e,t){return e.length===t.length&&!e.some((function(e,n){return t[n]!==e}))}var nc=function(e){function t(){return e.call(this,{key:Bl,state:{init:function(e,t){return this.spec.props.nodeViews[Object(tt.tableNodeTypes)(t.schema).table.name]=Ql,new Ul(-1,null)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){return Bl.getState(e).cellPos>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:ec(Hl),mouseleave:Wl,mousedown:Xl},decorations:function(e){var t=Bl.getState(e);return t.cellPos>-1&&Vl?function(e,t){if(!t.cellPos)return zt.b.create(e.doc,[]);for(var n=[],r=e.doc.resolve(t.cellPos),o=r.node(-1),i=tt.TableMap.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan,l=0;l<i.height;l++){var c=s+l*i.width-1;if(!(s!==i.width&&i.map[c]===i.map[c+1]||0!==l&&i.map[c-1]===i.map[c-1-i.width])){var u=i.map[c],d=a+u+o.nodeAt(u).nodeSize-1,p=document.createElement("div"),f="column-resize-handle";t.forMarginLeft&&(f+=" for-margin-left"),p.className=f,n.push(zt.a.widget(d,p))}}return zt.b.create(e.doc,n)}(e,t):void 0},nodeViews:{}}})||this}return ql(t,e),t}(_.Plugin),rc=[new Rl,new nc,Object(tt.tableEditing)()],oc=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,o){var i=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);i+=t[0].slice(a+t[1].length);var s=(r+=a)-o;s>0&&(i=t[0].slice(a-s,a)+i,r=o)}return e.tr.insertText(i,r,o)}):t};function ic(e,t,n,r,o,i){if(e.composing)return!1;var a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;for(var l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"￼")+r,c=0;c<o.length;c++){var u=o[c].match.exec(l),d=u&&o[c].handler(a,u,t-(u[0].length-r.length),n);if(d)return e.dispatch(d.setMeta(i,{transform:d,from:t,to:n,text:r})),!0}return!1}var ac=new oc(/--$/,"—"),sc=new oc(/\.\.\.$/,"…"),lc=[new oc(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new oc(/"$/,"”"),new oc(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new oc(/'$/,"’")];function cc(e,t,n,r){return new oc(e,(function(e,o,i,a){var s=n instanceof Function?n(o):n,l=e.tr.delete(i,a),c=l.doc.resolve(i).blockRange(),u=c&&Object(ut.j)(c,t,s);if(!u)return null;l.wrap(c,u);var d=l.doc.resolve(i-1).nodeBefore;return d&&d.type==t&&Object(ut.g)(l.doc,i-1)&&(!r||r(o,d))&&l.join(i-1),l}))}function uc(e,t,n){return new oc(e,(function(e,r,o,i){var a=e.doc.resolve(o),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,s):null}))}var dc=/^\s*>\s$/;function pc(e,t,n,r){var o=e.schema,i=e.tr;return o.nodes.blockquote?((i=_o(i,o)).docChanged&&(i=i.delete(n,r)),i):i}function fc(e){var t,n=lc.concat(sc,ac);return(t=e.nodes.blockquote)&&n.push(new oc(dc,pc)),(t=e.nodes.ordered_list)&&n.push(cc(/^(\d+)\.\s$/,t,(function(e){return{order:+e[1]}}),(function(e,t){return t.childCount+t.attrs.order==+e[1]}))),(t=e.nodes.bullet_list)&&n.push(function(e){return cc(/^\s*([-+*])\s$/,e)}(t)),(t=e.nodes.code_block)&&n.push(function(e){return uc(/^```$/,e)}(t)),(t=e.nodes.heading)&&n.push(function(e,t){return uc(new RegExp("^(#{1,"+t+"})\\s$"),e,(function(e){return{level:e[1].length}}))}(t,6)),function(e){var t=e.rules,n=new _.Plugin({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,o,i){return ic(e,r,o,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var r=e.state.selection.$cursor;r&&ic(e,r.pos,r.pos,"",t,n)}))}}},isInputRules:!0});return n}({rules:n})}function hc(e,t,n,r){return{description:e,windows:t,mac:n,common:r}}function mc(e,t){return hc(e,t.replace(/Mod/i,"Ctrl"),t.replace(/Mod/i,"Cmd"),t)}var gc=mc("","Backspace"),yc=mc("","Delete"),vc=(mc("Insert horizontal rule","Mod-Shift--"),mc("Insert new line","Shift-Enter"),mc("Insert new line in list item","Shift-Enter")),bc=mc("Redo","Mod-Shift-z"),wc=(hc("Normal text","Ctrl-0","Cmd-Alt-0"),mc("Shift Backspace","Shift-Backspace"),mc("Split code block","Enter"),mc("Split list item","Enter")),_c=mc("","Tab"),kc=mc("","Shift-Tab"),xc=(hc("Block quote","Ctrl-7","Cmd-Alt-7"),mc("Toggle bold","Mod-b")),Sc=(mc("Toggle bullet list","Mod-Shift-b"),hc("Code block","Ctrl-8","Cmd-Alt-8"),hc("Heading 1","Ctrl-1","Cmd-Alt-1"),hc("Heading 2","Ctrl-2","Cmd-Alt-2"),hc("Heading 3","Ctrl-3","Cmd-Alt-3"),hc("Heading 4","Ctrl-4","Cmd-Alt-4"),hc("Heading 5","Ctrl-5","Cmd-Alt-5"),hc("Heading 5","Ctrl-6","Cmd-Alt-6"),mc("Toggle italic","Mod-i")),Mc=(mc("Toggle monospace","Mod-Shift-m"),mc("Toggle ordered list","Mod-Shift-l"),mc("Toggle strikethrough","Mod-Shift-s"),mc("Toggle underline","Mod-u"),mc("Undo","Mod-z")),Cc=gc,zc=yc,Oc=vc,Ec=bc,Lc=wc,Ac=kc,Tc=_c,Nc=xc,Dc=Sc,Pc=Mc,$c=ts,Rc=ns,Ic=rs,Fc=cs,qc=us,jc=ps,Bc=fs,Kc=hs,Vc=ms,Uc=Ns,Hc=Ds,Wc=Us,Xc=bs;function Gc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n,r){return e.some((function(e){return!!e.isEnabled(t,r)&&(e.execute(t,n,r),!0)}))}}function Jc(e,t){return e.spec.key=new _.PluginKey(t+"Plugin"),e.key=e.spec.key.key,e}var Zc,Yc,Qc,eu=(Zc=ct,[new on,new hn,new yn,new zn,new Hr,new $n,Jc(fc(Zc),"InputRules"),Jc((void 0===Qc&&(Qc={}),new _.Plugin({view:function(e){return new Mt(e,Qc)}})),"DropCursor"),Jc(new _.Plugin({props:{decorations:Nt,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&Ot.valid(n))return new Ot(n)},handleClick:Tt,handleKeyDown:Lt}}),"GapCursor"),Jt(),Jc(Object(Ct.b)(((Yc={})[Cc.common]=Kc.execute,Yc[zc.common]=Bc.execute,Yc[Ec.common]=Rc.execute,Yc[Lc.common]=Vc.execute,Yc[Tc.common]=Gc(Uc,Wc,qc),Yc[Ac.common]=Gc(Hc,Wc,Fc),Yc[Nc.common]=Xc.execute,Yc[Dc.common]=$c.execute,Yc[Pc.common]=Ic.execute,Yc[Oc.common]=jc.execute,Yc)),"EditorKeyMap"),Jc(Object(Ct.b)(St),"BaseKeymap")].concat(rc));function tu(e,t,n){var r=t||ct,o=n||eu,i=e.querySelector("body"),a=z.DOMParser.fromSchema(r).parse(e,{preserveWhitespace:!0});return i&&(a.attrs=function(e){var t={layout:null,width:null,padding:null},n=e.style||{},r=n.width,o=n.maxWidth,i=n.padding,a=E(r)||E(o),s=E(i);if(a){var l=a+2*s,c=l/72;c>=11&&c<=11.5?t.layout=T:c>=7&&c<=9?t.layout=N:(t.width=l,s&&(t.padding=s))}return t}(i)),_.EditorState.create({doc:a,plugins:o})}var nu=/(P|H1|H2|H3|H4|H5|H6)/;function ru(e){var t=e.id;t&&0===e.childElementCount&&(e.setAttribute("data-bookmark-id",t),0!==e.id.indexOf("t.")&&e.setAttribute("data-bookmark-visible","true"));var n=e.nextElementSibling;n&&nu.test(n.nodeName)&&n.insertBefore(e,n.firstChild)}function ou(e){var t=e.ownerDocument,n=e.parentElement;if(t&&n){var r=e.parentElement&&e.parentElement.parentElement;if(r){var o=t.createElement("p");r.parentElement&&r.parentElement.replaceChild(o,r)}}}function iu(e){return e[0]+"-"+e[1].toLowerCase()}var au={};var su="p,h1,h2,h3,h4,h5,h6,li".replace(/\w+/g,(function(e){return e+"[style]"}));var lu=["backgroundColor","color","fontFamily","fontSize","fontStyle","fontWeight","textDecoration","textIndent"],cu=new Set(["A","B","EM","I","SPAN","STRONG","U"]);function uu(e){lu.forEach((function(t){return function(e,t){var n=e,r=n.style,o=r&&r[t];if("textIndent"===t&&o){var i=r.marginLeft||"";o!=="-"+i&&i!=="-"+o||(r.marginLeft="",r.textIndent="")}if(!o)return;r[t]="",Array.from(n.childNodes).forEach((function(e){var n=e.nodeType,r=e.style,i=e.nodeName,a=e.ownerDocument,s=e.parentElement;if(1===n){if(cu.has(i)){var l=function(e){if(au.hasOwnProperty(e))return au[e];var t=e.replace(/[a-z][A-Z]/g,iu);return au[e]=t,t}(t)+": "+o+";"+r.cssText;r.cssText=l}}else if(3===n&&a&&s){var c=a.createElement("span");c.style[t]=o,s.insertBefore(c,e),c.appendChild(e)}}))}(e,t)}))}var du=function(){function e(e){this._doc=e,this._htmls=new Map}return e.prototype.insertHTMLBefore=function(e,t){return this._insertHTML(e,"before",t)},e.prototype.insertHTMLAfter=function(e,t){return this._insertHTML(e,"after",t)},e.prototype.execute=function(){var e=this._doc,t=bn()(e.body||e.documentElement),n=t.innerHTML;this._htmls.forEach((function(e,t){n=n.replace(t,e)})),t.innerHTML=n},e.prototype._insertHTML=function(e,t,n){if(n.ownerDocument!==this._doc)throw new Error("element does not belong to the document");var r="​_HTMLMutator_token_"+b()+"_​",o=this._doc.createComment(r),i=bn()(n.parentElement);if("before"===t)i.insertBefore(o,n);else{if("after"!==t)throw new Error("Invalid position "+t);i.insertBefore(o,n.nextSibling)}return this._htmls.set("\x3c!--"+r+"--\x3e",e),this},e}(),pu=n(21),fu=n.n(pu),hu=/li:+before/,mu=/^[a-zA-Z]+\d*$/,gu=/:+[a-z]+/,yu=/\.title/;function vu(e){var t=Array.from(e.querySelectorAll("style"));if(t.length){var n=[];t.forEach((function(e){var t=e.sheet;if(t){var r=t.cssRules;r?Array.from(r).forEach((function(e,t){var r=String(e.selectorText||"");if(r)if(e.styleMap){var o="";e.styleMap.forEach((function(e,t){var n=String(e);if("color"===t){if(!ve(n))return}else if("background-color"===t){if(!ve(n))return}else"line-height"===t&&(n=J(n));n&&(o+=t+": "+n+";")})),r.indexOf(",")>-1?r.split(/\s*,\s*/).forEach((function(e){_u(n,e,o)})):_u(n,r,o)}else console.error("rule.styleMap undefined",e)})):console.error("sheet.cssRules undefined",t)}else console.error("styleEl.sheet undefined",e)})),fu()(n,wu).reduce(bu.bind(null,e),new Map).forEach(ku)}}function bu(e,t,n){var r=n.selectorText,o=n.cssText,i=n.beforeContent;return Array.from(e.querySelectorAll(r)).forEach((function(e){if(e.style&&e instanceof HTMLElement){if(o){var n=t.get(e)||[];n.push(o),t.set(e,n)}i&&e.setAttribute("data-attribute-css-before-content",i)}})),t}function wu(e,t){var n=mu.test(e.selectorText),r=mu.test(t.selectorText);return n&&!r?-1:!n&&r?1:(n=yu.test(e.selectorText),r=yu.test(t.selectorText),n&&!r?-1:!n&&r?1:0)}function _u(e,t,n){var r;if(hu.test(t))r=n.replace(/^content:\s*"\s*/,"").replace(/";*$/,""),t=t.replace(/:+before/,""),n="";else if(gu.test(t))return;e.push({selectorText:t,cssText:n,afterContent:void 0,beforeContent:r})}function ku(e,t){e.length&&(t.style.cssText=e.join(";")+";"+t.style.cssText)}function xu(e){!function(e){var t=Array.from(e.querySelectorAll("li > ol, li > ul")),n=new du(e);t.forEach((function(e){var t=function(e){var t=0,n=e.parentElement;for(;n;){var r=n.nodeName;if("OL"===r||"UL"===r)t++;else if("LI"!==r)break;n=n.parentElement}return t}(e);e.setAttribute("data-indent",String(t));var r=bn()(e.parentElement),o=bn()(r.parentElement),i=o.nodeName.toLowerCase(),a=o.lastElementChild===r,s=o.getAttribute("style")||"",l=o.getAttribute("name")||b();o.setAttribute("name",l),n.insertHTMLBefore("</"+i+">",e),n.insertHTMLAfter("<"+i+'\n          style="'+s+'"\n          class="'+o.className+'"\n          data-counter-reset="none"\n          data-following="'+l+'">',e),a&&n.insertHTMLAfter("\x3c!--",e).insertHTMLAfter("--\x3e",o)})),n.execute()}(e),Array.from(e.querySelectorAll("ol, ul")).forEach(Mu)}var Su=/^(#text)|(A|SPAN|B|STRONG)$/;function Mu(e){var t=void 0,n=void 0,r=e.parentElement,o=e.children;if(r&&"BODY"===r.nodeName&&r.firstChild===e){var i=r.ownerDocument.createTextNode("​");r.insertBefore(i,e)}if(Array.from(o).forEach((function(e){var r=e.style;!function(e){var t=e.style,n=e.childNodes,r=t.paddingTop,o=t.paddingBottom,i=t.lineHeight;if(!Z.has(o)&&!Z.has(r)&&!Z.has(i))return;var a=e.ownerDocument,s=a.createDocumentFragment(),l=!0;if(Array.from(n).forEach((function(e){l=l&&Su.test(e.nodeName),s.appendChild(e)})),l){var c=a.createElement("p");Object.assign(c.style,{lineHeight:i,paddingBottom:o,paddingTop:r}),c.appendChild(s),e.appendChild(c)}else e.appendChild(s)}(e);var o=e.getAttribute("data-attribute-css-before-content")||"";void 0===n&&(n=o),n!==o&&(n=null);var i=r&&r.marginLeft||"";void 0===t&&(t=i),i!==t&&(t=null)})),t){var a=re(t);a&&e.setAttribute("data-indent",String(a))}if(n){var s=void 0;switch(!0){case(n=String(n)).indexOf("●")>-1:s="disc";break;case n.indexOf("○")>-1:s="circle";break;case n.indexOf("■")>-1:s="square";break;case n.indexOf("❏")>-1:s="box";break;case n.indexOf("lower-latin")>-1:s="lower-latin";break;case n.indexOf("upper-latin")>-1:s="upper-latin";break;case n.indexOf("lower-roman")>-1:s="lower-roman";break;case n.indexOf("upper-roman")>-1:s="upper-roman";break;case n.indexOf("-")>-1:s="dash";break;default:console.log("unknown list style type",n)}s&&e.setAttribute("data-list-style-type",s)}}var Cu=n(22);function zu(e){var t=e.ownerDocument,n=e.parentElement;if(t&&n){var r=function(e){if(!e)return null;var t=pi.parse(e),n=t.host,r=t.pathname,o=t.query;if("www.google.com"!==n||"/chart"!==r)return null;var i=Cu.parse(o),a=i.cht,s=i.chl;if("tx"!==a||!s)return null;return s}(e.getAttribute("src"));if(r){var o=t.createElement("math");o.setAttribute("data-math",r),n.insertBefore(o,e),n.removeChild(e)}}}function Ou(e){var t=e.style.marginLeft;if(t){var n=re(t);n&&e.setAttribute("data-indent",String(n))}}var Eu={transparent:"",inherit:""};function Lu(e){if(!e)return"";if(e in Eu)return Eu[e];var t="";try{t=de()(e).hex().toLowerCase(),Eu[e]=t}catch(t){console.warn("unable to convert to hex",e),Eu[e]=""}return t}function Au(e){var t=e.style;if(t){var n=t.backgroundColor,r=t.width;if(n){var o=Lu(n);Array.from(e.querySelectorAll("span[style*=background-color]")).some((function(e){var t=e.style;t&&t.backgroundColor&&(Lu(t.backgroundColor)===o&&(t.backgroundColor=""))}))}if(r){var i=E(r);if(!i)return;var a=i*(1/.75292857);e.setAttribute("data-colwidth",String(Math.round(a)))}}}function Tu(e){var t=e.ownerDocument;if(t){var n=e.style.height;if(n){var r=e.querySelector("td, th");if(r){var o=E(n);if(o){var i=o-15.81149997*r.querySelectorAll("p").length;if(!(i<0)){var a=Math.round(i/15.81149997);if(!(a<=0)){for(var s=t.createDocumentFragment(),l=t.createElement("p");a>0;)a--,s.appendChild(l.cloneNode(!1));r.appendChild(s)}}}}}}}var Nu=/<body[\s>]/i,Du=/_+/g,Pu=/(\&nbsp;){6}/g,$u=new Array(6).join('<span data-spacer-size="tab"> </span>');function Ru(e){return e&&e.length>=20&&(e="<nobr>"+String(e)+"</nobr> "),e}function Iu(e){var t=null,n=Nu.test(e),r=function(e){return(new window.DOMParser).parseFromString(e,"text/html")}(e=(e=e.replace(Du,Ru)).replace(Pu,$u));if(r&&(vu(r),function(e){Array.from(e.querySelectorAll(su)).forEach(uu)}(r),function(e){Array.from(e.querySelectorAll("a[id]")).forEach(ru)}(r),function(e){Array.from(e.querySelectorAll("div > span:only-child > br:only-child")).forEach(ou)}(r),xu(r),function(e){Array.from(e.querySelectorAll("p")).forEach(Ou)}(r),function(e){Array.from(e.querySelectorAll("td")).forEach(Au),Array.from(e.querySelectorAll("tr[style^=height]")).forEach(Tu)}(r),function(e){Array.from(e.querySelectorAll("img")).forEach(zu)}(r),(t=r.getElementsByTagName("body")[0])&&n)){var o=r.createElement("html");return o.appendChild(t),o.innerHTML}return t?"<body>"+t.innerHTML+"</body>":"Unsupported HTML content"}var Fu=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function qu(e){return e.doc.toJSON()}var ju={type:"doc",content:[{type:"paragraph",content:[{type:"text",text:" "}]}]};function Bu(e,t){return function(e,t,n){var r,o,i=t||ct,a=eu;if(n)try{for(var s=Fu(n),l=s.next();!l.done;l=s.next()){var c=l.value;a.includes(c)||(a.push(c),c.getEffectiveSchema&&(i=c.getEffectiveSchema(i)))}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}var u=null;try{u=i.nodeFromJSON(e)}catch(e){return null}return _.EditorState.create({doc:u,schema:i,plugins:a})}(ju,e,t)}var Ku=n(23),Vu=n.n(Ku),Uu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hu=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.runtime=null,r.readOnly=!0,r.disabled=!0,r.placeholder=null,r}return Uu(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this._props={}},t}(zt.c),Wu=(new Map,new Map);var Xu=new(function(){function e(){this._implementation=null}return e.prototype.setImplementation=function(e){this._implementation=e},e.prototype.load=function(e){var t=this._implementation;t?t.load(e):console.warn("Method WebFontLoader.load does not have an implementation")},e}()),Gu=Object.freeze({from:0,to:0});function Ju(e){if(!window.getSelection)return console.warn("window.getSelection() is not supported"),Gu;var t=window.getSelection();if(!t.containsNode)return console.warn("selection.containsNode() is not supported"),Gu;if(!t.rangeCount)return Gu;var n=t.getRangeAt(0);if(!n)return Gu;var r=n.startContainer,o=n.endContainer,i=n.startOffset,a=n.endOffset;return r===e||o===e||r&&e.contains(r)||o&&e.contains(o)?{from:i,to:a}:Gu}var Zu=function(){function e(e){var t=this;this._observables=[],this._callback=null,this._onClick=function(){var e=t._callback;t._observables=t._observables.map((function(e){var t=e.target;return{target:t,selection:Ju(t)}})),e&&e(t.takeRecords(),t)},this._check=function(){var e=!1,n=t._callback;t._observables=t._observables.map((function(t){var n=t.target,r=t.selection,o=Ju(n);return r===o||r.from===o.from&&r.to===o.to?t:(e=!0,{target:n,selection:o})})),e&&n&&n(t.takeRecords(),t)},this._callback=e}return e.prototype.disconnect=function(){var e=this;this._observables.forEach((function(t){var n=t.target;n.removeEventListener("click",e._check,!1),n.removeEventListener("selectionchange",e._check,!1)})),this._observables=[]},e.prototype.observe=function(e){if(window.getSelection){if(!this._observables.some((function(t){return t.target===e}))){var t={target:e,selection:Ju(e)};e.addEventListener("click",this._check,!1),e.addEventListener("selectionchange",this._check,!1),this._observables.push(t)}}else console.warn("window.getSelection() is not supported")},e.prototype.takeRecords=function(){return this._observables.slice(0)},e}(),Yu=function(){return(Yu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qu=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ed=new Set,td=new Set;var nd=new Zu((function(e,t){var n,r;if(!window.getSelection)return console.warn("window.getSelection() is not supported"),void t.disconnect();var o=window.getSelection();if(!o.containsNode)return console.warn("selection.containsNode() is not supported"),void t.disconnect();try{for(var i=Qu(ed),a=i.next();!a.done;a=i.next()){var s=a.value,l=s.dom;o.containsNode(l)?s.selectNode():s.deselectNode()}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}0===ed.size&&t.disconnect()})),rd=new MutationObserver((function(e,t){var n,r,o,i,a=document.body;if(a){var l=[];try{for(var c=Qu(td),u=c.next();!u.done;u=c.next()){var d=(h=u.value).dom;a.contains(d)&&(td.delete(h),l.push(h),h.__renderReactComponent())}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}try{for(var p=Qu(ed),f=p.next();!f.done;f=p.next()){var h;d=(h=f.value).dom;a.contains(d)||(ed.delete(d),s.unmountComponentAtNode(d))}}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}l.forEach((function(e){return ed.add(e)})),0===ed.size&&t.disconnect()}})),od=function(){function e(e,t,n,r){this.props={decorations:r,editorView:t,getPos:n,node:e,selected:!1,focused:!1},td.add(this);var o=this.createDOMElement();this.dom=o,o.onClick=this._onClick,1===td.size&&(rd.observe(t.dom,{childList:!0,subtree:!0}),nd.observe(t.dom))}return e.prototype.update=function(e,t){return this.props=Yu(Yu({},this.props),{node:e}),this.__renderReactComponent(),!0},e.prototype.stopEvent=function(){return!1},e.prototype.selectNode=function(){this._selected=!0,this.dom.classList.add("ProseMirror-selectednode"),this.__renderReactComponent()},e.prototype.deselectNode=function(){this._selected=!1,this.dom.classList.remove("ProseMirror-selectednode"),this.__renderReactComponent()},e.prototype.createDOMElement=function(){throw new Error("not implemented")},e.prototype.renderReactComponent=function(){throw new Error("not implemented")},e.prototype.destroy=function(){},e.prototype.__renderReactComponent=function(){var e=this.props,t=e.editorView,n=e.getPos;if(t.state&&t.state.selection){var r=t.state.selection.from,o=n();this.props.selected=this._selected,this.props.focused=t.focused&&o===r}else this.props.selected=!1,this.props.focused=!1;s.render(this.renderReactComponent(),this.dom)},e}(),id=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ad=function(){return(ad=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},sd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=function(e){e.preventDefault();var n="#"+t.props.node.attrs.id;window.location.hash!==n&&(window.location.hash=n)},t}return id(t,e),t.prototype.render=function(){var e=this.props.node.attrs,t=e.id,n=e.visible,r=t&&n?Ml.get("bookmark"):null;return i.createElement("span",{onClick:this._onClick},r)},t}(i.Component),ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return id(t,e),t.prototype.createDOMElement=function(){var e=document.createElement("a");return e.className=w("bookmark-view"),this._updateDOM(e),e},t.prototype.update=function(t,n){return e.prototype.update.call(this,t,n),!0},t.prototype.renderReactComponent=function(){return i.createElement(sd,ad({},this.props))},t.prototype._updateDOM=function(e){var t=this.props.node.attrs,n=t.id,r=t.visible;e.setAttribute("id",n),e.setAttribute("title",n),e.setAttribute("data-bookmark-id",n),r&&e.setAttribute("data-bookmark-visible","true")},t}(od);var cd=w("editor-frame-body");function ud(e){return"number"==typeof e?e+"px":null==e?"auto":String(e)}function dd(e){return e.closest("."+cd)}var pd=function(e){var t,n,r,o,a=e.body,s=e.className,l=e.embedded,c=e.header,u=e.height,d=e.toolbarPlacement,p=e.toolbar,f=e.width,h=e.onBlur,m=e.fitToContent,g=i.useRef();r=g,o=i.useCallback((function(e){if(h){var t=e.target;t.closest&&!t.closest(w("pop-up-element",{format:"selector"}))&&h(e)}}),[h]),Object(i.useEffect)((function(){if(o){var e=function(e){r.current&&!r.current.contains(e.target)&&o(e)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[r,o]);var y=void 0!==f||void 0!==u,v="";v=m?Qn()(s,((t={})[w("editor-frameset")]=!0,t["with-fixed-layout"]=y,t.fitToContent=m,t)):Qn()(s,((n={})[w("editor-frameset")]=!0,n["with-fixed-layout"]=y,n.embedded=l,n));var b={width:ud(void 0===f&&y?"auto":f),height:ud(void 0===u&&y?"auto":u)},_="header"!==d&&d?null:p,k="body"===d&&p;return i.createElement("div",{className:v,ref:g,style:b},i.createElement("div",{className:w("editor-frame-main")},i.createElement("div",{className:w("editor-frame-head")},c,_),i.createElement("div",{className:cd},k,i.createElement("div",{className:w("editor-frame-body-scroll")},a)),i.createElement("div",{className:w("editor-frame-footer")})))},fd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hd={NONE:{value:null,text:"Inline"},LEFT:{value:"left",text:"Float left"},CENTER:{value:"center",text:"Break text"},RIGHT:{value:"right",text:"Float right"}},md=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=function(e){t.props.onSelect({align:e})},t}return fd(t,e),t.prototype.render=function(){var e=this.props.value?this.props.value.align:null,t=this._onClick,n=Object.keys(hd).map((function(n){var r=hd[n],o=r.value,a=r.text;return i.createElement(Nr,{active:e===o,key:n,label:a,onClick:t,value:o})}));return i.createElement("div",{className:w("inline-editor")},n)},t}(i.Component),gd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function yd(e,t,n){e.style.width=t+"px"}function vd(e,t,n){e.style.height=n+"px"}function bd(e,t,n){e.style.width=Math.round(t)+"px",e.style.height=Math.round(n)+"px"}var wd={top:vd,top_right:bd,right:yd,bottom_right:bd,bottom:vd,bottom_left:bd,left:yd,top_left:bd},_d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._active=!1,t._el=null,t._h="",t._rafID=0,t._w="",t._x1=0,t._x2=0,t._y1=0,t._y2=0,t._ww=0,t._hh=0,t._syncSize=function(){if(t._active){var e=t.props,n=e.direction,r=e.width,o=e.height,i=(t._x2-t._x1)*(/left/.test(n)?-1:1),a=(t._y2-t._y1)*(/top/.test(n)?-1:1),s=bn()(t._el),l=bn()(wd[n]),c=r/o,u=X(20,r+Math.round(i),1e4),d=X(20,o+Math.round(a),1e4);l===bd&&(u=(d=Math.max(u/c,20))*c),l(s,Math.round(u),Math.round(d)),t._ww=u,t._hh=d}},t._onMouseDown=function(e){e.preventDefault(),e.stopPropagation(),t._end(),t._start(e)},t._onMouseMove=function(e){e.preventDefault(),e.stopPropagation(),t._x2=e.clientX,t._y2=e.clientY,t._rafID=requestAnimationFrame(t._syncSize)},t._onMouseUp=function(e){e.preventDefault(),e.stopPropagation(),t._x2=e.clientX,t._y2=e.clientY;var n=t.props.direction;bn()(t._el).classList.remove(n),t._end(),t.props.onResizeEnd(t._ww,t._hh)},t}return gd(t,e),t.prototype.componentWillUnmount=function(){this._end()},t.prototype.render=function(){var e,t=this.props.direction,n=Qn()(((e={})[w("image-resize-box-control")]=!0,e[t]=!0,e));return i.createElement("span",{className:n,onMouseDown:this._onMouseDown})},t.prototype._start=function(e){this._active&&this._end(),this._active=!0;var t=this.props,n=t.boxID,r=t.direction,o=t.width,i=t.height,a=bn()(document.getElementById(n));a.className+=" "+r,this._el=a,this._x1=e.clientX,this._y1=e.clientY,this._x2=this._x1,this._y2=this._y1,this._w=this._el.style.width,this._h=this._el.style.height,this._ww=o,this._hh=i,document.addEventListener("mousemove",this._onMouseMove,!0),document.addEventListener("mouseup",this._onMouseUp,!0)},t.prototype._end=function(){if(this._active){this._active=!1,document.removeEventListener("mousemove",this._onMouseMove,!0),document.removeEventListener("mouseup",this._onMouseUp,!0);var e=bn()(this._el);e.style.width=this._w,e.style.height=this._h,e.className=w("image-resize-box"),this._el=null,this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=null}},t}(i.Component),kd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._id=b(),t}return gd(t,e),t.prototype.render=function(){var e=this.props,t=e.onResizeEnd,n=e.width,r=e.height,o=e.src,a={height:r+"px",width:n+"px"},s=this._id,l=Object.keys(wd).map((function(e){return i.createElement(_d,{boxID:s,config:wd[e],direction:e,height:r,key:e,onResizeEnd:t,width:n})}));return i.createElement("span",{className:w("image-resize-box"),id:s,style:a},l,i.createElement("img",{className:w("image-resize-box-image"),src:o}))},t}(i.Component),xd=n(24),Sd=null,Md=new Map;function Cd(e){e.forEach(zd)}function zd(e){var t=e.target,n=Md.get(t);n&&n.forEach((function(t){return t(e)}))}var Od={observe:function(e,t){var n=e,r=Sd||(Sd=new xd.a(Cd));if(Md.has(n)){(o=bn()(Md.get(n))).push(t)}else{var o=[t];Md.set(n,o),r.observe(n)}},unobserve:function(e,t){var n=Sd;if(n){var r=e;if(n.unobserve(r),t){var o=Md.has(r)?bn()(Md.get(r)).filter((function(e){return e!==t})):null;o&&o.length?Md.set(r,o):Md.delete(r)}else Md.delete(r);Md.size||(n.disconnect(),Sd=null)}}},Ed=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ld=function(){return(Ld=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ad=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Td=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Nd={src:"",complete:!1,height:0,width:0};function Dd(e){for(var t=e.parentElement;t&&!t.offsetParent;)t=t.parentElement;if(t&&t.offsetParent&&t.offsetParent.offsetWidth&&t.offsetParent.offsetWidth>0){var n=t.offsetParent,r=e.ownerDocument.defaultView.getComputedStyle(n),o=n.clientWidth-4;if("border-box"===r.boxSizing)o-=parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10);return Math.max(o,20)}return 1e5}var Pd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._body=null,t._id=b(),t._inlineEditor=null,t._mounted=!1,t.state={maxSize:{width:1e5,height:1e5,complete:!1},originalSize:Nd},t._onKeyDown=function(e){console.log(e.keyCode)},t._onResizeEnd=function(e,n){var r=t.props,o=r.getPos,i=r.node,a=r.editorView,s=o(),l=Ld(Ld({},i.attrs),{crop:null,width:e,height:n}),c=a.state.tr,u=a.state.selection;c=c.setNodeMarkup(s,null,l);var d=_.NodeSelection.create(c.doc,u.from);c=c.setSelection(d),a.dispatch(c)},t._onChange=function(e){if(t._mounted){var n=e?e.align:null,r=t.props,o=r.getPos,i=r.node,a=r.editorView,s=o(),l=Ld(Ld({},i.attrs),{align:n}),c=a.state.tr,u=a.state.selection;c=c.setNodeMarkup(s,null,l);var d=_.NodeSelection.create(c.doc,u.from);c=c.setSelection(d),a.dispatch(c)}},t._onBodyRef=function(e){var n;e?(t._body=e,(n=s.findDOMNode(e))instanceof HTMLElement&&Od.observe(n,t._onBodyResize)):((n=t._body&&s.findDOMNode(t._body))instanceof HTMLElement&&Od.unobserve(n),t._body=null)},t._onBodyResize=function(e){var n=t._body?Dd(s.findDOMNode(t._body)):1e5;t.setState({maxSize:{width:n,height:1e5,complete:!!t._body}})},t}return Ed(t,e),t.prototype.componentDidMount=function(){this._mounted=!0,this._resolveOriginalSize(),this._renderInlineEditor()},t.prototype.componentWillUnmount=function(){this._mounted=!1,this._inlineEditor&&this._inlineEditor.close(),this._inlineEditor=null},t.prototype.componentDidUpdate=function(e){e.node.attrs.src!==this.props.node.attrs.src&&this._resolveOriginalSize(),this._renderInlineEditor()},t.prototype.render=function(){var e=this.state,t=e.originalSize,n=e.maxSize,r=this.props,o=r.editorView,a=r.node,s=r.selected,l=r.focused,c=o.readOnly,u=a.attrs,d=u.align,p=u.crop,f=u.rotate,h=t===Nd,m=!h&&l&&!c&&t.complete,g=t.complete?t.src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",y=h?1:t.width/t.height,v=!h&&!t.complete,b=u.width,_=u.height;h&&(b=b||24,_=_||24),b&&!_?_=b/y:_&&!b?b=_*y:b||_||(b=t.width,_=t.height);var k=1;b>n.width&&(!p||p.width>n.width)&&(_=(b=n.width)/y,k=n.width/b);var x=Qn()(w("image-view-body"),{active:m,error:v,focused:l,loading:h,selected:s}),S=!m||p||f?null:i.createElement(kd,{height:_,onResizeEnd:this._onResizeEnd,src:g,width:b}),M={display:"inline-block",height:_+"px",left:"0",top:"0",width:b+"px",position:"relative"},C={};if(p){var z=Ld({},p);1!==k&&(k=n.width/z.width,z.width*=k,z.height*=k,z.left*=k,z.top*=k),C.width=z.width+"px",C.height=z.height+"px",M.left=z.left+"px",M.top=z.top+"px"}f&&(C.transform="rotate("+f+"rad)");var O=v?Ml.get("error"):null,E=v?"Unable to load image from "+(u.src||""):void 0;return i.createElement("span",{className:x,"data-active":m?"true":void 0,"data-original-src":String(u.src),id:this._id,onKeyDown:this._onKeyDown,ref:this._onBodyRef,title:E},i.createElement("span",{className:w("image-view-body-img-clip"),style:C},i.createElement("span",{style:M},i.createElement("img",{alt:"",className:w("image-view-body-img"),"data-align":d,height:_,id:this._id+"-img",src:g,width:b}),O)),S)},t.prototype._renderInlineEditor=function(){var e=this,t=document.getElementById(this._id);if(t&&"true"===t.getAttribute("data-active")){var n={value:this.props.node.attrs,onSelect:this._onChange};this._inlineEditor?this._inlineEditor.update(n):this._inlineEditor=Cr(md,n,{anchor:t,autoDismiss:!1,container:t.closest("."+cd),position:pr,onClose:function(){e._inlineEditor=null}})}else this._inlineEditor&&this._inlineEditor.close()},t.prototype._resolveOriginalSize=function(){return Ad(this,void 0,Promise,(function(){var e,t;return Td(this,(function(n){switch(n.label){case 0:return this._mounted?(this.setState({originalSize:Nd}),e=this.props.node.attrs.src,[4,gi(function(e,t){if(!e)return t;var n=e.canProxyImageSrc,r=e.getProxyImageSrc;return t&&n&&r&&n(t)?r(t):t}(this.props.editorView.runtime,e))]):[2];case 1:return t=n.sent(),this._mounted&&this.props.node.attrs.src===e&&this.setState({originalSize:t}),[2]}}))}))},t}(i.Component),$d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ed(t,e),t.prototype.createDOMElement=function(){var e=document.createElement("span");return e.className=w("image-view"),this._updateDOM(e),e},t.prototype.update=function(t,n){return e.prototype.update.call(this,t,n),this._updateDOM(this.dom),!0},t.prototype.renderReactComponent=function(){return i.createElement(Pd,Ld({},this.props))},t.prototype._updateDOM=function(e){var t=this.props.node.attrs.align,n=w("image-view");t&&(n+=" align-"+t),e.className=n},t}(od),Rd=function(){function e(e,t,n,r){var o=document.createElement("li");this.dom=o,this.contentDOM=o,this._updateDOM(e)}return e.prototype.update=function(e,t){return this._updateDOM(e)},e.prototype._updateDOM=function(e){if(this._nodeUpdated===e)return!1;this._nodeUpdated=e;var t,n,r=this.dom,o=e.firstChild,i=o?o.firstChild:null,a=i&&i.isText&&i.textContent?i.marks:null,s="";Array.isArray(a)&&a.forEach((function(e){var r=e.attrs;switch(e.type.name){case"mark-text-color":t=r.color;break;case"mark-font-size":n=r.pt}})),t&&(s+=w("list-style-color: "+t+";",{format:"cssVar"})),n&&(s+=w("list-style-font-size: "+n+"pt;",{format:"cssVar"})),r.style.cssText=s;var l=e.attrs.align;return l?r.setAttribute("data-align",l):r.removeAttribute("data-align"),!0},e}();function Id(e){return Array.isArray(e)}var Fd={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],184:[.17014,0,0,0],198:[0,.68611,0,0],215:[.13333,.63333,0,0],216:[.04861,.73472,0,0],223:[0,.69444,0,0],230:[0,.44444,0,0],247:[.13333,.63333,0,0],248:[.09722,.54167,0,0],305:[0,.44444,0,0],338:[0,.68611,0,0],339:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],733:[0,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0],57376:[.19444,.69444,0,0]},"Main-BoldItalic":{33:[0,.69444,.11417,0],34:[0,.69444,.07939,0],35:[.19444,.69444,.06833,0],37:[.05556,.75,.12861,0],38:[0,.69444,.08528,0],39:[0,.69444,.12945,0],40:[.25,.75,.15806,0],41:[.25,.75,.03306,0],42:[0,.75,.14333,0],43:[.10333,.60333,.03306,0],44:[.19444,.14722,0,0],45:[0,.44444,.02611,0],46:[0,.14722,0,0],47:[.25,.75,.15806,0],48:[0,.64444,.13167,0],49:[0,.64444,.13167,0],50:[0,.64444,.13167,0],51:[0,.64444,.13167,0],52:[.19444,.64444,.13167,0],53:[0,.64444,.13167,0],54:[0,.64444,.13167,0],55:[.19444,.64444,.13167,0],56:[0,.64444,.13167,0],57:[0,.64444,.13167,0],58:[0,.44444,.06695,0],59:[.19444,.44444,.06695,0],61:[-.10889,.39111,.06833,0],63:[0,.69444,.11472,0],64:[0,.69444,.09208,0],65:[0,.68611,0,0],66:[0,.68611,.0992,0],67:[0,.68611,.14208,0],68:[0,.68611,.09062,0],69:[0,.68611,.11431,0],70:[0,.68611,.12903,0],71:[0,.68611,.07347,0],72:[0,.68611,.17208,0],73:[0,.68611,.15681,0],74:[0,.68611,.145,0],75:[0,.68611,.14208,0],76:[0,.68611,0,0],77:[0,.68611,.17208,0],78:[0,.68611,.17208,0],79:[0,.68611,.09062,0],80:[0,.68611,.0992,0],81:[.19444,.68611,.09062,0],82:[0,.68611,.02559,0],83:[0,.68611,.11264,0],84:[0,.68611,.12903,0],85:[0,.68611,.17208,0],86:[0,.68611,.18625,0],87:[0,.68611,.18625,0],88:[0,.68611,.15681,0],89:[0,.68611,.19803,0],90:[0,.68611,.14208,0],91:[.25,.75,.1875,0],93:[.25,.75,.09972,0],94:[0,.69444,.06709,0],95:[.31,.13444,.09811,0],97:[0,.44444,.09426,0],98:[0,.69444,.07861,0],99:[0,.44444,.05222,0],100:[0,.69444,.10861,0],101:[0,.44444,.085,0],102:[.19444,.69444,.21778,0],103:[.19444,.44444,.105,0],104:[0,.69444,.09426,0],105:[0,.69326,.11387,0],106:[.19444,.69326,.1672,0],107:[0,.69444,.11111,0],108:[0,.69444,.10861,0],109:[0,.44444,.09426,0],110:[0,.44444,.09426,0],111:[0,.44444,.07861,0],112:[.19444,.44444,.07861,0],113:[.19444,.44444,.105,0],114:[0,.44444,.11111,0],115:[0,.44444,.08167,0],116:[0,.63492,.09639,0],117:[0,.44444,.09426,0],118:[0,.44444,.11111,0],119:[0,.44444,.11111,0],120:[0,.44444,.12583,0],121:[.19444,.44444,.105,0],122:[0,.44444,.13889,0],126:[.35,.34444,.11472,0],163:[0,.69444,0,0],168:[0,.69444,.11473,0],176:[0,.69444,0,0],184:[.17014,0,0,0],198:[0,.68611,.11431,0],216:[.04861,.73472,.09062,0],223:[.19444,.69444,.09736,0],230:[0,.44444,.085,0],248:[.09722,.54167,.09458,0],305:[0,.44444,.09426,0],338:[0,.68611,.11431,0],339:[0,.44444,.085,0],567:[.19444,.44444,.04611,0],710:[0,.69444,.06709,0],711:[0,.63194,.08271,0],713:[0,.59444,.10444,0],714:[0,.69444,.08528,0],715:[0,.69444,0,0],728:[0,.69444,.10333,0],729:[0,.69444,.12945,0],730:[0,.69444,0,0],732:[0,.69444,.11472,0],733:[0,.69444,.11472,0],915:[0,.68611,.12903,0],916:[0,.68611,0,0],920:[0,.68611,.09062,0],923:[0,.68611,0,0],926:[0,.68611,.15092,0],928:[0,.68611,.17208,0],931:[0,.68611,.11431,0],933:[0,.68611,.10778,0],934:[0,.68611,.05632,0],936:[0,.68611,.10778,0],937:[0,.68611,.0992,0],8211:[0,.44444,.09811,0],8212:[0,.44444,.09811,0],8216:[0,.69444,.12945,0],8217:[0,.69444,.12945,0],8220:[0,.69444,.16772,0],8221:[0,.69444,.07939,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],168:[0,.66786,.10474,0],176:[0,.69444,0,0],184:[.17014,0,0,0],198:[0,.68333,.12028,0],216:[.04861,.73194,.09403,0],223:[.19444,.69444,.10514,0],230:[0,.43056,.07514,0],248:[.09722,.52778,.09194,0],305:[0,.43056,0,.02778],338:[0,.68333,.12028,0],339:[0,.43056,.07514,0],567:[.19444,.43056,0,.08334],710:[0,.69444,.06646,0],711:[0,.62847,.08295,0],713:[0,.56167,.10333,0],714:[0,.69444,.09694,0],715:[0,.69444,0,0],728:[0,.69444,.10806,0],729:[0,.66786,.11752,0],730:[0,.69444,0,0],732:[0,.66786,.11585,0],733:[0,.69444,.1225,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],167:[.19444,.69444,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],182:[.19444,.69444,0,0],184:[.17014,0,0,0],198:[0,.68333,0,0],215:[.08333,.58333,0,0],216:[.04861,.73194,0,0],223:[0,.69444,0,0],230:[0,.43056,0,0],247:[.08333,.58333,0,0],248:[.09722,.52778,0,0],305:[0,.43056,0,0],338:[0,.68333,0,0],339:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],733:[0,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0],57376:[.19444,.69444,0,0]},"Math-BoldItalic":{65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.11667,.61667,0,0],44:[.10556,.13056,0,0],45:[0,.45833,0,0],46:[0,.13056,0,0],47:[.25,.75,0,0],48:[0,.69444,0,0],49:[0,.69444,0,0],50:[0,.69444,0,0],51:[0,.69444,0,0],52:[0,.69444,0,0],53:[0,.69444,0,0],54:[0,.69444,0,0],55:[0,.69444,0,0],56:[0,.69444,0,0],57:[0,.69444,0,0],58:[0,.45833,0,0],59:[.10556,.45833,0,0],61:[-.09375,.40625,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.10556,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01528,0],87:[0,.69444,.01528,0],88:[0,.69444,0,0],89:[0,.69444,.0275,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.10833,.03056,0],97:[0,.45833,0,0],98:[0,.69444,0,0],99:[0,.45833,0,0],100:[0,.69444,0,0],101:[0,.45833,0,0],102:[0,.69444,.07639,0],103:[.19444,.45833,.01528,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.45833,0,0],110:[0,.45833,0,0],111:[0,.45833,0,0],112:[.19444,.45833,0,0],113:[.19444,.45833,0,0],114:[0,.45833,.01528,0],115:[0,.45833,0,0],116:[0,.58929,0,0],117:[0,.45833,0,0],118:[0,.45833,.01528,0],119:[0,.45833,.01528,0],120:[0,.45833,0,0],121:[.19444,.45833,.01528,0],122:[0,.45833,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],176:[0,.69444,0,0],180:[0,.69444,0,0],184:[.17014,0,0,0],305:[0,.45833,0,0],567:[.19444,.45833,0,0],710:[0,.69444,0,0],711:[0,.63542,0,0],713:[0,.63778,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],733:[0,.69444,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.45833,.03056,0],8212:[0,.45833,.03056,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"SansSerif-Italic":{33:[0,.69444,.05733,0],34:[0,.69444,.00316,0],35:[.19444,.69444,.05087,0],36:[.05556,.75,.11156,0],37:[.05556,.75,.03126,0],38:[0,.69444,.03058,0],39:[0,.69444,.07816,0],40:[.25,.75,.13164,0],41:[.25,.75,.02536,0],42:[0,.75,.11775,0],43:[.08333,.58333,.02536,0],44:[.125,.08333,0,0],45:[0,.44444,.01946,0],46:[0,.08333,0,0],47:[.25,.75,.13164,0],48:[0,.65556,.11156,0],49:[0,.65556,.11156,0],50:[0,.65556,.11156,0],51:[0,.65556,.11156,0],52:[0,.65556,.11156,0],53:[0,.65556,.11156,0],54:[0,.65556,.11156,0],55:[0,.65556,.11156,0],56:[0,.65556,.11156,0],57:[0,.65556,.11156,0],58:[0,.44444,.02502,0],59:[.125,.44444,.02502,0],61:[-.13,.37,.05087,0],63:[0,.69444,.11809,0],64:[0,.69444,.07555,0],65:[0,.69444,0,0],66:[0,.69444,.08293,0],67:[0,.69444,.11983,0],68:[0,.69444,.07555,0],69:[0,.69444,.11983,0],70:[0,.69444,.13372,0],71:[0,.69444,.11983,0],72:[0,.69444,.08094,0],73:[0,.69444,.13372,0],74:[0,.69444,.08094,0],75:[0,.69444,.11983,0],76:[0,.69444,0,0],77:[0,.69444,.08094,0],78:[0,.69444,.08094,0],79:[0,.69444,.07555,0],80:[0,.69444,.08293,0],81:[.125,.69444,.07555,0],82:[0,.69444,.08293,0],83:[0,.69444,.09205,0],84:[0,.69444,.13372,0],85:[0,.69444,.08094,0],86:[0,.69444,.1615,0],87:[0,.69444,.1615,0],88:[0,.69444,.13372,0],89:[0,.69444,.17261,0],90:[0,.69444,.11983,0],91:[.25,.75,.15942,0],93:[.25,.75,.08719,0],94:[0,.69444,.0799,0],95:[.35,.09444,.08616,0],97:[0,.44444,.00981,0],98:[0,.69444,.03057,0],99:[0,.44444,.08336,0],100:[0,.69444,.09483,0],101:[0,.44444,.06778,0],102:[0,.69444,.21705,0],103:[.19444,.44444,.10836,0],104:[0,.69444,.01778,0],105:[0,.67937,.09718,0],106:[.19444,.67937,.09162,0],107:[0,.69444,.08336,0],108:[0,.69444,.09483,0],109:[0,.44444,.01778,0],110:[0,.44444,.01778,0],111:[0,.44444,.06613,0],112:[.19444,.44444,.0389,0],113:[.19444,.44444,.04169,0],114:[0,.44444,.10836,0],115:[0,.44444,.0778,0],116:[0,.57143,.07225,0],117:[0,.44444,.04169,0],118:[0,.44444,.10836,0],119:[0,.44444,.10836,0],120:[0,.44444,.09169,0],121:[.19444,.44444,.10836,0],122:[0,.44444,.08752,0],126:[.35,.32659,.08826,0],168:[0,.67937,.06385,0],176:[0,.69444,0,0],184:[.17014,0,0,0],305:[0,.44444,.04169,0],567:[.19444,.44444,.04169,0],710:[0,.69444,.0799,0],711:[0,.63194,.08432,0],713:[0,.60889,.08776,0],714:[0,.69444,.09205,0],715:[0,.69444,0,0],728:[0,.69444,.09483,0],729:[0,.67937,.07774,0],730:[0,.69444,0,0],732:[0,.67659,.08826,0],733:[0,.69444,.09205,0],915:[0,.69444,.13372,0],916:[0,.69444,0,0],920:[0,.69444,.07555,0],923:[0,.69444,0,0],926:[0,.69444,.12816,0],928:[0,.69444,.08094,0],931:[0,.69444,.11983,0],933:[0,.69444,.09031,0],934:[0,.69444,.04603,0],936:[0,.69444,.09031,0],937:[0,.69444,.08293,0],8211:[0,.44444,.08616,0],8212:[0,.44444,.08616,0],8216:[0,.69444,.07816,0],8217:[0,.69444,.07816,0],8220:[0,.69444,.14205,0],8221:[0,.69444,.00316,0]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],168:[0,.67937,0,0],176:[0,.69444,0,0],184:[.17014,0,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.60889,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.67937,0,0],730:[0,.69444,0,0],732:[0,.67659,0,0],733:[0,.69444,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-99e-5,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{32:[0,0,0,0],33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],160:[0,0,0,0],176:[0,.61111,0,0],184:[.19445,0,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],711:[0,.56597,0,0],713:[0,.56555,0,0],714:[0,.61111,0,0],715:[0,.61111,0,0],728:[0,.61111,0,0],730:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],776:[0,.61111,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],8216:[0,.61111,0,0],8217:[0,.61111,0,0],8242:[0,.61111,0,0],9251:[.11111,.21944,0,0]}};const qd=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,jd={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25]},Bd={defaultRuleThickness:.04,bigOpSpacing1:.111,bigOpSpacing2:.166,bigOpSpacing3:.2,bigOpSpacing4:.6,bigOpSpacing5:.1,ptPerEm:10,pxPerEm:40/3,doubleRuleSep:.2,arraycolsep:.5,baselineskip:1.2,arrayrulewidth:.04,fboxsep:.3,fboxrule:.04},Kd={" ":" ","​":" ","Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function Vd(e,t){console.assert(Fd[t],'Unknown font "'+t+'"');let n=e.charCodeAt(0);if(e[0]in Kd)n=Kd[e[0]].charCodeAt(0);else if(qd.test(e[0]))return n=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0};const r=Fd[t][n];return r?{defaultMetrics:!1,depth:r[0],height:r[1],italic:r[2],skew:r[3]}:11034===n?{defaultMetrics:!0,depth:0,height:1,italic:0,skew:0}:{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0}}function Ud(e,t,n=NaN){if("string"==typeof e){const n=e.match(/([-+]?[0-9.]*)\s*([a-zA-Z]+)/);n?(e=parseFloat(n[1]),t=n[2].toLowerCase()):e=parseFloat(e)}const r={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:Bd.ptPerEm,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[t]||1;if(isFinite(n)){const t=Math.pow(10,n);return Math.round(e/Bd.ptPerEm*r*t)/t}return e/Bd.ptPerEm*r}function Hd(e,t){return Ud(e,t)*(4/3)*Bd.ptPerEm}class Wd{constructor(e,t,n,r){this.id=e,this.size=t,this.cramped=r,this.sizeMultiplier=n,this.metrics=Object.keys(jd).reduce((e,t)=>({...e,[t]:jd[t][this.size]}),{}),this.metrics.emPerEx=jd.xHeight[this.size]/jd.quad[this.size]}sup(){return Xd[[4,5,4,5,6,7,6,7][this.id]]}sub(){return Xd[[5,5,5,5,7,7,7,7][this.id]]}fracNum(){return Xd[[2,3,4,5,6,7,6,7][this.id]]}fracDen(){return Xd[[3,3,5,5,7,7,7,7][this.id]]}cramp(){return Xd[[1,1,3,3,5,5,7,7][this.id]]}cls(){return["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"][this.size]}adjustTo(e){let t=[["","","reset-textstyle scriptstyle","reset-textstyle scriptscriptstyle"],["reset-textstyle displaystyle textstyle","","reset-textstyle scriptstyle","reset-textstyle scriptscriptstyle"],["reset-scriptstyle textstyle displaystyle","reset-scriptstyle textstyle","","reset-scriptstyle scriptscriptstyle"],["reset-scriptscriptstyle textstyle displaystyle","reset-scriptscriptstyle textstyle","reset-scriptscriptstyle scriptstyle",""]][this.size][e.size];return t.length>0&&(t=" "+t),t}isTight(){return this.size>=2}}const Xd={0:new Wd(0,0,1,!1),1:new Wd(1,0,1,!0),2:new Wd(2,1,1,!1),3:new Wd(3,1,1,!0),4:new Wd(4,2,.7,!1),5:new Wd(5,2,.7,!0),6:new Wd(6,3,.5,!1),7:new Wd(7,3,.5,!0)};Xd.displaystyle=Xd[0],Xd.textstyle=Xd[2],Xd.scriptstyle=Xd[4],Xd.scriptscriptstyle=Xd[6];class Gd{constructor(e){var t,n,r,o,i,a;this.macros=null!==(t=e.macros)&&void 0!==t?t:{},this.atomIdsSettings=e.atomIdsSettings,this.mathstyle=null!==(n=e.mathstyle)&&void 0!==n?n:Xd.displaystyle,this.letterShapeStyle=null!==(r=e.letterShapeStyle)&&void 0!==r?r:"tex",this.size=null!==(o=e.size)&&void 0!==o?o:"size5",this.parentMathstyle=null!==(i=e.parentMathstyle)&&void 0!==i?i:this.mathstyle,this.parentSize=null!==(a=e.parentSize)&&void 0!==a?a:this.size,this.opacity=e.opacity,this.smartFence=e.smartFence}clone(e={}){const t=new Gd(this);return void 0!==e&&(Object.assign(t,e),e.mathstyle?(t.parentMathstyle=this.mathstyle,t.parentSize=this.size,"string"==typeof e.mathstyle&&(t.mathstyle=Xd[e.mathstyle])):t.mathstyle=this.mathstyle),t}setMathstyle(e){e&&"auto"!==e&&(this.mathstyle=Xd[e])}cramp(){return this.clone({mathstyle:this.mathstyle.cramp()})}sup(){return this.clone({mathstyle:this.mathstyle.sup()})}sub(){return this.clone({mathstyle:this.mathstyle.sub()})}}const Jd={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Zd={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34]},Yd={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",widetilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",widetilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",widetilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",widetilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};function Qd(e,t){const n=[];let r,o=[];return e.forEach(e=>{if("first"!==e.type){let i;"variant"===t?(i=e.variant,e.variantStyle&&"up"!==e.variantStyle&&(i+="-"+e.variantStyle)):i=e[t],i!==r?(o.length>0&&n.push(o),o=[e],r=i):o.push(e)}}),o.length>0&&n.push(o),n}const ep={};function tp(e,t){ep[e]={...t}}const np=["","mord","mbin","mop","mrel","mopen","mclose","mpunct","minner","spacing","first","command","composition","error","placeholder","textord","none"];function rp(e){return np.includes(e)}const op={"mord+mop":3,"mord+mbin":4,"mord+mrel":5,"mord+minner":3,"mop+mord":3,"mop+mop":3,"mop+mbin":5,"mop+minner":3,"mbin+mord":4,"mbin+mop":4,"mbin+mopen":4,"mbin+minner":4,"mrel+mord":5,"mrel+mop":5,"mrel+mopen":5,"mrel+minner":5,"mclose+mop":3,"mclose+mbin":4,"mclose+mrel":5,"mclose+minner":3,"mpunct+mord":3,"mpunct+mop":3,"mpunct+mbin":4,"mpunct+mrel":5,"mpunct+mopen":3,"mpunct+mpunct":3,"mpunct+minner":3},ip={"mord+mop":3,"mop+mord":3,"mop+mop":3,"mclose+mop":3,"minner+mop":3};function ap(e){if("string"==typeof e)return e;if("number"==typeof e)return Number(Math.ceil(100*e)/100).toString();if(void 0===e)return"";if(Id(e)){let t="";for(const n of e)t+=ap(n);return t}return console.error("Span.toStringUnexpected argument type"),""}class sp{constructor(e,t="",n=""){this.classes=t,Id(e)?this.children=[].concat(...e):"string"==typeof e?this.body=e:e&&"object"==typeof e&&(this.children=[e]),this.type=n,this.style=null,this.updateDimensions()}updateDimensions(){let e=0,t=0,n=1;this.children?this.children.forEach(r=>{r.height>e&&(e=r.height),r.depth>t&&(t=r.depth),r.maxFontSize>n&&(n=r.maxFontSize)}):"string"==typeof this.body&&(e=Bd.baselineskip,t=0),this.height=e,this.depth=t,this.maxFontSize=n}selected(e){e&&!/ML__selected/.test(this.classes)&&(this.classes.length>0&&(this.classes+=" "),this.classes+="ML__selected"),!e&&/ML__selected/.test(this.classes)&&(this.classes=this.classes.replace("ML__selected","")),this.children&&this.children.forEach(t=>t.selected(e))}applyStyle(e){if(!e)return;if(e.color&&("none"!==e.color?this.setStyle("color",e.color):this.setStyle("color","")),e.backgroundColor&&("none"!==e.backgroundColor?this.setStyle("background-color",e.backgroundColor):this.setStyle("background-color","")),e.cssClass&&(this.classes+=" "+e.cssClass),!this.body)return;console.assert("string"==typeof this.body);const t=function(e,t){var n;return(null===(n=ep[t.mode])||void 0===n?void 0:n.applyStyle)?ep[t.mode].applyStyle(e,t):""}(this,e);if(this.body&&t){this.maxFontSize={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49}[e.fontSize]||1,this.height=0,this.depth=0,this.skew=0,this.italic=0;for(let e=0;e<this.body.length;e++){const n=Vd(this.body.charAt(e),t);n&&(this.height=Math.max(this.height,n.height),this.depth=Math.max(this.depth,n.depth),this.skew=n.skew,this.italic=n.italic)}}}setStyle(e,...t){const n=ap(t);n.length>0&&(this.style||(this.style={}),this.style[e]=n)}setTop(e){e&&0!==e&&(this.style||(this.style={}),this.style.top=ap(e)+"em",this.height-=e,this.depth+=e)}setLeft(e){e&&0!==e&&(this.style||(this.style={}),this.style["margin-left"]=ap(e)+"em")}setRight(e){e&&0!==e&&(this.style||(this.style={}),this.style["margin-right"]=ap(e)+"em")}setWidth(e){e&&0!==e&&(this.style||(this.style={}),this.style.width=ap(e)+"em")}toMarkup(e=1,t=1){var n,r,o,i,a;let s="",l=this.body||"";if(this.children){let e="none";for(let o=0;o<this.children.length;o++){const i=this.children[o];let a=0;const s=lp(this.children,o),c=e+"+"+s;a=i.isTight?null!==(n=ip[c])&&void 0!==n?n:0:null!==(r=op[c])&&void 0!==r?r:0,l+=i.toMarkup(a,t),e=s}}if("​"!==l&&(l||this.svgBody)||this.classes&&"ML__selected"!==this.classes||this.cssId||this.style||this.svgOverlay){s="<span",this.cssId&&(s+=' id="'+this.cssId+'" '),this.attributes&&(s+=" "+Object.keys(this.attributes).map(e=>`${e}="${this.attributes[e]}"`).join(" "));const t=this.classes.split(" ");t.push(null!==(o={command:"ML__command",placeholder:"ML__placeholder",error:"ML__error"}[this.type])&&void 0!==o?o:""),this.caret&&"command"===this.type&&t.push("ML__command-caret");let n="";if(n=t.length>1?t.filter((e,t,n)=>e.length>0&&n.indexOf(e)===t).join(" "):t[0],n.length>0&&(s+=` class="${n}"`),e&&((null===(i=this.style)||void 0===i?void 0:i["margin-left"])?this.style["margin-left"]=ap(parseFloat(this.style["margin-left"])+e/18)+"em":(this.style||(this.style={}),this.style["margin-left"]=ap(e/18)+"em")),this.style){let e="";const t=/ML__selected/.test(this.classes);for(const n in this.style)Object.prototype.hasOwnProperty.call(this.style,n)&&("background-color"===n&&t||(e+=n+":"+this.style[n]+";"));e.length>0&&(s+=' style="'+e+'"')}s+=">",this.svgBody?s+=function(e){if(Zd[e]){const t=Zd[e][2];return`<span style="height:${t}em;min-width:0">${`<span class="stretchy" style="height:${t}em"><svg width="100%" height="${t}em"viewBox="0 0 ${Zd[e][0]} ${Zd[e][1]}"preserveAspectRatio="none"><path d="${Yd[e]}"></path></svg></span>`}</span>`}const[t,n,r,o]=Jd[e];let i,a;const s=r/1e3;3===t.length?(i=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],a=["xMinYMin","xMidYMin","xMaxYMin"]):2===t.length?(i=["slice-1-of-2","slice-2-of-2"],a=["xMinYMin","xMaxYMin"]):(i=["slice-1-of-1"],a=[o]);const l=t.map((e,t)=>`<span class="${i[t]}" style="height:${s}em"><svg width="400em" height="${s}em"viewBox="0 0 400000 ${r}"preserveAspectRatio="${a[t]} slice"><path d="${Yd[e]}"></path></svg></span>`).join("");return`<span style="height:${s}em;min-width:${n}em;display:inline-block;">${l}</span>`}(this.svgBody):this.svgOverlay?(s+='<span style="',s+="display: inline-block;",s+="height:"+(this.height+this.depth)+"em;",s+="vertical-align:"+this.depth+"em;",s+='">',s+=l,s+="</span>",s+="<svg ",s+='style="position:absolute;',s+="overflow:overlay;",s+="height:"+(this.height+this.depth)+"em;",(null===(a=this.style)||void 0===a?void 0:a.padding)?(s+="top:"+this.style.padding+";",s+="left:"+this.style.padding+";",s+="width:calc(100% - 2 * "+this.style.padding+" );"):(s+="top:0;",s+="left:0;",s+="width:100%;"),s+="z-index:2;",s+='"',this.svgStyle&&(s+=' style="'+this.svgStyle+'"'),s+=">",s+=this.svgOverlay,s+="</svg>"):s+=l,s+="</span>"}else s="";return this.caret&&"command"!==this.type&&("text"===this.caret?s+='<span class="ML__text-caret"></span>':s+='<span class="ML__caret"></span>'),s}tryCoalesceWith(e){if(this.type!==e.type)return!1;if("error"===this.type||"placeholder"===this.type||"command"===this.type)return!1;if(this.svgBody||!this.body)return!1;if(e.svgBody||!e.body)return!1;const t=this.children&&this.children.length>0,n=e.children&&e.children.length>0;if(t||n)return!1;if((this.style?this.style.length:0)!==(e.style?e.style.length:0))return!1;const r=this.classes.trim().replace(/\s+/g," ").split(" "),o=e.classes.trim().replace(/\s+/g," ").split(" ");if(r.length!==o.length)return!1;r.sort(),o.sort();for(let e=0;e<r.length;e++){if("vertical-separator"===r[e])return!1;if(r[e]!==o[e])return!1}if(this.style&&e.style)for(const t in this.style)if(Object.prototype.hasOwnProperty.call(this.style,t)&&Object.prototype.hasOwnProperty.call(e.style,t)&&this.style[t]!==e.style[t])return!1;return this.body+=e.body,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}}function lp(e,t){var n,r,o,i,a;if(t<0||t>=e.length)return"none";const s=null!==(r=null===(n=e[t-1])||void 0===n?void 0:n.type)&&void 0!==r?r:"none",l=null!==(i=null===(o=e[t+1])||void 0===o?void 0:o.type)&&void 0!==i?i:"none";let c=null!==(a=e[t].type)&&void 0!==a?a:"none";return"first"===c?"none":"textord"===c?"mord":("mbin"===c&&(/first|none|mrel|mpunct|mopen|mbin|mop/.test(s)||/none|mrel|mpunct|mclose/.test(l))&&(c="mord"),c)}function cp(e){return e?Id(e)?e.reduce((e,t)=>Math.max(e,t.height),0):e.height:0}function up(e){return e?Id(e)?e.reduce((e,t)=>Math.max(e,t.depth),0):e.depth:0}function dp(e){return e?Id(e)?e[e.length-1].italic:e.italic:0}function pp(e,t="",n=""){if(Id(e)){const r=e.filter(e=>Boolean(e));return 1===r.length?new sp(r[0],t,n):new sp(r,t,n)}return new sp(e,t,n)}function fp(e,t,n="",r=""){const o=new sp(t,n,r),i=Vd(t,e);return o.height=i.height,o.depth=i.depth,o.skew=i.skew,o.italic=i.italic,o.setRight(o.italic),o}function hp(e,t="",n=""){const r=pp("","ML__strut");let o,i;r.setStyle("height",cp(e),"em"),0!==up(e)&&(o=pp("","ML__strut--bottom"),o.setStyle("height",cp(e)+up(e),"em"),o.setStyle("vertical-align",-up(e),"em")),i=Id(e)?[r,o,...e]:[r,o,e];return pp(i,t,n)}function mp(e,t,n,r,o){o=o||"";const i=gp(t,(o+=" style-wrap ")+n.adjustTo(r));i.type=e;const a=r.sizeMultiplier/n.sizeMultiplier;return i.height*=a,i.depth*=a,i.maxFontSize=r.sizeMultiplier,i}function gp(e,t="",n=""){const r=new sp(e,t,n);let o=1;return o=e instanceof sp?e.maxFontSize:e.reduce((e,t)=>Math.max(e,t.maxFontSize),o),r.height*=o,r.depth*=o,r}function yp(e,t,n="shift",r=0){let o=0,i=0;n=n||"shift";for(let e=0;e<t.length;e++)Id(t[e])&&(1===t[e].length?t[e]=t[e][0]:t[e]=pp(t[e]));if("shift"===n)console.assert(t[0]instanceof sp),o=-t[0].depth-r;else if("bottom"===n)o=-r;else if("top"===n){let e=r;for(const n of t)n instanceof sp?e-=n.height+n.depth:"number"==typeof n&&(e-=n);o=e}else if("individualShift"===n){const e=t;t=[e[0]],console.assert(e[0]instanceof sp),o=-e[1]-e[0].depth,i=o;for(let n=2;n<e.length;n+=2){console.assert(e[n]instanceof sp);const r=-e[n+1]-i-e[n].depth;i+=r,console.assert(e[n-2]instanceof sp);const o=r-(e[n-2].height+e[n-2].depth);t.push(o),t.push(e[n])}}else console.assert(!1,'makeVList with unknown method: "'+n+'"');let a=1;for(const e of t)e instanceof sp&&(a=Math.max(a,e.maxFontSize));const s=function(e,t){const n=t?t/e.mathstyle.sizeMultiplier:0,r=new sp("​");return r.depth=0,r.height=0,1!==n&&(r.setStyle("font-size",n,n>0?"em":""),r.attributes={"aria-hidden":"true"}),"size5"!==e.size?new sp(r,"fontsize-ensurer reset-"+e.size+" size5"):0!==n?r:null}(e,a),l=[];i=o;for(const e of t)if("number"==typeof e)i+=e;else if(e instanceof sp){const t=pp([s,e]);t.setTop(-e.depth-i),l.push(t),i+=e.height+e.depth}const c=pp(l,"vlist");return c.depth=Math.max(o,up(c)||0),c.height=Math.max(-i,cp(c)||0),c}function vp(e){const t=new sp(null);return t.svgBody=e,t.height=function(e){return Jd[e]?Jd[e][2]/1e3:Zd[e][2]}(e)/2,t.depth=t.height,t}const bp={},wp={"<":"<",">":">",o:"o","&":"\\&","{":"\\{","}":"\\}","[":"\\lbrack","]":"\\rbrack",":":"\\colon"," ":"~","¬":"\\neg","·":"\\cdot","¼":"\\frac{1}{4}","½":"\\frac{1}{2}","¾":"\\frac{3}{4}","⁰":"^{0}","ⁱ":"^{i}","¹":"^{1}","²":"^{2}","³":"^{3}","†":"\\dagger","‡":"\\ddagger","…":"\\ldots","⁴":"^{4}","⁵":"^{5}","⁶":"^{6}","⁷":"^{7}","⁸":"^{8}","⁹":"^{9}","⁺":"^{+}","⁻":"^{-}","⁼":"^{=}","ⁿ":"^{n}","₀":"_{0}","₁":"_{1}","₂":"_{2}","₃":"_{3}","₄":"_{4}","₅":"_{5}","₆":"_{6}","₇":"_{7}","₈":"_{8}","₉":"_{9}","₊":"_{+}","₋":"_{-}","₌":"_{=}","ₐ":"_{a}","ₑ":"_{e}","ₒ":"_{o}","ₓ":"_{x}","′":"\\prime","'":"\\prime","←":"\\gets","→":"\\to","△":"\\triangle","▽":"\\triangledown","∋":"\\owns","∗":"\\ast","∣":"\\vert","∥":"\\Vert","∧":"\\land","∨":"\\lor","⋅":"\\cdot","⋈":"\\bowtie","≠":"\\ne","≤":"\\le","≥":"\\ge","⊥":"\\bot","⟷":"\\biconditional","⟸":"\\impliedby","⟹":"\\implies","ℂ":"\\C","ℕ":"\\N","ℙ":"\\P","ℚ":"\\Q","ℝ":"\\R","ℤ":"\\Z"},_p={},kp={},xp={iff:"\\;⟺\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace",rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}"},Sp={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},Mp={"\\#":"#","\\&":"&","\\$":"$","\\%":"%","\\_":"_","\\euro":"€","\\maltese":"✠","\\{":"{","\\}":"}","\\nobreakspace":" ","\\ldots":"…","\\textellipsis":"…","\\backslash":"\\","`":"‘","'":"’","``":"“","''":"”","\\degree":"°","\\textasciicircum":"^","\\textasciitilde":"~","\\textasteriskcentered":"*","\\textbackslash":"\\","\\textbraceleft":"{","\\textbraceright":"}","\\textbullet":"•","\\textdollar":"$","\\textsterling":"£","\\textdagger":"†","\\textdaggerdbl":"‡","–":"–","—":"—","‘":"‘","’":"’","“":"“","”":"”",'"':"”","\\ss":"ß","\\ae":"æ","\\oe":"œ","\\AE":"Æ","\\OE":"Œ","\\O":"Ø","\\i":"ı","\\j":"ȷ","\\aa":"å","\\AA":"Å"},Cp=/[a-zA-Z0-9!@*()-=+{}[\]\\';:?/.,~<>`|'$%#&^_" ]/,zp="undefined"!=typeof navigator&&/firefox|edge|Trident/i.test(navigator.userAgent)?/[a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒäöüßÄÖÜẞàèéìíîòóùúÀÈÉÌÍÎÒÓÙÚáéíñóúüÁÉÍÑÓÚÜ]/:new RegExp("\\p{Letter}","u"),Op="undefined"!=typeof navigator&&/firefox|edge|Trident/i.test(navigator.userAgent)?/[0-9a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒäöüßÄÖÜẞàèéìíîòóùúÀÈÉÌÍÎÒÓÙÚáéíñóúüÁÉÍÑÓÚÜ]/:new RegExp("[0-9\\p{Letter}]","u");function Ep(e,t,n="mord",r=""){bp[e]={type:n,variant:r,value:t},wp[t]||r||(wp[t]=e),Mp[e]=t}function Lp(e,t){for(let n=e;n<=t;n++){const e=String.fromCodePoint(n);Ep(e,e)}}function Ap(e,t){if("math"===e)return wp[t]||t;if("text"===e){let e=Object.keys(Mp).find(e=>Mp[e]===t);if(!e){const n=t.codePointAt(0).toString(16);e="^".repeat(n.length)+n}return e}return t}const Tp={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},Np=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];function Dp(e,t,n){if(!/[A-Za-z0-9]/.test(e))return e;if(!t&&!n)return e;const r=e.codePointAt(0);for(let e=0;e<Np.length;e++)if((!t||Np[e].variant===t)&&(!n||Np[e].style===n)&&r>=Np[e].offset&&r<Np[e].offset+Np[e].len){const t=Np[e].start+r-Np[e].offset;return String.fromCodePoint(Tp[t]||t)}return e}function Pp(e,t){if("text"===e)return Ap(e,t)||t;let n;if(n=Ap(e,t),n)return n;const r=function(e){var t;if((e<119808||e>120831)&&(e<8448||e>8527))return{char:String.fromCodePoint(e)};for(const n in Tp)if(Object.prototype.hasOwnProperty.call(Tp,n)&&Tp[n]===e){e=null!==(t=n.codePointAt(0))&&void 0!==t?t:0;break}for(let t=0;t<Np.length;t++)if(e>=Np[t].start&&e<Np[t].start+Np[t].len)return{char:String.fromCodePoint(e-Np[t].start+Np[t].offset),variant:Np[t].variant,style:Np[t].style};return{char:String.fromCodePoint(e)}}(t.codePointAt(0));return r.style||r.variant?(n=r.char,r.variant&&(n="\\"+r.variant+"{"+n+"}"),"bold"===r.style?n="\\mathbf{"+n+"}":"italic"===r.style?n="\\mathit{"+n+"}":"bolditalic"===r.style&&(n="\\mathbfit{"+n+"}"),"\\mathord{"+n+"}"):""}function $p(e,t){let n="",r=!1;for(const o of t){r&&(n+="text"===e?"{}":" "),r=!1;const t=Pp(e,o);t?(n+=t,r=/\\[a-zA-Z0-9]+\*?$/.test(t)):n+=o}return n}function Rp(e){var t,n;return null!==(n=null===(t=bp[e])||void 0===t?void 0:t.value)&&void 0!==n?n:e}function Ip(e,t,n,r){var o,i,a;if(console.assert(Boolean(n)),console.assert(Boolean(e),"Missing command for ",n.body),null===(o=_p[e])||void 0===o?void 0:o.emit)return _p[e].emit(e,t,n,r);if(bp[e]||Mp[e])return e;if(n.body&&1===(null===(a=null===(i=_p[e])||void 0===i?void 0:i.params)||void 0===a?void 0:a.length))return e+"{"+r(n,n.body)+"}";const s=e.codePointAt(0).toString(16);return"^".repeat(s.length)+s}function Fp(e){var t;return null!==(t=kp[e])&&void 0!==t?t:null}function qp(e,t,n){if(!e||0===e.length)return null;let r=null;if("\\"===e.charAt(0)){if(r=_p[e],r)return r;if("math"===t?r=bp[e]:Mp[e]&&(r={value:Mp[e]}),!r){const t=e.slice(1);if(null==n?void 0:n[t]){let e=n[t];"object"==typeof e&&(e=e.def);let o=0;for(/(^|[^\\])#1/.test(e)&&(o=1),/(^|[^\\])#2/.test(e)&&(o=2),/(^|[^\\])#3/.test(e)&&(o=3),/(^|[^\\])#4/.test(e)&&(o=4),/(^|[^\\])#5/.test(e)&&(o=5),/(^|[^\\])#6/.test(e)&&(o=6),/(^|[^\\])#7/.test(e)&&(o=7),/(^|[^\\])#8/.test(e)&&(o=8),/(^|[^\\])#9/.test(e)&&(o=9),r={type:"group",mode:"math",params:[],infix:!1};o>=1;)r.params.push({isOptional:!1,type:"math"}),o-=1}}}else"math"===t?r=bp[e]:Mp[e]?r={value:Mp[e]}:"text"===t&&(r={value:e});return!r||"mord"!==r.type||"f"!==r.value&&"g"!==r.value&&"h"!==r.value||(r.isFunction=!0),r}function jp(e){if(e.length<=1)return[];const t=[];for(const n in _p)Object.prototype.hasOwnProperty.call(_p,n)&&n.startsWith(e)&&!_p[n].infix&&t.push({match:n,frequency:_p[n].frequency});for(const n in bp)Object.prototype.hasOwnProperty.call(bp,n)&&n.startsWith(e)&&t.push({match:n,frequency:bp[n].frequency});return t.sort((e,t)=>e.frequency===t.frequency?e.match.length-t.match.length:(t.frequency||0)-(e.frequency||0)),t}function Bp(e){let t="auto";const n=e.match(/:([^=]+)/);return n&&(t=n[1].trim()),t}function Kp(e){if(!e)return[];let t=[],n=e.split("]");if("["===n[0].charAt(0)){t.push({isOptional:!0,type:Bp(n[0].slice(1))});for(let e=1;e<=n.length;e++)t=t.concat(Kp(n[e]))}else if(n=e.split("}"),"{"===n[0].charAt(0)){t.push({isOptional:!1,type:Bp(n[0].slice(1))});for(let e=1;e<=n.length;e++)t=t.concat(Kp(n[e]))}return t}function Vp(e){let t="",n=!0;return e.forEach(e=>{"string"==typeof e.body?t+=e.body:n=!1}),n?t:""}function Up(e,t,n,r=!1){"string"==typeof e&&(e=[e]);const o={tabular:r,params:Kp(t),parser:n};for(const t of e)kp[t]=o}function Hp(e,t,n){Up(e,t,n,!0)}function Wp(e,t,n,r,o){"string"==typeof e&&(e=[e]),n||(n={});const i={params:Kp(t),mode:n.mode,infix:Boolean(n.infix),parse:r,emit:o};e.forEach(e=>{_p["\\"+e]=i})}const Xp={acute:"ˊ",grave:"ˋ",dot:"˙",ddot:"¨",mathring:"˚",tilde:"~",bar:"ˉ",breve:"˘",check:"ˇ",hat:"^",vec:"⃗"};Wp(Object.keys(Xp),"{body:auto}",null,(function(e,t){return{type:"accent",accent:Xp[e.slice(1)],limits:"accent",skipBoundary:!0,body:t[0]}})),Wp(["widehat","widecheck","widetilde"],"{body:auto}",null,(e,t)=>{const n=Vp(t[0]);return{type:"accent",svgAccent:e.slice(1)+(n.length>5?"4":["1","1","2","2","3","3"][n.length]),limits:"accent",skipBoundary:!0,body:t[0]}}),Wp("utilde","{body:auto}",null,(e,t)=>{const n=Vp(t[0]),r="widetilde"+(n.length>5?"4":["1","1","2","2","3","3"][n.length]);return{type:"overunder",body:t[0],svgBelow:r,skipBoundary:!0}},(e,t,n,r)=>`\\utilde{${r(n,n.body)}}`),Wp("^","{:string}",{},(e,t)=>({type:"mord",limits:"nolimits",isSymbol:!0,isFunction:!1,body:t[0]&&{a:"â",e:"ê",i:"î",o:"ô",u:"û",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û"}[t[0]]||"^"})),Wp("`","{:string}",{},(e,t)=>({type:"mord",limits:"nolimits",isSymbol:!0,isFunction:!1,body:t[0]&&{a:"à",e:"è",i:"ì",o:"ò",u:"ù",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù"}[t[0]]||"`"})),Wp("'","{:string}",{},(function(e,t){return{type:"mord",limits:"nolimits",isSymbol:!0,isFunction:!1,body:t[0]&&{a:"á",e:"é",i:"í",o:"ó",u:"ú",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú"}[t[0]]||"^"}})),Wp("~","{:string}",{},(e,t)=>({type:"mord",limits:"nolimits",isSymbol:!0,isFunction:!1,body:t[0]&&{n:"ñ",N:"Ñ",a:"ã",o:"õ",A:"Ã",O:"Õ"}[t[0]]||"´"})),Wp("c","{:string}",{},(e,t)=>({type:"mord",limits:"nolimits",isSymbol:!0,isFunction:!1,body:t[0]&&{c:"ç",C:"Ç"}[t[0]]||""})),Wp("enclose","{notation:string}[style:string]{body:auto}",null,(e,t)=>{var n;const r={type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",captureSelection:!0,body:t[2]};if(t[1]){const e=t[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(const t of e){const e=t.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(e)r.strokeWidth=Hd(e[1],"px"),isFinite(r.strokeWidth)||(r.strokeWidth=1),r.strokeStyle=e[2],r.strokeColor=e[3];else{const e=t.match(/\s*([a-z]*)\s*=\s*"(.*)"/);e&&("mathbackground"===e[1]?r.backgroundcolor=e[2]:"mathcolor"===e[1]?r.strokeColor=e[2]:"padding"===e[1]?r.padding=Hd(e[2],"px"):"shadow"===e[1]&&(r.shadow=e[2]))}}"dashed"===r.strokeStyle?r.svgStrokeStyle="5,5":"dotted"===r.strokeStyle&&(r.svgStrokeStyle="1,5")}return r.borderStyle=r.strokeWidth+"px "+r.strokeStyle+" "+r.strokeColor,r.notation={},(null!==(n=t[0])&&void 0!==n?n:"").split(/[, ]/).filter(e=>e.length>0).forEach(e=>{r.notation[e.toLowerCase()]=!0}),r.notation.updiagonalarrow&&(r.notation.updiagonalstrike=!1),r.notation.box&&(r.notation.left=!1,r.notation.right=!1,r.notation.bottom=!1,r.notation.top=!1),r}),Wp("cancel","{body:auto}",null,(function(e,t){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{updiagonalstrike:!0},body:t[0]}})),Wp("bcancel","{body:auto}",null,(function(e,t){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{downdiagonalstrike:!0},body:t[0]}})),Wp("xcancel","{body:auto}",null,(function(e,t){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{updiagonalstrike:!0,downdiagonalstrike:!0},body:t[0]}})),Up("math","",()=>({mathstyle:"textstyle"})),Up("displaymath","",(function(){return{mathstyle:"displaystyle"}})),Hp("array","{columns:colspec}",(e,t)=>({colFormat:t[0],mathstyle:"textstyle"})),Hp(["equation","equation","subequations"],"",()=>({colFormat:[{align:"c"}]})),Hp("multline","",(function(){return{colFormat:[{align:"m"}]}})),Hp(["align","align*","aligned","eqnarray"],"",(e,t,n)=>{let r=0;for(const e of n)r=Math.max(r,e.length);const o=[{gap:0},{align:"r"},{gap:0},{align:"l"}];let i=2;for(;i<r;)o.push({gap:1}),o.push({align:"r"}),o.push({gap:0}),o.push({align:"l"}),i+=2;return o.push({gap:0}),{arraycolsep:0,colFormat:o,jot:.3}}),Hp("split","",()=>({colFormat:[{align:"r"},{align:"l"}]})),Hp(["gather","gathered"],"",()=>({colFormat:[{gap:.25},{align:"c"},{gap:0}],jot:.3})),Hp(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","smallmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*","smallmatrix*"],"[columns:colspec]",(e,t)=>{var n;const r={mathstyle:"textstyle"};switch(e){case"pmatrix":case"pmatrix*":r.leftDelim="(",r.rightDelim=")";break;case"bmatrix":case"bmatrix*":r.leftDelim="[",r.rightDelim="]";break;case"Bmatrix":case"Bmatrix*":r.leftDelim="\\lbrace",r.rightDelim="\\rbrace";break;case"vmatrix":case"vmatrix*":r.leftDelim="\\vert",r.rightDelim="\\vert";break;case"Vmatrix":case"Vmatrix*":r.leftDelim="\\Vert",r.rightDelim="\\Vert";break;case"smallmatrix":case"smallmatrix*":r.mathstyle="scriptstyle";break;case"matrix":case"matrix*":r.leftDelim=".",r.rightDelim="."}return r.colFormat=null!==(n=t[0])&&void 0!==n?n:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}],r}),Hp("cases","",()=>({arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",colFormat:[{align:"l"},{gap:1},{align:"l"}]})),Up("center","",(function(){return{colFormat:[{align:"c"}]}})),Wp(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overbrace","overlinesegment","overgroup"],"{:auto}",null,(e,t)=>({type:"overunder",body:t[0],svgAbove:e.slice(1),skipBoundary:!0,limits:"overunder"}),(e,t,n,r)=>`${e}{${r(n,n.body)}}`),Wp(["underrightarrow","underleftarrow","underleftrightarrow","underbrace","underlinesegment","undergroup"],"{:auto}",null,(e,t)=>({type:"overunder",body:t[0],svgBelow:e.slice(1),skipBoundary:!0,limits:"overunder"}),(e,t,n,r)=>`${e}{${r(n,n.body)}}`),Wp(["xrightarrow","xleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","xLeftrightarrow","xrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xrightleftarrows","xrightequilibrium","xleftequilibrium"],"[:auto]{:auto}",null,(e,t)=>{let n=t[1];return 0===(null==n?void 0:n.length)&&(n=null),{type:"overunder",mathtype:"mrel",svgBody:e.slice(1),overscript:n,underscript:t[0]}},(e,t,n,r)=>e+(void 0!==n.underscript?`[${r(n,n.underscript)}]`:"")+`{${r(n,n.overscript)}}`),Wp(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","coth","ctg","cth","cotg","csc","cosec","deg","dim","exp","hom","inf","ker","lg","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th"],"",null,(function(e){return{type:"mop",limits:"nolimits",isSymbol:!1,isFunction:!0,body:e.slice(1),variant:"main",variantStyle:"up"}})),Wp(["liminf","limsup"],"",null,e=>({type:"mop",limits:"limits",isSymbol:!1,body:{"\\liminf":"lim inf","\\limsup":"lim sup"}[e],variant:"main"})),Wp(["lim","mod"],"",null,(function(e){return{type:"mop",limits:"limits",isSymbol:!1,body:e.slice(1),variant:"main"}})),Wp(["det","max","min"],"",null,(function(e){return{type:"mop",limits:"limits",isSymbol:!1,isFunction:!0,body:e.slice(1),variant:"main"}})),Wp("sqrt","[index:auto]{radicand:auto}",null,(e,t)=>({type:"surd",body:t[1],index:t[0]}),(e,t,n,r)=>{let o="";return void 0!==n.index&&(o+=`[${r(n,n.index)}]`),o+=`{${r(n,n.body)}}`,e+o}),Wp(["frac","dfrac","tfrac","cfrac","binom","dbinom","tbinom"],"{numerator}{denominator}",null,(e,t)=>{const n={type:"genfrac",numer:t[0],denom:t[1],mathstyle:"auto"};switch(e){case"\\dfrac":case"\\frac":case"\\tfrac":case"\\cfrac":n.hasBarLine=!0;break;case"\\\\atopfrac":n.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n.hasBarLine=!1,n.leftDelim="(",n.rightDelim=")"}switch(e){case"\\dfrac":case"\\dbinom":n.mathstyle="displaystyle";break;case"\\tfrac":case"\\tbinom":n.mathstyle="textstyle"}return"\\cfrac"===e&&(n.continuousFraction=!0),n},(e,t,n,r)=>`${e}{${r(n,n.numer)}}{${r(n,n.denom)}}`),Wp(["over","atop","choose"],"",{infix:!0},(e,t)=>{const n=t[0],r=t[1];let o=!1,i=null,a=null;switch(e){case"\\atop":break;case"\\over":o=!0;break;case"\\choose":o=!1,i="(",a=")";break;default:throw new Error("Unrecognized genfrac command")}return{type:"genfrac",numer:n,denom:r,hasBarLine:o,leftDelim:i,rightDelim:a,mathstyle:"auto"}},(e,t,n,r)=>`{${r(n,n.numer)}${e} ${r(n,n.denom)}}`),Wp("pdiff","{numerator}{denominator}",null,(e,t)=>({type:"genfrac",numer:t[0],denom:t[1],numerPrefix:"∂",denomPrefix:"∂",hasBarLine:!0,leftDelim:null,rightDelim:null,mathstyle:"auto"}),(e,t,n,r)=>`${e}{${r(n,n.numer)}}{${r(n,n.denom)}}`),Wp(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","smallint","intop"],"",null,e=>({type:"mop",limits:"auto",isSymbol:!0,variant:"main",body:{coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[e.slice(1)]}));const Gp={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};Wp(Object.keys(Gp),"",null,(function(e){return{type:"mop",limits:"nolimits",isSymbol:!0,body:Gp[e.slice(1)],variant:{"⋒":"ams","⋓":"ams"}[Gp[e.slice(1)]]}})),Wp(["Re","Im"],"",null,(function(e){return{type:"mop",limits:"nolimits",isSymbol:!1,isFunction:!0,body:{"\\Re":"ℜ","\\Im":"ℑ"}[e],variant:"fraktur"}})),Wp("middle","{:delim}",null,(function(e,t){return{type:"delim",delim:t[0]}}));const Jp={m0:"#3f3d99",m1:"#993d71",m2:"#998b3d",m3:"#3d9956",m4:"#3d5a99",m5:"#993d90",m6:"#996d3d",m7:"#43993d",m8:"#3d7999",m9:"#843d99"},Zp=["#d35d60","#7293cb","#e1974d","#84bb5d","#9066a7","#aD6a58","#f5a4ce","#fff590","#212121","#818787","#d4d5d2","#ffffff"],Yp=["#cc2428","#3769b1","#da7e30","#409852","#6b4c9a","#922426","#e7298a","#ffe907","#000000","#525055","#adafaa","#ffffff"],Qp={apricot:"#FBB982",aquamarine:"#00B5BE",bittersweet:"#C04F17",black:"#221E1F",blue:"#2D2F92",bluegreen:"#00B3B8",blueviolet:"#473992",brickred:"#B6321C",brown:"#792500",burntorange:"#F7921D",cadetblue:"#74729A",carnationpink:"#F282B4",cerulean:"#00A2E3",cornflowerblue:"#41B0E4",cyan:"#00AEEF",dandelion:"#FDBC42",darkorchid:"#A4538A",emerald:"#00A99D",forestgreen:"#009B55",fuchsia:"#8C368C",goldenrod:"#FFDF42",gray:"#949698",green:"#00A64F",greenyellow:"#DFE674",junglegreen:"#00A99A",lavender:"#F49EC4",limegreen:"#8DC73E",magenta:"#EC008C",mahogany:"#A9341F",maroon:"#AF3235",melon:"#F89E7B",midnightblue:"#006795",mulberry:"#A93C93",navyblue:"#006EB8",olivegreen:"#3C8031",orange:"#F58137",orangered:"#ED135A",orchid:"#AF72B0",peach:"#F7965A",periwinkle:"#7977B8",pinegreen:"#008B72",plum:"#92268F",processblue:"#00B0F0",purple:"#99479B",rawsienna:"#974006",red:"#ED1B23",redorange:"#F26035",redviolet:"#A1246B",rhodamine:"#EF559F",royalblue:"#0071BC",royalpurple:"#613F99",rubinered:"#ED017D",salmon:"#F69289",seagreen:"#3FBC9D",sepia:"#671800",skyblue:"#46C5DD",springgreen:"#C6DC67",tan:"#DA9D76",tealblue:"#00AEB3",thistle:"#D883B7",turquoise:"#00B4CE",violet:"#58429B",violetred:"#EF58A0",white:"#FFFFFF",wildstrawberry:"#EE2967",yellow:"#FFF200",yellowgreen:"#98CC70",yelloworange:"#FAA21A"};function ef(e){var t;const n=e.toLowerCase().split("!");let r,o,i,a=255,s=255,l=255,c=-1;const u=n.length>0&&"-"===n[0].charAt(0);u&&(n[0]=n[0].slice(1));for(let e=0;e<n.length;e++){r=a,o=s,i=l;const u=null===(t=n[e].match(/([a-z0-9]*)/))||void 0===t?void 0:t[1];let d=Qp[u]||Jp[u];d||(d=n[e]);let p=d.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);if((null==p?void 0:p[1])&&p[2]&&p[3])a=Math.max(0,Math.min(255,parseInt(p[1],16))),s=Math.max(0,Math.min(255,parseInt(p[2],16))),l=Math.max(0,Math.min(255,parseInt(p[3],16)));else if(p=d.match(/^#([0-9a-f]{3})$/i),null==p?void 0:p[1]){const e=parseInt(p[1][0],16),t=parseInt(p[1][1],16),n=parseInt(p[1][2],16);a=Math.max(0,Math.min(255,16*e+e)),s=Math.max(0,Math.min(255,16*t+t)),l=Math.max(0,Math.min(255,16*n+n))}else{if(p=d.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!((null==p?void 0:p[1])&&p[2]&&p[3]))return null;a=Math.max(0,Math.min(255,parseInt(p[1]))),s=Math.max(0,Math.min(255,parseInt(p[2]))),l=Math.max(0,Math.min(255,parseInt(p[3])))}c>=0&&(a=(1-c)*a+c*r,s=(1-c)*s+c*o,l=(1-c)*l+c*i,c=-1),e+1<n.length&&(c=Math.max(0,Math.min(100,parseInt(n[++e])))/100)}return c>=0&&(a=c*a+(1-c)*r,s=c*s+(1-c)*o,l=c*l+(1-c)*i),u&&(a=255-a,s=255-s,l=255-l),"#"+("00"+Math.round(a).toString(16)).slice(-2)+("00"+Math.round(s).toString(16)).slice(-2)+("00"+Math.round(l).toString(16)).slice(-2)}function tf(e){let t=e.toUpperCase();for(const e in Qp)if(Qp[e]===t){t=e;break}for(const e in Jp)if(Jp[e]===t){t=e;break}return t}Wp("ensuremath","{:math}",{},(e,t)=>({type:"group",mode:"math",body:t[0],skipBoundary:!0,latexOpen:"\\ensuremath{",latexClose:"}"}),(e,t,n,r)=>r(n,n.body)),Wp("color","{:color}",{},(e,t)=>({color:t[0]})),Wp("textcolor","{:color}{content:auto*}",{},(e,t)=>({color:t[0]})),Wp("boxed","{content:math}",null,(e,t)=>({type:"box",framecolor:"black",skipBoundary:!0,body:t[0]})),Wp("colorbox","{background-color:string}{content:auto}",{},(e,t)=>({type:"box",backgroundcolor:ef(t[0]),skipBoundary:!0,body:t[1],verbatimBackgroundcolor:t[0]}),(e,t,n,r)=>`${e}{${n.verbatimBackgroundcolor||tf(n.backgroundcolor)}}{${r(n,n.body)}}`),Wp("fcolorbox","{frame-color:string}{background-color:string}{content:auto}",{},(e,t)=>({type:"box",framecolor:ef(t[0]),backgroundcolor:ef(t[1]),skipBoundary:!0,body:t[2],verbatimBackgroundcolor:t[1],verbatimFramecolor:t[0]}),(e,t,n,r)=>`${e}{${n.verbatimFramecolor||tf(n.framecolor)}{${n.verbatimBackgroundcolor||tf(n.backgroundcolor)}}{${r(n,n.body)}}`),Wp("bbox","[:bbox]{body:auto}",{},(e,t)=>{if(t[0]){const e=t[0];return{type:"box",padding:e.padding,border:e.border,backgroundcolor:e.backgroundcolor,skipBoundary:!0,body:t[1]}}return{type:"box",skipBoundary:!0,body:t[1]}},(e,t,n,r)=>{let o=e;if(isFinite(n.padding)||void 0!==n.border||void 0!==n.backgroundcolor){const e=[];isFinite(n.padding)&&e.push(Math.floor(100*n.padding)/100+"em"),n.border&&e.push("border:"+n.border),n.backgroundcolor&&e.push(tf(n.backgroundcolor)),o+=`[${e.join(",")}]`}return o+`{${r(n,n.body)}}`}),Wp(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"",{},(e,t)=>({mathstyle:e.slice(1)})),Wp(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{mode:"text"},(e,t)=>({fontSize:{tiny:"size1",scriptsize:"size2",footnotesize:"size3",small:"size4",normalsize:"size5",large:"size6",Large:"size7",LARGE:"size8",huge:"size9",Huge:"size10"}[e.slice(1)]})),Wp("fontseries","{:string}",{mode:"text"},(e,t)=>({fontSeries:t[0]})),Wp("fontshape","{:string}",{mode:"text"},(e,t)=>({fontShape:t[0]})),Wp("fontfamily","{:string}",{mode:"text"},(e,t)=>({fontFamily:t[0]})),Wp("selectfont","",{mode:"text"},(e,t)=>({})),Wp("bf","",{},(e,t)=>({fontSeries:"b",fontShape:"n",fontFamily:"cmr"})),Wp(["boldsymbol","bm"],"{:math*}",{},(e,t)=>({mode:"math",cssClass:"ML__boldsymbol"})),Wp("bold","{:math*}",{},(e,t)=>({mode:"math",variantStyle:"bold"})),Wp("bfseries","",{mode:"text"},(e,t)=>({fontSeries:"b"})),Wp("mdseries","",{mode:"text"},(e,t)=>({fontSeries:"m"})),Wp("upshape","",{mode:"text"},(e,t)=>({fontShape:"n"})),Wp("slshape","",{mode:"text"},(e,t)=>({fontShape:"sl"})),Wp("scshape","",{mode:"text"},(e,t)=>({fontShape:"sc"})),Wp("textbf","{:text*}",{},(e,t)=>({mode:"text",fontSeries:"b"})),Wp("textmd","{:text*}",{},(e,t)=>({mode:"text",fontSeries:"m"})),Wp("textup","{:text*}",{},(e,t)=>({mode:"text",fontShape:"n"})),Wp("textnormal","{:text*}",{},(e,t)=>({mode:"text",fontShape:"n",fontSeries:"m"})),Wp("textsl","{:text*}",{},(e,t)=>({mode:"text",fontShape:"sl"})),Wp("textit","{:text*}",{},(e,t)=>({mode:"text",fontShape:"it"})),Wp("textsc","{:text*}",{},(e,t)=>({mode:"text",fontShape:"sc"})),Wp("textrm","{:text*}",{},(e,t)=>({mode:"text",fontFamily:"roman"})),Wp("textsf","{:text*}",{},(e,t)=>({mode:"text",fontFamily:"sans-serif"})),Wp("texttt","{:text*}",{},(e,t)=>({mode:"text",fontFamily:"monospace"})),Wp("mathbf","{:math*}",{},(e,t)=>({mode:"math",variant:"normal",variantStyle:"bold"})),Wp("mathit","{:math*}",{},(e,t)=>({mode:"math",variant:"normal",variantStyle:"italic"})),Wp("mathbfit","{:math*}",{},(e,t)=>({mode:"math",variant:"normal",variantStyle:"bolditalic"})),Wp("mathrm","{:math*}",{},(e,t)=>({mode:"math",variant:"normal",variantStyle:"up"})),Wp("mathsf","{:math*}",{},(e,t)=>({mode:"math",variant:"sans-serif",variantStyle:"up"})),Wp("mathtt","{:math*}",{},(e,t)=>({mode:"math",variant:"monospace",variantStyle:"up"})),Wp("it","",{},(e,t)=>({fontSeries:"m",fontShape:"it",fontFamily:"cmr",variantStyle:"italic"})),Wp("rmfamily","",{},(e,t)=>({fontFamily:"roman"})),Wp("sffamily","",{},(e,t)=>({fontFamily:"sans-serif"})),Wp("ttfamily","",{},(e,t)=>({fontFamily:"monospace"})),Wp(["Bbb","mathbb"],"{:math*}",{},(e,t)=>({variant:"double-struck",variantStyle:"up"})),Wp(["frak","mathfrak"],"{:math*}",{},(e,t)=>({variant:"fraktur",variantStyle:"up"})),Wp("mathcal","{:math*}",{},(e,t)=>({variant:"calligraphic",variantStyle:"up"})),Wp("mathscr","{:math*}",{},(e,t)=>({variant:"script",variantStyle:"up"})),Wp("mbox","{:text}",null,(e,t)=>({type:"group",mode:"math",body:t[0]})),Wp("text","{:text*}",null,(e,t)=>({mode:"text"})),Wp("class","{name:string}{content:auto*}",null,(e,t)=>({cssClass:t[0]})),Wp("cssId","{id:string}{content:auto}",null,(e,t)=>({type:"group",body:t[1],cssId:t[0]})),Wp("em","",null,(e,t)=>({cssClass:"ML__emph"})),Wp("emph","{:auto}",null,(e,t)=>({cssClass:"ML__emph",body:t[0],type:"group",skipBoundary:!0}));const nf={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};function rf(e,t,n,r,o,i=""){const a=mp(e,fp("Size"+n+"-Regular",Rp(t),"delimsizing size"+n),o.mathstyle,Xd.textstyle,i);return r&&a.setTop((1-o.mathstyle.sizeMultiplier)*o.mathstyle.metrics.axisHeight),a.setStyle("color",o.color),"number"==typeof o.opacity&&a.setStyle("opacity",o.opacity),a}function of(e,t){let n="";return"Size1-Regular"===t?n=" delim-size1":"Size4-Regular"===t&&(n=" delim-size4"),fp(t,Rp(e),"delimsizinginner"+n)}function af(e,t,n,r,o,i=""){let a,s,l,c;a=l=c=Rp(t),s=null;let u="Size1-Regular";"\\vert"===t||"\\lvert"===t||"\\rvert"===t||"\\mvert"===t||"\\mid"===t?l=a=c="∣":"\\Vert"===t||"\\lVert"===t||"\\rVert"===t||"\\mVert"===t||"\\|"===t?l=a=c="∥":"\\uparrow"===t?l=c="⏐":"\\Uparrow"===t?l=c="‖":"\\downarrow"===t?a=l="⏐":"\\Downarrow"===t?a=l="‖":"\\updownarrow"===t?(a="↑",l="⏐",c="↓"):"\\Updownarrow"===t?(a="⇑",l="‖",c="⇓"):"["===t||"\\lbrack"===t?(a="⎡",l="⎢",c="⎣",u="Size4-Regular"):"]"===t||"\\rbrack"===t?(a="⎤",l="⎥",c="⎦",u="Size4-Regular"):"\\lfloor"===t?(l=a="⎢",c="⎣",u="Size4-Regular"):"\\lceil"===t?(a="⎡",l=c="⎢",u="Size4-Regular"):"\\rfloor"===t?(l=a="⎥",c="⎦",u="Size4-Regular"):"\\rceil"===t?(a="⎤",l=c="⎥",u="Size4-Regular"):"("===t?(a="⎛",l="⎜",c="⎝",u="Size4-Regular"):")"===t?(a="⎞",l="⎟",c="⎠",u="Size4-Regular"):"\\{"===t||"\\lbrace"===t?(a="⎧",s="⎨",c="⎩",l="⎪",u="Size4-Regular"):"\\}"===t||"\\rbrace"===t?(a="⎫",s="⎬",c="⎭",l="⎪",u="Size4-Regular"):"\\lgroup"===t?(a="⎧",c="⎩",l="⎪",u="Size4-Regular"):"\\rgroup"===t?(a="⎫",c="⎭",l="⎪",u="Size4-Regular"):"\\lmoustache"===t?(a="⎧",c="⎭",l="⎪",u="Size4-Regular"):"\\rmoustache"===t?(a="⎫",c="⎩",l="⎪",u="Size4-Regular"):"\\surd"===t?(a="",c="⎷",l="",u="Size4-Regular"):"\\ulcorner"===t?(a="┌",l=c=" "):"\\urcorner"===t?(a="┐",l=c=" "):"\\llcorner"===t?(c="└",l=a=" "):"\\lrcorner"===t&&(a="┘",l=a=" ");const d=Vd(Rp(a),u),p=d.height+d.depth,f=Vd(Rp(l),u),h=f.height+f.depth,m=Vd(Rp(c),u),g=m.height+m.depth;let y=0,v=1;if(null!==s){const e=Vd(Rp(s),u);y=e.height+e.depth,v=2}const b=p+g+y,w=Math.ceil((n-b)/(v*h)),_=b+w*v*h;let k=o.mathstyle.metrics.axisHeight;r&&(k*=o.mathstyle.sizeMultiplier);const x=_/2-k,S=[];if(S.push(of(c,u)),null===s)for(let e=0;e<w;e++)S.push(of(l,u));else{for(let e=0;e<w;e++)S.push(of(l,u));S.push(of(s,u));for(let e=0;e<w;e++)S.push(of(l,u))}S.push(of(a,u));const M=yp(o,S,"bottom",x);return M.setStyle("color",o.color),"number"==typeof o.opacity&&M.setStyle("opacity",o.opacity),mp(e,pp(M,"delimsizing mult"),o.mathstyle,Xd.textstyle,i)}Wp(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",null,(function(e,t){return{type:"sizeddelim",size:nf[e].size,cls:nf[e].mclass,delim:t[0]}})),Wp(["hspace","hspace*"],"{width:skip}",{},(function(e,t){return{type:"spacing",width:t[0]||0}})),Wp(["mathop","mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",null,(e,t)=>{const n={type:{"\\mathop":"mop","\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[e],body:t[0],captureSelection:!0};return"\\mathop"===e&&(n.limits="limits",n.isFunction=!0),n},(e,t,n,r)=>`${e}{${r(n,n.body)}}`),Wp(["operatorname","operatorname*"],"{operator:math}",null,(function(e,t){const n={type:"mop",captureSelection:!0,body:t[0],isFunction:!0};return n.body.forEach(e=>{e.isFunction=!1,e.variant||e.variantStyle||(e.variant="main",e.variantStyle="up"),e.type="mord",e.body={"∗":"*","−":"-"}[e.body]||e.body}),"\\operatorname"===e?n.limits="nolimits":"\\operatorname*"===e&&(n.limits="limits"),n})),Wp("unicode","{charcode:number}",null,(e,t)=>{let n=parseInt(t[0]);return isFinite(n)||(n=10067),{type:"mord",body:String.fromCodePoint(n),codepoint:n}},(e,t,n,r)=>`${e}{"${("000000"+n.codepoint.toString(16)).toUpperCase().substr(-6)}}`),Wp("rule","[raise:dimen]{width:dimen}{thickness:dimen}",null,(function(e,t){return{type:"rule",shift:t[0],width:t[1],height:t[2]}})),Wp("overline","{:auto}",null,(e,t)=>({type:"line",position:"overline",skipBoundary:!0,body:t[0]})),Wp("underline","{:auto}",null,(e,t)=>({type:"line",position:"underline",skipBoundary:!0,body:t[0]})),Wp("overset","{annotation:auto}{symbol:auto}",null,(function(e,t){return{type:"overunder",overscript:t[0],skipBoundary:!0,body:t[1]}}),(e,t,n,r)=>`${e}{${r(n,n.overscript)}}{${r(n,n.body)}}`),Wp("underset","{annotation:auto}{symbol:auto}",null,(function(e,t){return{type:"overunder",underscript:t[0],skipBoundary:!0,body:t[1]}}),(e,t,n,r)=>`${e}{${r(n,n.overscript)}}{${r(n,n.body)}}`),Wp(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0},(function(e,t){return{type:"genfrac",numer:t[0],denom:t[1],hasBarLine:!1,leftDelim:t[2],rightDelim:t[3],mathstyle:"auto"}}),(e,t,n,r)=>`${r(n,n.numer)} ${e}${n.leftDelim}${n.rightDelim}${r(n,n.denom)}`),Wp(["stackrel","stackbin"],"{annotation:auto}{symbol:auto}",null,(function(e,t){return{type:"overunder",overscript:t[0],skipBoundary:!0,body:t[1],mathtype:"\\stackrel"===e?"mrel":"mbin"}}),(e,t,n,r)=>`${e}{${r(n,n.overscript)}}{${r(n,n.body)}}`),Wp(["phantom","vphantom","hphantom"],"{:auto*}",{},(e,t)=>({type:"phantom",captureSelection:!0,phantomType:e.slice(1),isPhantom:!0}),(e,t,n,r)=>e+"{"+r(n,n.body)+"}"),Wp("smash","[:string]{:auto}",null,(function(e,t){let n="smash";return"b"===t[0]?n="bsmash":"t"===t[0]&&(n="tsmash"),{type:"phantom",phantomType:n,skipBoundary:!0,body:t[1]}})),Wp("rlap","{:auto}",null,(function(e,t){return{type:"overlap",align:"right",skipBoundary:!0,body:t[0]}})),Wp("llap","{:auto}",null,(function(e,t){return{type:"overlap",align:"left",skipBoundary:!0,body:t[0]}})),Wp("mathrlap","{:auto}",null,(function(e,t){return{type:"overlap",mode:"math",align:"right",skipBoundary:!0,body:t[0]}})),Wp("mathllap","{:auto}",null,(function(e,t){return{type:"overlap",mode:"math",align:"left",skipBoundary:!0,body:t[0]}})),function(e){for(let t=0;t<e.length;t++){const n=e.charAt(t);Ep(n,n)}}("0123456789/@.?!"),Lp(65,90),Lp(97,122),Ep("\\forall","∀"),Ep("\\exists","∃"),Ep("\\nexists","∄","mord","ams"),Ep("\\mid","∣","mrel"),Ep("\\top","⊤"),Ep("\\bot","⊥"),Ep("\\sharp","♯"),Ep("\\flat","♭"),Ep("\\natural","♮"),Ep("\\#","#"),Ep("\\&","&"),Ep("\\clubsuit","♣"),Ep("\\heartsuit","♡"),Ep("\\spadesuit","♠"),Ep("\\diamondsuit","♢"),Ep("\\differencedelta","∆","mrel"),Ep("\\backslash","\\"),Ep("\\nabla","∇"),Ep("\\partial","∂"),Ep("\\ell","ℓ"),Ep("\\hbar","ℏ"),Ep("\\hslash","ℏ","mord","ams"),Ep("\\Finv","Ⅎ","mord","ams"),Ep("\\Game","⅁","mord","ams"),Ep("\\wp","℘"),Ep("\\eth","ð","mord","ams"),Ep("\\mho","℧","mord","ams"),Ep("\\Bbbk","k","mord","ams"),Ep("\\N","N","mord","double-struck"),Ep("\\R","R","mord","double-struck"),Ep("\\Q","Q","mord","double-struck"),Ep("\\C","C","mord","double-struck"),Ep("\\Z","Z","mord","double-struck"),Ep("\\P","P","mord","double-struck"),Ep("\\pounds","£"),Ep("\\yen","¥","mord","ams"),Ep("\\euro","€"),Ep("\\dagger","†","mbin"),Ep("\\dag","†","mbin"),Ep("\\ddag","‡","mbin"),Ep("\\ddagger","‡","mbin"),Ep("\\maltese","✠","mord","ams"),Ep("\\rightarrow","→","mrel"),Ep("\\to","→","mrel"),Ep("\\leftarrow","←","mrel"),Ep("\\gets","←","mrel"),Ep("\\Rightarrow","⇒","mrel"),Ep("\\Leftarrow","⇐","mrel"),Ep("\\longrightarrow","⟶","mrel"),Ep("\\longleftarrow","⟵","mrel"),Ep("\\Longrightarrow","⟹","mrel"),Ep("\\implies","⟹","mrel"),Ep("\\Longleftarrow","⟸","mrel"),Ep("\\impliedby","⟸","mrel"),Ep("\\dashrightarrow","⇢","mrel","ams"),Ep("\\dashleftarrow","⇠","mrel","ams"),Ep("\\Rrightarrow","⇛","mrel","ams"),Ep("\\Lleftarrow","⇚","mrel","ams"),Ep("\\longleftrightarrow","⟷","mrel"),Ep("\\biconditional","⟷","mrel"),Ep("\\Longleftrightarrow","⟺","mrel"),Ep("\\leftrightarrows","⇆","mrel","ams"),Ep("\\rightleftarrows","⇄","mrel","ams"),Ep("\\mapsto","↦","mrel"),Ep("\\longmapsto","⟼","mrel"),Ep("\\uparrow","↑","mrel"),Ep("\\downarrow","↓","mrel"),Ep("\\Uparrow","⇑","mrel"),Ep("\\Downarrow","⇓","mrel"),Ep("\\updownarrow","↕","mrel"),Ep("\\Updownarrow","⇕","mrel"),Ep("\\curvearrowright","↷","mrel","ams"),Ep("\\curvearrowleft","↶","mrel","ams"),Ep("\\hookrightarrow","↪","mrel"),Ep("\\hookleftarrow","↩","mrel"),Ep("\\rightharpoonup","⇀","mrel"),Ep("\\leftharpoonup","↼","mrel"),Ep("\\rightharpoondown","⇁","mrel"),Ep("\\leftharpoondown","↽","mrel"),Ep("\\rightrightarrows","⇉","mrel","ams"),Ep("\\leftleftarrows","⇇","mrel","ams"),Ep("\\upuparrows","⇈","mrel","ams"),Ep("\\downdownarrows","⇊","mrel","ams"),Ep("\\leftarrowtail","↢","mrel","ams"),Ep("\\rightarrowtail","↣","mrel","ams"),Ep("\\looparrowright","↬","mrel","ams"),Ep("\\looparrowleft","↫","mrel","ams"),Ep("\\twoheadleftarrow","↞","mrel","ams"),Ep("\\twoheadrightarrow","↠","mrel","ams"),Ep("\\rightleftharpoons","⇌","mrel"),Ep("\\leftrightharpoons","⇋","mrel","ams"),Ep("\\Rsh","↱","mrel","ams"),Ep("\\Lsh","↰","mrel","ams"),Ep("\\searrow","↘","mrel"),Ep("\\nearrow","↗","mrel"),Ep("\\swarrow","↙","mrel"),Ep("\\nwarrow","↖","mrel"),Ep("\\circlearrowright","↻","mrel","ams"),Ep("\\circlearrowleft","↺","mrel","ams"),Ep("\\restriction","↾","mrel","ams"),Ep("\\upharpoonright","↾","mrel","ams"),Ep("\\upharpoonleft","↿","mrel","ams"),Ep("\\downharpoonright","⇂","mrel","ams"),Ep("\\downharpoonleft","⇃","mrel","ams"),Ep("\\rightsquigarrow","⇝","mrel","ams"),Ep("\\leadsto","⇝","mrel","ams"),Ep("\\leftrightsquigarrow","↭","mrel","ams"),Ep("\\originalof","⊶","mrel"),Ep("\\laplace","⊶","mrel"),Ep("\\imageof","⊷","mrel"),Ep("\\Laplace","⊷","mrel"),Ep("\\multimap","⊸","mrel","ams"),Ep("\\nrightarrow","↛","mrel","ams"),Ep("\\nleftarrow","↚","mrel","ams"),Ep("\\nRightarrow","⇏","mrel","ams"),Ep("\\nLeftarrow","⇍","mrel","ams"),Ep("\\nleftrightarrow","↮","mrel","ams"),Ep("\\nLeftrightarrow","⇎","mrel","ams"),Ep("\\nless","≮","mrel","ams"),Ep("\\nleqslant","","mrel","ams"),Ep("\\lneq","⪇","mrel","ams"),Ep("\\lneqq","≨","mrel","ams"),Ep("\\nleqq","","mrel","ams"),Ep("\\unlhd","⊴","mbin","ams"),Ep("\\unrhd","⊵","mbin","ams"),Ep("\\lvertneqq","","mrel","ams"),Ep("\\lnsim","⋦","mrel","ams"),Ep("\\lnapprox","⪉","mrel","ams"),Ep("\\nprec","⊀","mrel","ams"),Ep("\\npreceq","⋠","mrel","ams"),Ep("\\precnsim","⋨","mrel","ams"),Ep("\\precnapprox","⪹","mrel","ams"),Ep("\\nsim","≁","mrel","ams"),Ep("\\nshortmid","","mrel","ams"),Ep("\\nmid","∤","mrel","ams"),Ep("\\nvdash","⊬","mrel","ams"),Ep("\\nvDash","⊭","mrel","ams"),Ep("\\ngtr","≯","mrel","ams"),Ep("\\ngeqslant","","mrel","ams"),Ep("\\ngeqq","","mrel","ams"),Ep("\\gneq","⪈","mrel","ams"),Ep("\\gneqq","≩","mrel","ams"),Ep("\\gvertneqq","","mrel","ams"),Ep("\\gnsim","⋧","mrel","ams"),Ep("\\gnapprox","⪊","mrel","ams"),Ep("\\nsucc","⊁","mrel","ams"),Ep("\\nsucceq","⋡","mrel","ams"),Ep("\\succnsim","⋩","mrel","ams"),Ep("\\succnapprox","⪺","mrel","ams"),Ep("\\ncong","≆","mrel","ams"),Ep("\\nshortparallel","","mrel","ams"),Ep("\\nparallel","∦","mrel","ams"),Ep("\\nVDash","⊯","mrel","ams"),Ep("\\nsupseteqq","","mrel","ams"),Ep("\\supsetneq","⊋","mrel","ams"),Ep("\\varsupsetneq","","mrel","ams"),Ep("\\supsetneqq","⫌","mrel","ams"),Ep("\\varsupsetneqq","","mrel","ams"),Ep("\\nVdash","⊮","mrel","ams"),Ep("\\precneqq","⪵","mrel","ams"),Ep("\\succneqq","⪶","mrel","ams"),Ep("\\nsubseteqq","","mrel","ams"),Ep("\\checkmark","✓","mord","ams"),Ep("\\diagup","╱","mord","ams"),Ep("\\diagdown","╲","mord","ams"),Ep("\\measuredangle","∡","mord","ams"),Ep("\\sphericalangle","∢","mord","ams"),Ep("\\backprime","‵","mord","ams"),Ep("\\backdoubleprime","‶","mord","ams"),Ep("\\ast","∗","mbin"),Ep("\\star","⋆","mbin"),Ep("\\diamond","⋄","mbin"),Ep("\\Diamond","◊","mord","ams"),Ep("\\lozenge","◊","mord","ams"),Ep("\\blacklozenge","⧫","mord","ams"),Ep("\\bigstar","★","mord","ams"),Ep("\\aleph","ℵ"),Ep("\\beth","ℶ","mord","ams"),Ep("\\daleth","ℸ","mord","ams"),Ep("\\gimel","ℷ","mord","ams"),Ep("\\lbrace","{","mopen"),Ep("\\rbrace","}","mclose"),Ep("\\langle","⟨","mopen"),Ep("\\rangle","⟩","mclose"),Ep("\\lfloor","⌊","mopen"),Ep("\\rfloor","⌋","mclose"),Ep("\\lceil","⌈","mopen"),Ep("\\rceil","⌉","mclose"),Ep("\\vert","∣"),Ep("\\mvert","∣","mrel"),Ep("\\lvert","∣","mopen"),Ep("\\rvert","∣","mclose"),Ep("\\|","∥"),Ep("\\Vert","∥"),Ep("\\mVert","∥"),Ep("\\lVert","∥","mopen"),Ep("\\rVert","∥","mclose"),Ep("\\parallel","∥","mrel"),Ep("\\shortparallel","∥","mrel","ams"),Ep("\\lbrack","[","mopen"),Ep("\\rbrack","]","mclose"),Ep("\\{","{","mopen"),Ep("\\}","}","mclose"),Ep("(","(","mopen"),Ep(")",")","mclose"),Ep("[","[","mopen"),Ep("]","]","mclose"),Ep("\\ulcorner","┌","mopen","ams"),Ep("\\urcorner","┐","mclose","ams"),Ep("\\llcorner","└","mopen","ams"),Ep("\\lrcorner","┘","mclose","ams"),Ep("\\lgroup","⟮","mopen"),Ep("\\rgroup","⟯","mclose"),Ep("\\lmoustache","⎰","mopen"),Ep("\\rmoustache","⎱","mclose"),Ep("=","=","mrel"),Ep("\\ne","≠","mrel"),Ep("\\neq","≠","mrel"),Ep("<","<","mrel"),Ep("\\lt","<","mrel"),Ep(">",">","mrel"),Ep("\\gt",">","mrel"),Ep("\\le","≤","mrel"),Ep("\\leq","≤","mrel"),Ep("\\ge","≥","mrel"),Ep("\\geq","≥","mrel"),Ep("\\leqslant","⩽","mrel","ams"),Ep("\\geqslant","⩾","mrel","ams"),Ep("\\ll","≪","mrel"),Ep("\\gg","≫","mrel"),Ep("\\coloneq","≔","mrel"),Ep("\\measeq","≝","mrel"),Ep("\\eqdef","≞","mrel"),Ep("\\questeq","≟","mrel"),Ep(":",":","mrel"),Ep("\\cong","≅","mrel"),Ep("\\equiv","≡","mrel"),Ep("\\prec","≺","mrel"),Ep("\\preceq","⪯","mrel"),Ep("\\succ","≻","mrel"),Ep("\\succeq","⪰","mrel"),Ep("\\perp","⊥","mrel"),Ep("\\propto","∝","mrel"),Ep("\\Colon","∷","mrel"),Ep("\\smile","⌣","mrel"),Ep("\\frown","⌢","mrel"),Ep("\\sim","∼","mrel"),Ep("\\gtrsim","≳","mrel","ams"),Ep("\\approx","≈","mrel"),Ep("\\approxeq","≊","mrel","ams"),Ep("\\thickapprox","≈","mrel","ams"),Ep("\\lessapprox","⪅","mrel","ams"),Ep("\\gtrapprox","⪆","mrel","ams"),Ep("\\precapprox","⪷","mrel","ams"),Ep("\\succapprox","⪸","mrel","ams"),Ep("\\thicksim","∼","mrel","ams"),Ep("\\succsim","≿","mrel","ams"),Ep("\\precsim","≾","mrel","ams"),Ep("\\backsim","∽","mrel","ams"),Ep("\\eqsim","≂","mrel","ams"),Ep("\\backsimeq","⋍","mrel","ams"),Ep("\\simeq","≃","mrel"),Ep("\\lesssim","≲","mrel","ams"),Ep("\\nleq","≰","mrel","ams"),Ep("\\ngeq","≱","mrel","ams"),Ep("\\smallsmile","⌣","mrel","ams"),Ep("\\smallfrown","⌢","mrel","ams"),Ep("\\bowtie","⋈","mrel"),Ep("\\Join","⋈","mrel"),Ep("\\asymp","≍","mrel"),Ep("\\sqsubseteq","⊑","mrel"),Ep("\\sqsupseteq","⊒","mrel"),Ep("\\leqq","≦","mrel","ams"),Ep("\\eqslantless","⪕","mrel","ams"),Ep("\\lll","⋘","mrel","ams"),Ep("\\lessgtr","≶","mrel","ams"),Ep("\\lesseqgtr","⋚","mrel","ams"),Ep("\\lesseqqgtr","⪋","mrel","ams"),Ep("\\risingdotseq","≓","mrel","ams"),Ep("\\fallingdotseq","≒","mrel","ams"),Ep("\\subseteqq","⫅","mrel","ams"),Ep("\\Subset","⋐","mrel","ams"),Ep("\\sqsubset","⊏","mrel","ams"),Ep("\\preccurlyeq","≼","mrel","ams"),Ep("\\curlyeqprec","⋞","mrel","ams"),Ep("\\vDash","⊨","mrel","ams"),Ep("\\Vvdash","⊪","mrel","ams"),Ep("\\bumpeq","≏","mrel","ams"),Ep("\\Bumpeq","≎","mrel","ams"),Ep("\\geqq","≧","mrel","ams"),Ep("\\eqslantgtr","⪖","mrel","ams"),Ep("\\ggg","⋙","mrel","ams"),Ep("\\gtrless","≷","mrel","ams"),Ep("\\gtreqless","⋛","mrel","ams"),Ep("\\gtreqqless","⪌","mrel","ams"),Ep("\\supseteqq","⫆","mrel","ams"),Ep("\\Supset","⋑","mrel","ams"),Ep("\\sqsupset","⊐","mrel","ams"),Ep("\\succcurlyeq","≽","mrel","ams"),Ep("\\curlyeqsucc","⋟","mrel","ams"),Ep("\\Vdash","⊩","mrel","ams"),Ep("\\shortmid","∣","mrel","ams"),Ep("\\between","≬","mrel","ams"),Ep("\\pitchfork","⋔","mrel","ams"),Ep("\\varpropto","∝","mrel","ams"),Ep("\\backepsilon","∍","mrel","ams"),Ep("\\llless","⋘","mrel","ams"),Ep("\\gggtr","⋙","mrel","ams"),Ep("\\lhd","⊲","mbin","ams"),Ep("\\rhd","⊳","mbin","ams"),Ep("\\doteq","≐","mrel"),Ep("\\doteqdot","≑","mrel","ams"),Ep("\\Doteq","≑","mrel","ams"),Ep("\\eqcirc","≖","mrel","ams"),Ep("\\circeq","≗","mrel","ams"),Ep("\\lessdot","⋖","mbin","ams"),Ep("\\gtrdot","⋗","mbin","ams"),Ep("\\~","~","mrel"),Ep("\\leftrightarrow","↔","mrel"),Ep("\\Leftrightarrow","⇔","mrel"),Ep("\\models","⊨","mrel"),Ep("\\vdash","⊢","mrel"),Ep("\\therefore","∴","mrel","ams"),Ep("\\because","∵","mrel","ams"),Ep("\\dashv","⊣","mrel"),Ep("\\roundimplies","⥰","mrel"),Ep("+","+","mbin"),Ep("-","−","mbin"),Ep("−","−","mbin"),Ep("\\pm","±","mbin"),Ep("\\mp","∓","mbin"),Ep("*","∗","mbin"),Ep("\\times","×","mbin"),Ep("\\div","÷","mbin"),Ep("\\surd","√"),Ep("\\divides","∣","mbin"),Ep("\\ltimes","⋉","mbin","ams"),Ep("\\rtimes","⋊","mbin","ams"),Ep("\\leftthreetimes","⋋","mbin","ams"),Ep("\\rightthreetimes","⋌","mbin","ams"),Ep("\\intercal","⊺","mbin","ams"),Ep("\\dotplus","∔","mbin","ams"),Ep("\\doublebarwedge","⩞","mbin","ams"),Ep("\\divideontimes","⋇","mbin","ams"),Ep("\\centerdot","⋅","mbin","ams"),Ep("\\cdot","⋅","mbin"),Ep("\\infty","∞"),Ep("\\prime","′"),Ep("\\doubleprime","″"),Ep("\\angle","∠"),Ep("`","‘"),Ep("\\$","$"),Ep("\\%","%"),Ep("\\_","_"),Ep("\\alpha","α"),Ep("\\beta","β"),Ep("\\gamma","γ"),Ep("\\delta","δ"),Ep("\\epsilon","ϵ"),Ep("\\varepsilon","ε"),Ep("\\zeta","ζ"),Ep("\\eta","η"),Ep("\\theta","θ"),Ep("\\vartheta","ϑ"),Ep("\\iota","ι"),Ep("\\kappa","κ"),Ep("\\varkappa","ϰ","mord","ams"),Ep("\\lambda","λ"),Ep("\\mu","μ"),Ep("\\nu","ν"),Ep("\\xi","ξ"),Ep("\\omicron","o"),Ep("\\pi","π"),Ep("\\varpi","ϖ"),Ep("\\rho","ρ"),Ep("\\varrho","ϱ"),Ep("\\sigma","σ"),Ep("\\varsigma","ς"),Ep("\\tau","τ"),Ep("\\phi","ϕ"),Ep("\\varphi","φ"),Ep("\\upsilon","υ"),Ep("\\chi","χ"),Ep("\\psi","ψ"),Ep("\\omega","ω"),Ep("\\Gamma","Γ"),Ep("\\Delta","Δ"),Ep("\\Theta","Θ"),Ep("\\Lambda","Λ"),Ep("\\Xi","Ξ"),Ep("\\Pi","Π"),Ep("\\Sigma","Σ"),Ep("\\Upsilon","Υ"),Ep("\\Phi","Φ"),Ep("\\Psi","Ψ"),Ep("\\Omega","Ω"),Ep("\\digamma","ϝ","mord","ams"),Ep("\\emptyset","∅"),Ep("\\varnothing","∅","mord","ams"),Ep("\\cap","∩","mbin"),Ep("\\cup","∪","mbin"),Ep("\\setminus","∖","mbin"),Ep("\\smallsetminus","∖","mbin","ams"),Ep("\\complement","∁","mord","ams"),Ep("\\in","∈","mrel"),Ep("\\notin","∉","mrel"),Ep("\\not","̸","mrel"),Ep("\\ni","∋","mrel"),Ep("\\owns","∋","mrel"),Ep("\\subset","⊂","mrel"),Ep("\\supset","⊃","mrel"),Ep("\\subseteq","⊆","mrel"),Ep("\\supseteq","⊇","mrel"),Ep("\\subsetneq","⊊","mrel","ams"),Ep("\\varsubsetneq","","mrel","ams"),Ep("\\subsetneqq","⫋","mrel","ams"),Ep("\\varsubsetneqq","","mrel","ams"),Ep("\\nsubset","⊄","mrel","ams"),Ep("\\nsupset","⊅","mrel","ams"),Ep("\\nsubseteq","⊈","mrel","ams"),Ep("\\nsupseteq","⊉","mrel","ams"),Ep("\\ "," ","spacing"),Ep("~"," ","spacing"),Ep("\\space"," ","spacing"),Ep("\\!",null,"spacing"),Ep("\\,",null,"spacing"),Ep("\\:",null,"spacing"),Ep("\\;",null,"spacing"),Ep("\\enskip",null,"spacing"),Ep("\\enspace",null,"spacing"),Ep("\\quad",null,"spacing"),Ep("\\qquad",null,"spacing"),Ep("\\colon",":","mpunct"),Ep("\\cdotp","⋅","mpunct"),Ep("\\cdots","⋯","minner"),Ep("\\ddots","⋱","minner"),Ep("\\ldots","…","minner"),Ep("\\mathellipsis","…","minner"),Ep("\\vdots","⋮"),Ep("\\ldotp",".","mpunct"),Ep(",",",","mpunct"),Ep(";",";","mpunct"),Ep("\\land","∧","mbin"),Ep("\\wedge","∧","mbin"),Ep("\\lor","∨","mbin"),Ep("\\vee","∨","mbin"),Ep("\\lnot","¬"),Ep("\\neg","¬"),Ep("\\barwedge","⊼","mbin","ams"),Ep("\\veebar","⊻","mbin","ams"),Ep("\\nor","⊻","mbin","ams"),Ep("\\curlywedge","⋏","mbin","ams"),Ep("\\curlyvee","⋎","mbin","ams"),Ep("\\square","□","mord","ams"),Ep("\\Box","□","mord","ams"),Ep("\\blacksquare","■","mord","ams"),Ep("\\boxminus","⊟","mbin","ams"),Ep("\\boxplus","⊞","mbin","ams"),Ep("\\boxtimes","⊠","mbin","ams"),Ep("\\boxdot","⊡","mbin","ams"),Ep("\\circ","∘","mbin"),Ep("\\bigcirc","◯","mbin"),Ep("\\bullet","∙","mbin"),Ep("\\circleddash","⊝","mbin","ams"),Ep("\\circledast","⊛","mbin","ams"),Ep("\\oplus","⊕","mbin"),Ep("\\ominus","⊖","mbin"),Ep("\\otimes","⊗","mbin"),Ep("\\odot","⊙","mbin"),Ep("\\circledcirc","⊚","mbin","ams"),Ep("\\oslash","⊘","mbin"),Ep("\\circledS","Ⓢ","mord","ams"),Ep("\\circledR","®","mord","ams"),Ep("\\triangle","△"),Ep("\\bigtriangleup","△","mbin"),Ep("\\vartriangle","△","mrel","ams"),Ep("\\triangleq","≜","mrel","ams"),Ep("\\triangledown","▽","mord","ams"),Ep("\\bigtriangledown","▽","mbin"),Ep("\\triangleleft","◃","mbin"),Ep("\\vartriangleleft","⊲","mrel","ams"),Ep("\\trianglelefteq","⊴","mrel","ams"),Ep("\\ntriangleleft","⋪","mrel","ams"),Ep("\\ntrianglelefteq","⋬","mrel","ams"),Ep("\\triangleright","▹","mbin"),Ep("\\vartriangleright","⊳","mrel","ams"),Ep("\\trianglerighteq","⊵","mrel","ams"),Ep("\\ntriangleright","⋫","mrel","ams"),Ep("\\ntrianglerighteq","⋭","mrel","ams"),Ep("\\blacktriangle","▲","mord","ams"),Ep("\\blacktriangledown","▼","mord","ams"),Ep("\\blacktriangleleft","◀","mrel","ams"),Ep("\\blacktriangleright","▶","mrel","ams"),Ep("\\/","/"),Ep("|","∣","textord"),Ep("\\And","&","mbin"),Ep("\\imath","ı"),Ep("\\jmath","ȷ"),Ep("\\degree","°"),Ep("'","′"),Ep('"',"”");const sf=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],lf=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],cf=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],uf=[0,1.2,1.8,2.4,3];const df=[{type:"small",mathstyle:Xd.scriptscriptstyle},{type:"small",mathstyle:Xd.scriptstyle},{type:"small",mathstyle:Xd.textstyle},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],pf=[{type:"small",mathstyle:Xd.scriptscriptstyle},{type:"small",mathstyle:Xd.scriptstyle},{type:"small",mathstyle:Xd.textstyle},{type:"stack"}],ff=[{type:"small",mathstyle:Xd.scriptscriptstyle},{type:"small",mathstyle:Xd.scriptstyle},{type:"small",mathstyle:Xd.textstyle},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function hf(e,t,n,r,o,i=""){if(!t||0===t.length||"."===t)return gf(e,o,e);let a;"<"===t||"\\lt"===t?t="\\langle":">"!==t&&"\\gt"!==t||(t="\\rangle"),a=cf.includes(t)?df:sf.includes(t)?ff:pf;const s=function(e,t,n,r){for(let i=Math.min(2,3-r.mathstyle.size);i<n.length&&"stack"!==n[i].type;i++){const r=Vd(e,"small"===(o=n[i]).type?"Main-Regular":"large"===o.type?"Size"+o.size+"-Regular":(console.assert("stack"===o.type),"Size4-Regular"));if(r.defaultMetrics)return{type:"small",mathstyle:Xd.scriptstyle};let a=r.height+r.depth;if("small"===n[i].type&&(a*=n[i].mathstyle.sizeMultiplier),a>t)return n[i]}var o;return n[n.length-1]}(Rp(t),n,a,o);return"small"===s.type?function(e,t,n,r,o,i=""){const a=mp(e,fp("Main-Regular",Rp(t)),o.mathstyle,n,i);return r&&a.setTop((1-o.mathstyle.sizeMultiplier/n.sizeMultiplier)*o.mathstyle.metrics.axisHeight),a.setStyle("color",o.color),"number"==typeof o.opacity&&a.setStyle("opacity",o.opacity),a}(e,t,s.mathstyle,r,o,"ML__small-delim "+i):"large"===s.type?rf(e,t,s.size,r,o,i):(console.assert("stack"===s.type),af(e,t,n,r,o,i))}function mf(e,t,n,r,o,i=""){if("."===t)return gf(e,o,i);const a=o.mathstyle.metrics.axisHeight*o.mathstyle.sizeMultiplier,s=5/Bd.ptPerEm,l=Math.max(n-a,r+a);return hf(e,t,Math.max(l/500*901,2*l-s),!0,o,i)}function gf(e,t,n){return pp("","sizing"+t.mathstyle.adjustTo(Xd.textstyle)+" nulldelimiter "+(n||""),e)}const yf=[[8205,1],[65038,2],[127995,5],[129456,4],[917536,96]];let vf;const bf=[127462,127487];function wf(e){var t;return void 0===vf&&(vf={},yf.forEach(e=>{for(let t=e[0];t<=e[0]+e[1]-1;t++)vf[t]=!0})),null!==(t=vf[e])&&void 0!==t&&t}function _f(e){return e>=bf[0]&&e<=bf[1]}function kf(e){if(/^[\x20-\xFF]*$/.test(e))return e;const t=[],n=function(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(13===r&&10===e.charCodeAt(n+1)&&(r=10,n++),13!==r&&12!==r||(r=10),0===r&&(r=65533),r>=55296&&r<=56319){const t=e.charCodeAt(n+1);if(t>=56320&&t<=57343){const e=r-55296,o=t-56320;r=Math.pow(2,16)+e*Math.pow(2,10)+o,n++}}t.push(r)}return t}(e);let r=0;for(;r<n.length;){const e=n[r++],o=n[r];if(8205===o){const e=r-1;for(r+=2;8205===n[r];)r+=2;t.push(String.fromCodePoint(...n.slice(e,r-e+1)))}else if(wf(o)){const e=r-1;for(;wf(n[r]);)r+=8205===n[r]?2:1;t.push(String.fromCodePoint(...n.slice(e,r-e)))}else _f(e)?(r+=1,t.push(String.fromCodePoint(...n.slice(r-2,2)))):t.push(String.fromCodePoint(e))}return t}class xf{constructor(e){this.obeyspaces=!1,this.s=kf(e),this.pos=0}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(e){let t;return t="string"==typeof this.s?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join("")),(null==t?void 0:t[0])?(this.pos+=t[0].length,t[0]):null}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]+/))return"<space>";if(this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]/))return"<space>";const e=this.get();if("\\"===e){if(!this.end()){let e=this.match(/^[a-zA-Z*]+/);if(e)this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]*/);else if(e=this.get()," "===e)return"<space>";return"\\"+e}}else{if("{"===e)return"<{>";if("}"===e)return"<}>";if("^"===e){if("^"===this.peek()){this.get();const e=this.match(/^(\^(\^(\^(\^[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f][0-9a-f]/);if(e)return String.fromCodePoint(parseInt(e.slice(e.lastIndexOf("^")+1),16))}return e}if("#"===e){if(!this.end()){let e=!1;if(/[0-9?]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){const t=this.s[this.pos+1];e=/[^0-9A-Za-z]/.test(t)}return e?"#"+this.get():"#"}}else if("$"===e)return"$"===this.peek()?(this.get(),"<$$>"):"<$>"}return e}}function Sf(e,t){var n,r,o,i;let a=[],s=e.next();if(s)if("\\relax"===s);else if("\\noexpand"===s)s=e.next(),s&&a.push(s);else if("\\obeyspaces"===s)e.obeyspaces=!0;else if("\\space"===s||"~"===s)a.push("<space>");else if("\\bgroup"===s)a.push("<{>");else if("\\egroup"===s)a.push("<}>");else if("\\string"===s)s=e.next(),s&&("\\"===s[0]?Array.from(s).forEach(e=>a.push("\\"===e?"\\backslash":e)):"<{>"===s?a.push("\\{"):"<space>"===s?a.push("~"):"<}>"===s&&a.push("\\}"));else if("\\csname"===s){for(;"<space>"===e.peek();)e.next();let o="",i=!1,l=[];do{if(0===l.length)if(/^#[0-9?]$/.test(e.peek())){const o=e.get().slice(1);l=Mf(null!==(r=null!==(n=null==t?void 0:t[o])&&void 0!==n?n:null==t?void 0:t["?"])&&void 0!==r?r:"\\placeholder{}",t),s=l[0]}else s=e.next(),l=s?[s]:[];i=0===l.length,i||"\\endcsname"!==s||(i=!0,l.shift()),i||(i="<$>"===s||"<$$>"===s||"<{>"===s||"<}>"===s||s.length>1&&"\\"===s[0]),i||(o+=l.shift())}while(!i);o&&a.push("\\"+o),a=a.concat(l)}else if("\\endcsname"===s);else if(s.length>1&&"#"===s[0]){const e=s.slice(1);a=a.concat(Mf(null!==(i=null!==(o=null==t?void 0:t[e])&&void 0!==o?o:null==t?void 0:t["?"])&&void 0!==i?i:"\\placeholder{}",t))}else a.push(s);return a}function Mf(e,t){const n=e.toString().split(/\r?\n/);let r="",o="";for(const e of n){r+=o,o=" ";const t=e.match(/((?:\\%)|[^%])*/);null!==t&&(r+=t[0])}const i=new xf(r);let a=[];do{a=a.concat(Sf(i,t))}while(!i.end());return a}function Cf(e){let t="",n="";for(const r of e)r&&(/[a-zA-Z*]/.test(r[0])&&(n+=t),t=/\\[a-zA-Z]+\*?$/.test(r)?" ":"",n+=r);return n}function zf(e){return Cf(e.map(e=>{var t;return null!==(t={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])&&void 0!==t?t:e}))}function Of(e,t,n){if(0===t.length)return"";if("first"===t[0].type){if(1===t.length)return"";t=t.slice(1)}return 0===t.length?"":Cf(Qd(t,"cssClass").map(t=>{const r=Cf(Qd(t,"color").map(t=>Cf(function(e){const t=[];let n=[],r="NONE";return e.forEach(e=>{"first"!==e.type&&(e.mode!==r?(n.length>0&&t.push(n),n=[e],r=e.mode):n.push(e))}),n.length>0&&t.push(n),t}(t).map(t=>function(e,t,n){var r;return(null===(r=ep[t[0].mode])||void 0===r?void 0:r.emitLatexRun)?ep[t[0].mode].emitLatexRun(e,t,n):""}(e,t,n)))));return!t[0].cssClass||void 0!==e&&e.cssClass===t[0].cssClass?r:"ML__boldsymbol"===t[0].cssClass?"\\boldsymbol{"+r+"}":"ML__emph"===t[0].cssClass?"\\emph{"+r+"}":"\\class{"+t[0].cssClass+"}{"+r+"}"}))}function Ef(e,t){if(!(t=void 0!==t&&t)&&e.latex)return e.latex;let n="",r=0,o=0,i=0;const a=e.symbol;let s=[];const l=(e,n)=>function(e,t,n){let r="";return Id(t)?r=Of(e,t,n):"number"==typeof t||"boolean"==typeof t?r=t.toString():"string"==typeof t?r=t.replace(/\s/g,"~"):null!=t&&"function"==typeof t.toLatex&&(r=t.toLatex(n)),r}(e,n,t);switch(e.type){case"group":a?n=t?l(e,e.body):e.latex:(n=e.latexOpen||(e.cssId||e.cssClass?"":"{"),e.cssId&&(n+="\\cssId{"+e.cssId+"}{"),"ML__emph"===e.cssClass?n+="\\emph{"+l(e,e.body):(e.cssClass&&(n+="\\class{"+e.cssClass+"}{"),n+=l(e,e.body),e.cssClass&&(n+="}")),e.cssId&&(n+="}"),n+=e.latexClose||(e.cssId||e.cssClass?"":"}"));break;case"array":if(n+="\\begin{"+e.environmentName+"}","array"===e.environmentName){if(n+="{",void 0!==e.colFormat)for(i=0;i<e.colFormat.length;i++)e.colFormat[i].align?n+=e.colFormat[i].align:e.colFormat[i].rule&&(n+="|");n+="}"}for(o=0;o<e.array.length;o++){for(r=0;r<e.array[o].length;r++)r>0&&(n+=" & "),n+=l(e,e.array[o][r]);o<e.array.length-1&&(n+=" \\\\ ")}n+="\\end{"+e.environmentName+"}";break;case"root":n=l(e,e.body);break;case"leftright":s=e.inner?["\\left"+(e.leftDelim||"."),l(e,e.body),"\\right"+(e.rightDelim||".")]:t?["."===e.leftDelim?"":e.leftDelim,l(e,e.body),"."===e.rightDelim?"":e.rightDelim]:["\\mleft"+(e.leftDelim||"."),l(e,e.body),"\\mright"+(e.rightDelim||".")],n+=Cf(s);break;case"delim":case"sizeddelim":n+=a+"{"+e.delim+"}";break;case"rule":n+=a,e.shift&&(n+=`[${l(e,e.shift)}em]`),n+=`{${l(e,e.width)}em}{${l(e,e.height)}em}`;break;case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":case"textord":n+='\\char"'===a?e.latex:Ip(a,null,e,l);break;case"mop":"​"!==e.body&&("\\mathop"===a||"\\operatorname"===a?n+=a+"{"+l(e,e.body)+"}":(n+=a,/^\\.*[a-zA-Z0-9]$/.test(a)&&(n+=" "))),e.explicitLimits&&("limits"===e.limits&&(n+="\\limits "),"nolimits"===e.limits&&(n+="\\nolimits "));break;case"spacing":n+=a,"\\hspace"===a||"\\hspace*"===a?(n+="{",e.width?n+=Number(e.width).toString()+"em":n+="0em",n+="}"):(n+=" ",e.width&&(n+=Number(e.width).toString()+"em "));break;case"enclose":if(n+=a,"\\enclose"===a){n+="{"+Object.keys(e.notation).join(" ")+"}";let t="",r="";e.backgroundColor&&"transparent"!==e.backgroundColor&&(t+=r+'mathbackground="'+tf(e.backgroundColor)+'"',r=","),e.shadow&&"auto"!==e.shadow&&(t+=r+'shadow="'+e.shadow+'"',r=","),1!==e.strokeWidth||"solid"!==e.strokeStyle?(t+=r+e.borderStyle,r=","):e.strokeColor&&"currentColor"!==e.strokeColor&&(t+=r+'mathcolor="'+tf(e.strokeColor)+'"',r=","),t&&(n+=`[${t}]`)}n+=`{${l(e,e.body)}}`;break;case"mathstyle":n+="\\"+e.mathstyle;break;case"space":n+=e.symbol;break;case"placeholder":n+="\\placeholder{}";break;case"first":case"command":case"msubsup":break;case"error":n+=e.latex;break;case"composition":n="";break;case"":console.assert("text"===e.mode,"Null atom type in mode "+e.mode),console.error("Attempting to emit a text atom");break;default:n=Ip(a,null,e,l),console.assert(Boolean(n),"Missing custom emiter for ",a||e.body),n||(n+=a)}if(void 0!==e.superscript){let t=l(e,e.superscript);1===t.length?("′"===t?t="\\prime ":"″"===t&&(t="\\doubleprime "),n+="^"+t):n+="^{"+t+"}"}if(void 0!==e.subscript){const t=l(e,e.subscript);1===t.length?n+="_"+t:n+="_{"+t+"}"}return n}const Lf={},Af={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49};function Tf(e,t){Lf[e]={decompose:t}}function Nf(e,t){var n,r;function o(e){return"mord"===e.type&&Boolean(e.symbol)&&/^[0-9,.]$/.test(e.symbol)}function i(e){return"text"===e.mode}const a=e instanceof Gd?e:new Gd(e),s=!a.atomIdsSettings||!a.atomIdsSettings.groupNumbers;let l=[];if(Id(t)){if(0===t.length)return[];if(1===t.length)l=t[0].decompose(a),l&&s&&t[0].isSelected&&l.forEach(e=>e.selected(!0)),console.assert(!l||Id(l));else{let e=[],c="",u=!0,d=null;for(let p=0;p<t.length;p++){"​"===t[p].body&&(t[p].superscript||t[p].subscript)||(d=null),(null===(n=a.atomIdsSettings)||void 0===n?void 0:n.groupNumbers)&&c&&(u&&o(t[p])||!u&&i(t[p]))&&(a.atomIdsSettings.overrideID=c);const f=t[p].decompose(a,d);if(a.atomIdsSettings&&(a.atomIdsSettings.overrideID=null),f){const n=[].concat(...f);d=n,(null===(r=a.atomIdsSettings)||void 0===r?void 0:r.groupNumbers)&&((o(t[p])||i(t[p]))&&(c&&u===o(t[p])||(u=o(t[p]),c=t[p].id)),(!o(t[p])&&!i(t[p])||t[p].superscript||t[p].subscript)&&c&&(c="")),s&&t[p].isSelected?(e=e.concat(n),e.forEach(e=>e.selected(!0))):(e.length>0&&(l=[...l,...e],e=[]),l=l.concat(n))}}e.length>0&&(l=[...l,...e],e=[])}}else t instanceof Df&&(l=t.decompose(a),l&&s&&t.isSelected&&l.forEach(e=>e.selected(!0)));if(!l||0===l.length)return null;if(console.assert(Id(l)&&l.length>0),a.mathstyle!==a.parentMathstyle){const e=a.mathstyle.sizeMultiplier/a.parentMathstyle.sizeMultiplier;for(const t of l)console.assert(!Id(t)),console.assert("number"==typeof t.height&&isFinite(t.height)),t.height*=e,t.depth*=e}if(a.size!==a.parentSize){const e=Af[a.size]/Af[a.parentSize];for(const t of l)console.assert(!Id(t)),console.assert("number"==typeof t.height&&isFinite(t.height)),t.height*=e,t.depth*=e}return l}class Df{constructor(e,t,n="",r={}){console.assert("first"===t||Boolean(e)),this.mode=e,this.type=t,this.body=n,r.isPhantom&&this.setPhantom(!0),this.applyStyle(r)}toLatex(e=!1){return Ef(this,e)}getStyle(){return{mode:this.mode,color:this.isPhantom?"transparent":this.color,backgroundColor:this.isPhantom?"transparent":this.backgroundColor,variant:this.variant,variantStyle:this.variantStyle,fontFamily:this.fontFamily,fontShape:this.fontShape,fontSeries:this.fontSeries,fontSize:this.fontSize,cssId:this.cssId,cssClass:this.cssClass}}applyStyle(e){Object.assign(this,e),"none"===this.fontFamily&&(this.fontFamily=""),"auto"===this.fontShape&&(this.fontShape=""),"auto"===this.fontSeries&&(this.fontSeries=""),"none"===this.color&&(this.color=""),"none"===this.backgroundColor&&(this.backgroundColor=""),"auto"===this.fontSize&&(this.fontSize=""),this.fontSize&&(this.maxFontSize=Af[this.fontSize]),"text"===this.mode&&"root"!==this.type&&(this.type="")}getInitialBaseElement(){let e;return Id(this.body)&&this.body.length>0&&("first"!==this.body[0].type?e=this.body[0].getInitialBaseElement():this.body[1]&&(e=this.body[1].getInitialBaseElement())),e||this}getFinalBaseElement(){return Id(this.body)&&this.body.length>0?this.body[this.body.length-1].getFinalBaseElement():this}isCharacterBox(){const e=this.getInitialBaseElement();return/minner|mbin|mrel|mpunct|mopen|mclose|textord/.test(e.type)}setPhantom(e){this.forEach(t=>{t.isPhantom=e})}forEach(e){if(e(this),Id(this.body))for(const t of this.body)t&&t.forEach(e);else this.body&&"object"==typeof this.body&&e(this.body);if(this.superscript)for(const t of this.superscript)t&&t.forEach(e);if(this.subscript)for(const t of this.subscript)t&&t.forEach(e);if(this.overscript)for(const t of this.overscript)t&&t.forEach(e);if(this.underscript)for(const t of this.underscript)t&&t.forEach(e);if(this.numer)for(const t of this.numer)t&&t.forEach(e);if(this.denom)for(const t of this.denom)t&&t.forEach(e);if(this.index)for(const t of this.index)t&&t.forEach(e);if(this.array)for(const t of this.array)for(const n of t)for(const t of n)t.forEach(e)}decomposeGroup(e){const t=pp(Nf(e.clone({mathstyle:this.mathstyle?Xd[this.mathstyle]:void 0}),this.body),"","mord");return this.cssId&&(t.cssId=this.cssId),t.applyStyle({backgroundColor:this.backgroundColor,cssClass:this.cssClass}),t}decomposeOverlap(e){const t=pp(Nf(e,this.body),"inner");return pp([t,pp(null,"fix")],"left"===this.align?"llap":"rlap","mord")}decomposeRule(e){const t=e.mathstyle,n=pp("","rule","mord");let r=this.shift&&!isNaN(this.shift)?this.shift:0;r/=t.sizeMultiplier;const o=this.width/t.sizeMultiplier,i=this.height/t.sizeMultiplier;return n.setStyle("border-right-width",o,"em"),n.setStyle("border-top-width",i,"em"),n.setStyle("margin-top",-(i-r),"em"),n.setStyle("border-color",e.color),n.width=o,n.height=i+r,n.depth=-r,n}decompose(e,t=null){var n;let r=null;if(!this.type||/mord|minner|mbin|mrel|mpunct|mopen|mclose|textord/.test(this.type))r="string"==typeof this.body?this.makeSpan(e,this.body):this.makeSpan(e,Nf(e,this.body)),r.type=rp(this.type)?this.type:"";else if("group"===this.type||"root"===this.type)r=this.decomposeGroup(e);else if("delim"===this.type)r=pp(null,""),r.delim=this.delim;else if("sizeddelim"===this.type)r=this.bind(e,function(e,t,n,r,o=""){return"."===t?gf(e,r,o):("<"===t||"\\lt"===t?t="\\langle":">"!==t&&"\\gt"!==t||(t="\\rangle"),sf.includes(t)||cf.includes(t)?rf(e,t,n,!1,r,o):lf.includes(t)?af(e,t,uf[n],!1,r,o):(console.assert(!1,"Unknown delimiter '"+t+"'"),null))}(this.cls,this.delim,this.size,e));else if("overlap"===this.type)r=this.decomposeOverlap(e);else if("rule"===this.type)r=this.decomposeRule(e);else if("msubsup"===this.type)r=pp("​","","mord"),t&&(r.height=t[0].height,r.depth=t[0].depth);else if("space"===this.type)r=this.makeSpan(e," ");else if("spacing"===this.type)if("​"===this.body)r=this.makeSpan(e,"​");else if(" "===this.body)r="math"===this.mode?this.makeSpan(e," "):this.makeSpan(e," ");else if(this.width)r=pp("​","mspace "),this.width>0?r.setWidth(this.width):r.setStyle("margin-left",this.width,"em");else{r=pp("​","mspace "+(null!==(n={"\\qquad":"qquad","\\quad":"quad","\\enspace":"enspace","\\;":"thickspace","\\:":"mediumspace","\\,":"thinspace","\\!":"negativethinspace"}[this.symbol])&&void 0!==n?n:"mediumspace"))}else"mathstyle"===this.type?e.setMathstyle(this.mathstyle):"command"===this.type||"error"===this.type?(console.assert("string"==typeof this.body),r=this.makeSpan(e,this.body),r.classes="",this.isError&&(r.classes+=" ML__error"),this.isSuggestion&&(r.classes+=" ML__suggestion")):"composition"===this.type?(r=this.makeSpan(e,this.body),r.classes="ML__composition"):"placeholder"===this.type?r=this.makeSpan(e,"⬚"):"first"===this.type?r=this.makeSpan(e,"​"):(console.assert(Lf[this.type],'Unknown Atom type: "'+this.type+'"'),r=Lf[this.type].decompose(e,this));if(!r)return null;if(this.caret&&"msubsup"!==this.type&&"command"!==this.type&&"placeholder"!==this.type&&"first"!==this.type&&(Id(r)?"leftright"===this.type&&(this.superscript||this.subscript)||(r[r.length-1].caret=this.caret):r.caret=this.caret),this.containsCaret&&(Id(r)?(r[0].classes=(r[0].classes||"")+" ML__contains-caret",r[r.length-1].classes=(r[r.length-1].classes||"")+" ML__contains-caret"):r.classes=(r.classes||"")+" ML__contains-caret"),!this.limits&&(this.superscript||this.subscript))if(Id(r)){const t=r[r.length-1];r[r.length-1]=this.attachSupsub(e,t,t.type)}else r=[this.attachSupsub(e,r,r.type)];return Id(r)?r:[r]}attachSupsub(e,t,n){if(!this.superscript&&!this.subscript)return t;const r=e.mathstyle;let o=null,i=null;if(this.superscript){o=pp(Nf(e.sup(),this.superscript),r.adjustTo(r.sup()))}if(this.subscript){i=pp(Nf(e.sub(),this.subscript),r.adjustTo(r.sub()))}let a,s=0,l=0;this.isCharacterBox()||(s=cp(t)-r.metrics.supDrop,l=up(t)+r.metrics.subDrop),a=r===Xd.displaystyle?r.metrics.sup1:r.cramped?r.metrics.sup3:r.metrics.sup2;const c=Xd.textstyle.sizeMultiplier*r.sizeMultiplier,u=.5/Bd.ptPerEm/c;let d=null;if(i&&o){s=Math.max(s,a,o.depth+.25*r.metrics.xHeight),l=Math.max(l,r.metrics.sub2);const n=Bd.defaultRuleThickness;if(s-up(o)-(cp(i)-l)<4*n){l=4*n-(s-o.depth)+cp(i);const e=.8*r.metrics.xHeight-(s-up(o));e>0&&(s+=e,l-=e)}d=yp(e,[i,l,o,-s],"individualShift"),this.isSymbol&&d.children[0].setLeft(-dp(t))}else i&&!o?(l=Math.max(l,r.metrics.sub1,cp(i)-.8*r.metrics.xHeight),d=yp(e,[i],"shift",l),d.children[0].setRight(u),this.isCharacterBox()&&d.children[0].setLeft(-dp(t))):!i&&o&&(s=Math.max(s,a,o.depth+.25*r.metrics.xHeight),d=yp(e,[o],"shift",-s),d.children[0].setRight(u));const p=pp(d,"msubsup");return this.caret&&(p.caret=this.caret,this.caret=""),pp([t,p],"",n)}attachLimits(e,t,n,r){const o=this.superscript?pp(Nf(e.sup(),this.superscript),e.mathstyle.adjustTo(e.mathstyle.sup())):null,i=this.subscript?pp(Nf(e.sub(),this.subscript),e.mathstyle.adjustTo(e.mathstyle.sub())):null;return function(e,t,n,r,o,i){if(!o&&!i)return t;t=pp(t);let a=0,s=0;o&&(a=Math.max(Bd.bigOpSpacing1,Bd.bigOpSpacing3-up(o)));i&&(s=Math.max(Bd.bigOpSpacing2,Bd.bigOpSpacing4-cp(i)));let l=null;if(i&&o){const c=Bd.bigOpSpacing5+cp(i)+up(i)+s+up(t)+n;l=yp(e,[Bd.bigOpSpacing5,i,s,t,a,o,Bd.bigOpSpacing5],"bottom",c),l.children[0].setLeft(-r),l.children[2].setLeft(r)}else if(i&&!o){const o=cp(t)-n;l=yp(e,[Bd.bigOpSpacing5,i,s,t],"top",o),l.children[0].setLeft(-r)}else if(!i&&o){const i=up(t)+n;l=yp(e,[t,a,o,Bd.bigOpSpacing5],"bottom",i),l.children[1].setLeft(r)}return pp(l,"op-limits","mop")}(e,t,n,r,o,i)}bind(e,t){return"first"!==this.type&&"​"!==this.body&&(this.id=function(e){let t;e.atomIdsSettings&&("number"==typeof e.atomIdsSettings.seed?(t=e.atomIdsSettings.overrideID?e.atomIdsSettings.overrideID:e.atomIdsSettings.seed.toString(36),e.atomIdsSettings.seed+=1):t=Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36));return t}(e),this.id&&(t.attributes||(t.attributes={}),t.attributes["data-atom-id"]=this.id)),t}makeSpan(e,t){console.assert(rp(this.type));const n=pp(t,"","textord"===this.type?"mord":rp(this.type)?this.type:""),r=this.getStyle();r.letterShapeStyle=e.letterShapeStyle,n.applyStyle(r);const o=(null==r?void 0:r.fontSize)?r.fontSize:"size5";return o!==e.parentSize?(n.classes+=" sizing reset-"+e.parentSize,n.classes+=" "+o):e.parentSize!==e.size&&(n.classes+=" sizing reset-"+e.parentSize,n.classes+=" "+e.size),n.maxFontSize=Math.max(n.maxFontSize,e.mathstyle.sizeMultiplier||1),"text"===this.mode&&(n.classes+=" ML__text"),e.mathstyle.isTight()&&(n.isTight=!0),"math"!==this.mode&&(n.italic=0),n.setRight(n.italic),"number"==typeof e.opacity&&n.setStyle("opacity",e.opacity),this.bind(e,n),this.caret&&(this.superscript||this.subscript||(n.caret=this.caret,this.caret="",e.mathstyle.isTight()&&(n.isTight=!0))),n}}function Pf(e,t=[]){const n=new Df(e,"root",t||[]);return!Id(n.body)||0!==n.body.length&&"first"===n.body[0].type||n.body.unshift(new Df(e,"first")),n}function $f(e){return Id(e)}function Rf(e){const t=pp("​","arraycolsep");return t.setWidth(e),t}function If(e,t,n,r){const o=[];for(const i of t){const t=pp(Nf(e,r));t.depth=i.depth,t.height=i.height,o.push(t),o.push(i.pos-n)}return yp(e,o,"individualShift")}function Ff(e){return!/^<({|}|\$|\$\$|space)>$/.test(e)}Tf("accent",(e,t)=>{const n=e.mathstyle;let r=Nf(e.cramp(),t.body);(t.superscript||t.subscript)&&(r=[t.attachSupsub(e,pp(r,"","mord"),"mord")]);let o=0;Id(t.body)&&1===t.body.length&&t.body[0].isCharacterBox()&&(o=function(e){if(!e)return 0;if(Id(e)){let t=0;for(const n of e)t+=n.skew||0;return t}return e.skew}(r));let i,a=Math.min(cp(r),n.metrics.xHeight);if(t.svgAccent)i=vp(t.svgAccent),a=-a+Bd.bigOpSpacing1;else{const e=fp("Main-Regular",t.accent,"math");e.italic=0;const n="⃗"===t.accent?" accent-vec":"";i=pp(pp(e),"accent-body"+n)}return i=yp(e,[r,-a,i]),i.children[1].setLeft(2*o),[pp([i],"accent","mord")]}),Tf("array",(e,t)=>{var n;let r=t.colFormat;r&&0===r.length&&(r=[{align:"l"}]),r||(r=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]);const o=[];let i=0;for(const e of r)e.align&&i++;for(const e of t.array){let t=0;for(;t<e.length;){const n=[],r=Math.min(e.length,t+i);for(;t<r;)n.push(e[t++]);o.push(n)}}1===o[o.length-1].length&&0===o[o.length-1][0].length&&o.pop();const a=Xd[t.mathstyle]||e.mathstyle,s=t.arraystretch||1,l="number"==typeof t.arraycolsep?t.arraycolsep:Bd.arraycolsep,c=s*Bd.baselineskip,u=.7*c,d=.3*c;let p=0,f=0;const h=[],m=o.length;for(let r=0;r<m;++r){const i=o[r];f=Math.max(f,i.length);let a=u,s=d;const l={cells:[],height:0,depth:0,pos:0};for(let n=0;n<i.length;++n){const r=Nf(e.clone({mathstyle:Xd[t.mathstyle]}),i[n])||[],o=[pp(null,"","mord")].concat(r);s=Math.max(s,up(o)),a=Math.max(a,cp(o)),l.cells.push(o)}let c=r===m-1?0:t.jot||0;(null===(n=t.rowGaps)||void 0===n?void 0:n[r])&&(c=t.rowGaps[r],c>0&&(c+=d,s<c&&(s=c),c=0)),l.height=a,l.depth=s,p+=a,l.pos=p,p+=s+c,h.push(l)}const g=p/2+a.metrics.axisHeight,y=[];for(let t=0;t<f;t++){const n=[];for(const e of h){const r=e.cells[t];r&&(r.depth=e.depth,r.height=e.height,n.push(r),n.push(e.pos-g))}n.length>0&&y.push(yp(e,n,"individualShift"))}const v=[];let b=!1,w=!1,_=0,k=!t.leftDelim;for(const t of r){if(t.align&&_>=y.length)break;if(t.align&&_<y.length)b?v.push(Rf(2*l)):(w||k)&&v.push(Rf(l)),v.push(pp(y[_],"col-align-"+t.align)),_++,b=!0,w=!1,k=!1;else if(void 0!==t.gap)"number"==typeof t.gap?v.push(Rf(t.gap)):v.push(If(e,h,g,t.gap)),b=!1,w=!1,k=!1;else if(t.rule){const t=pp(null,"vertical-separator");t.setStyle("height",p,"em"),t.setStyle("margin-top",3*e.mathstyle.metrics.axisHeight-g,"em"),t.setStyle("vertical-align","top");let n=0;w?n=Bd.doubleRuleSep-Bd.arrayrulewidth:b&&(n=l-Bd.arrayrulewidth),t.setLeft(n),v.push(t),b=!1,w=!0,k=!1}}if(b&&!t.rightDelim&&v.push(Rf(l)),!(t.leftDelim&&"."!==t.leftDelim||t.rightDelim&&"."!==t.rightDelim))return[pp(v,"mtable","mord")];const x=pp(v,"mtable"),S=cp(x),M=up(x);return[pp([t.bind(e,mf("mopen",t.leftDelim,S,M,e)),x,t.bind(e,mf("mclose",t.rightDelim,S,M,e))],"","mord")]}),Tf("box",(e,t)=>{const n="number"==typeof t.padding?t.padding:Bd.fboxsep,r=pp(Nf(e,t.body),"","mord");r.setStyle("vertical-align",-up(r),"em"),r.setStyle("height",0);const o=pp(r,"","mord"),i=pp("","ML__box");i.setStyle("position","absolute"),i.setStyle("height",cp(o)+up(o)+2*n,"em"),0!==n?i.setStyle("width","calc(100% + "+2*n+"em)"):i.setStyle("width","100%"),i.setStyle("top",-n,"em"),i.setStyle("left",-n,"em"),i.setStyle("z-index","-1"),i.setStyle("box-sizing","border-box"),t.backgroundcolor&&i.setStyle("background-color",t.backgroundcolor),t.framecolor&&i.setStyle("border",Bd.fboxrule+"em solid "+t.framecolor),t.border&&i.setStyle("border",t.border),o.setStyle("display","inline-block"),o.setStyle("height",cp(o)+up(o),"em");const a=pp([i,o]);return a.setStyle("position","relative"),a.setStyle("vertical-align",-n+up(o),"em"),a.height=cp(o)+n,a.depth=up(o)+n,a.setLeft(n),a.setRight(n),a.setStyle("height",a.height+a.depth-2*n,"em"),a.setStyle("top",-n,"em"),a.setStyle("display","inline-block"),[a]}),Tf("enclose",(e,t)=>{const n=pp(Nf(e,t.body),"","mord"),r="number"==typeof t.padding?t.padding:Bd.fboxsep,o=pp("","ML__notation");o.setStyle("position","absolute"),o.setStyle("height",cp(n)+up(n)+2*r,"em"),o.height=cp(n)+r,o.depth=up(n)+r,0!==r?o.setStyle("width","calc(100% + "+2*r+"em)"):o.setStyle("width","100%"),o.setStyle("top","0"),o.setStyle("left",-r,"em"),o.setStyle("z-index","-1"),t.backgroundcolor&&o.setStyle("background-color",t.backgroundcolor),t.notation.box&&o.setStyle("border",t.borderStyle),t.notation.actuarial&&(o.setStyle("border-top",t.borderStyle),o.setStyle("border-right",t.borderStyle)),t.notation.madruwb&&(o.setStyle("border-bottom",t.borderStyle),o.setStyle("border-right",t.borderStyle)),t.notation.roundedbox&&(o.setStyle("border-radius",(cp(n)+up(n))/2,"em"),o.setStyle("border",t.borderStyle)),t.notation.circle&&(o.setStyle("border-radius","50%"),o.setStyle("border",t.borderStyle)),t.notation.top&&o.setStyle("border-top",t.borderStyle),t.notation.left&&o.setStyle("border-left",t.borderStyle),t.notation.right&&o.setStyle("border-right",t.borderStyle),t.notation.bottom&&o.setStyle("border-bottom",t.borderStyle);let i="";if(t.notation.horizontalstrike&&(i+='<line x1="3%"  y1="50%" x2="97%" y2="50%"',i+=` stroke-width="${t.strokeWidth}" stroke="${t.strokeColor}"`,i+=' stroke-linecap="round"',t.svgStrokeStyle&&(i+=` stroke-dasharray="${t.svgStrokeStyle}"`),i+="/>"),t.notation.verticalstrike&&(i+='<line x1="50%"  y1="3%" x2="50%" y2="97%"',i+=` stroke-width="${t.strokeWidth}" stroke="${t.strokeColor}"`,i+=' stroke-linecap="round"',t.svgStrokeStyle&&(i+=` stroke-dasharray="${t.svgStrokeStyle}"`),i+="/>"),t.notation.updiagonalstrike&&(i+='<line x1="3%"  y1="97%" x2="97%" y2="3%"',i+=` stroke-width="${t.strokeWidth}" stroke="${t.strokeColor}"`,i+=' stroke-linecap="round"',t.svgStrokeStyle&&(i+=` stroke-dasharray="${t.svgStrokeStyle}"`),i+="/>"),t.notation.downdiagonalstrike&&(i+='<line x1="3%"  y1="3%" x2="97%" y2="97%"',i+=` stroke-width="${t.strokeWidth}" stroke="${t.strokeColor}"`,i+=' stroke-linecap="round"',t.svgStrokeStyle&&(i+=` stroke-dasharray="${t.svgStrokeStyle}"`),i+="/>"),i){let e;"none"!==t.shadow&&(e="auto"===t.shadow?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+t.shadow+")"),function(e,t,n){e.svgOverlay=t,e.svgStyle=n}(o,i,e)}const a=pp([o,n]);return a.setStyle("position","relative"),a.setStyle("display","inline"),a.height=cp(n)+r,a.depth=up(n)+r,a.setLeft(r),a.setRight(r),[a]}),Tf("genfrac",(e,t)=>{const n="auto"===t.mathstyle?e.mathstyle:Xd[t.mathstyle],r=e.clone({mathstyle:n});let o=[];t.numerPrefix&&o.push(pp(t.numerPrefix,"mord"));const i=t.continuousFraction?n:n.fracNum();o=o.concat(Nf(r.clone({mathstyle:i}),t.numer));const a=gp(o,e.mathstyle.adjustTo(i));let s=[];t.denomPrefix&&s.push(pp(t.denomPrefix,"mord"));const l=t.continuousFraction?n:n.fracDen();s=s.concat(Nf(r.clone({mathstyle:l}),t.denom));const c=gp(s,e.mathstyle.adjustTo(l)),u=t.hasBarLine?Bd.defaultRuleThickness/n.sizeMultiplier:0;let d,p,f=0;n.size===Xd.displaystyle.size?(d=n.metrics.num1,f=u>0?3*u:7*Bd.defaultRuleThickness,p=n.metrics.denom1):(u>0?(d=n.metrics.num2,f=u):(d=n.metrics.num3,f=3*Bd.defaultRuleThickness),p=n.metrics.denom2);const h=a?up(a):0,m=c?cp(c):0;let g;if(0===u){const e=d-h-(m-p);e<f&&(d+=.5*(f-e),p+=.5*(f-e)),g=yp(r,[a,-d,c,p],"individualShift")}else{const e=n.metrics.axisHeight,o=e+.5*u,i=e-.5*u;d-h-o<f&&(d+=f-(d-h-o)),i-(m-p)<f&&(p+=f-(i-(m-p)));const s=pp(null," frac-line");s.applyStyle(t.getStyle()),s.height=u/2,s.depth=u/2;const l=[];a&&(l.push(a),l.push(-d)),l.push(s),l.push(u/2-e),c&&(l.push(c),l.push(p)),g=yp(r,l,"individualShift")}g.classes+=" mfrac",g.height*=n.sizeMultiplier/e.mathstyle.sizeMultiplier,g.depth*=n.sizeMultiplier/e.mathstyle.sizeMultiplier;const y=n.size===Xd.displaystyle.size?n.metrics.delim1:n.metrics.delim2,v=t.bind(e,hf("mopen",t.leftDelim,y,!0,e.clone({mathstyle:n}))),b=t.bind(e,hf("mclose",t.rightDelim,y,!0,e.clone({mathstyle:n})));return v.applyStyle(t.getStyle()),b.applyStyle(t.getStyle()),[t.bind(e,pp([v,g,b],e.parentSize!==e.size?"sizing reset-"+e.parentSize+" "+e.size:"","mord"))]}),Tf("leftright",(e,t)=>{if(!t.body)return t.leftDelim?new Df("math","mopen",t.leftDelim).decompose(e):t.rightDelim?new Df("math","mclose",t.rightDelim).decompose(e):null;const n=e.clone(),r=Nf(n,t.body),o=n.mathstyle;let i=0,a=0,s=[];if(i=cp(r)*o.sizeMultiplier,a=up(r)*o.sizeMultiplier,t.leftDelim&&(s.push(t.bind(e,mf("mopen",t.leftDelim,i,a,n,"ML__open"))),s[s.length-1].applyStyle(t.getStyle())),r){for(let o=0;o<r.length;o++)if(r[o].delim){const s=r[o].caret,l=/ML__selected/.test(r[o].classes);r[o]=t.bind(e,mf("minner",r[o].delim,i,a,n)),r[o].caret=s,r[o].selected(l)}s=s.concat(r)}if(t.rightDelim){let r,o=t.rightDelim;"?"===o&&(e.smartFence?(o={"(":")","\\{":"\\}","\\lbrace":"\\rbrace","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"}[t.leftDelim],o=o||t.leftDelim,r="ML__smart-fence__close"):o="."),s.push(t.bind(e,mf("mclose",o,i,a,n,(r||"")+" ML__close"))),s[s.length-1].applyStyle(t.getStyle())}return t.inner?[pp(s,o.cls(),"minner")]:s}),Tf("line",(e,t)=>{const n=e.mathstyle,r=Nf(e.cramp(),t.body),o=Bd.defaultRuleThickness/n.sizeMultiplier,i=pp(null,e.mathstyle.adjustTo(Xd.textstyle)+" "+t.position+"-line");let a;if(i.height=o,i.maxFontSize=1,"overline"===t.position)a=yp(e,[r,3*o,i,o]);else{const t=pp(r);a=yp(e,[o,i,3*o,t],"top",cp(t))}return[pp(a,t.position,"mord")]}),Tf("mop",(e,t)=>{var n;const r=e.mathstyle;let o,i=0,a=0;if(t.isSymbol){const n=r.size===Xd.displaystyle.size&&"\\smallint"!==t.symbol;o=fp(n?"Size2-Regular":"Size1-Regular",t.body,"op-symbol "+(n?"large-op":"small-op"),"mop"),i=(o.height-o.depth)/2-r.metrics.axisHeight*r.sizeMultiplier,a=o.italic,o.applyStyle({color:t.isPhantom?"transparent":t.color,backgroundColor:t.isPhantom?"transparent":t.backgroundColor,cssId:t.cssId,cssClass:t.cssClass,letterShapeStyle:e.letterShapeStyle})}else Id(t.body)?o=pp(Nf(e,t.body),"","mop"):(console.assert("mop"===t.type),o=t.makeSpan(e,t.body));t.bind(e,o),t.isSymbol&&o.setTop(i);let s=o;if(t.superscript||t.subscript){const l=null!==(n=t.limits)&&void 0!==n?n:"auto";s="limits"===l||"auto"===l&&r.size===Xd.displaystyle.size?t.attachLimits(e,o,i,a):t.attachSupsub(e,o,"mop")}return[s]}),Tf("overunder",(e,t)=>{const n=t.svgBody?vp(t.svgBody):Nf(e,t.body),r=e.clone({mathstyle:Xd.scriptstyle});let o,i;t.svgAbove?o=vp(t.svgAbove):t.overscript&&t.overscript.length>0&&(o=pp(Nf(r,t.overscript),e.mathstyle.adjustTo(r.mathstyle))),t.svgBelow?i=vp(t.svgBelow):t.underscript&&t.underscript.length>0&&(i=pp(Nf(r,t.underscript),e.mathstyle.adjustTo(r.mathstyle))),o&&i&&(i.setLeft(.3),i.setRight(.3),o.setLeft(.3),o.setRight(.3));let a=function(e,t,n,r,o){if(!n&&!r)return pp(t,"op-over-under",o);let i=0,a=0;n&&(i=Math.max(Bd.bigOpSpacing1,Bd.bigOpSpacing3-up(n)));r&&(a=Math.max(Bd.bigOpSpacing2,Bd.bigOpSpacing4-cp(r)));let s=null;if(r&&n){const o=cp(r)+up(r)+up(t);s=yp(e,[0,r,a,t,i,n,Bd.bigOpSpacing2],"bottom",o)}else if(r&&!n){const n=cp(t);s=yp(e,[0,r,a,t],"top",n)}else n&&!r&&(s=yp(e,[up(t),t,Math.max(Bd.bigOpSpacing2,i),n],"bottom",up(t)));return pp(s,"op-over-under",o)}(e,n,o,i,rp(t.type)?t.type:"mrel");return(t.superscript||t.subscript)&&(a=t.attachLimits(e,a,0,0)),[a]}),Tf("phantom",(e,t)=>{if("vphantom"===t.phantomType){const n=pp(Nf(e,t.body),"inner");return[pp([n,pp(null,"fix")],"rlap","mord")]}if("hphantom"===t.phantomType||"smash"===t.phantomType||"bsmash"===t.phantomType||"tsmash"===t.phantomType){const n=pp(Nf(e,t.body),"","mord");return"bsmash"!==t.phantomType&&(n.height=0),"tsmash"!==t.phantomType&&(n.depth=0),[pp(yp(e,[n]),"","mord")]}return[pp(Nf(e,t.body),"","mord")]}),Tf("surd",(e,t)=>{var n;const r=e.mathstyle;console.assert(null===t.body||Id(t.body));const o=null!==(n=Nf(e.cramp(),t.body))&&void 0!==n?n:pp(""),i=Bd.defaultRuleThickness/r.sizeMultiplier;let a=i;r.id<Xd.textstyle.id&&(a=r.metrics.xHeight);let s=i+a/4;const l=pp(hf("","\\surd",Math.max(2*a,(cp(o)+up(o))*r.sizeMultiplier)+(s+i),!1,e),"sqrt-sign");l.applyStyle(t.getStyle());const c=l.height+l.depth-i;c>cp(o)+up(o)+s&&(s=(s+c-(cp(o)+up(o)))/2),l.setTop(l.height-cp(o)-(s+i));const u=pp(null,e.mathstyle.adjustTo(Xd.textstyle)+" sqrt-line");u.applyStyle(t.getStyle()),u.height=i;const d=yp(e,[o,s,u,i]);if(!t.index)return[t.bind(e,pp([l,d],"sqrt","mord"))];const p=pp(Nf(e.clone({mathstyle:Xd.scriptscriptstyle}),t.index),r.adjustTo(Xd.scriptscriptstyle)),f=pp([pp(yp(e,[p],"shift",-(.6*(Math.max(l.height,d.height)-Math.max(l.depth,d.depth)))),"root"),l,d],"sqrt","mord");return f.height=l.height,f.depth=l.depth,[t.bind(e,f)]});class qf{constructor(e,t,n,r){this.index=0,this.style={},this.parseMode="math",this.smartFence=!1,this.tabularMode=!1,this.atoms=[],this.endCount=0,this.tokens=e,this.args=t,this.macros=n,this.onError=e=>r({before:zf(this.tokens.slice(this.index,this.index+10)),after:zf(this.tokens.slice(Math.max(0,this.index-10),this.index)),...e})}swapAtoms(e=[]){const t=this.atoms;return this.atoms=e,t}swapParseMode(e){const t=this.parseMode;return this.parseMode=e,t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}match(e){return this.tokens[this.index]===e&&(this.index++,!0)}lastSubsupAtom(){const e=0===this.atoms.length?void 0:this.atoms[this.atoms.length-1];return(!e||"mop"!==e.type&&"leftright"!==e.type&&"msubsup"!==e.type)&&((null==e?void 0:e.limits)&&"nolimits"!==(null==e?void 0:e.limits)||this.atoms.push(new Df(this.parseMode,"msubsup","​"))),this.atoms[this.atoms.length-1]}hasPattern(e){return e.test(this.tokens[this.index])}hasInfixCommand(){const e=this.index;if(e<this.tokens.length&&"\\"===this.tokens[e][0]){const t=qp(this.tokens[e],this.parseMode,this.macros);return!((null==t?void 0:t.mode)&&!t.mode.includes(this.parseMode))&&(null==t?void 0:t.infix)}return!1}matchColumnSeparator(){const e=this.index;return!(!this.tabularMode||"&"!==this.tokens[e])&&(this.index++,!0)}matchRowSeparator(){const e=this.index;return!(!this.tabularMode||"\\\\"!==this.tokens[e]&&"\\cr"!==this.tokens[e])&&(this.index++,!0)}placeholder(){var e;if(!this.args||void 0===this.args["?"]){const e=new Df(this.parseMode,"placeholder","?",this.style);return e.captureSelection=!0,[e]}return"string"==typeof(null===(e=this.args)||void 0===e?void 0:e["?"])?jf(this.args["?"],this.parseMode,null,this.macros,!1,this.onError):this.args["?"]}matchWhitespace(){let e=!1;for(;this.match("<space>");)e=!0;return e}skipUntilToken(e){let t=this.tokens[this.index];for(;t&&t!==e;)t=this.tokens[++this.index];t===e&&this.index++}skipFiller(){let e=!1;do{const t=this.matchWhitespace(),n=this.match("\\relax");e=!t&&!n}while(!e)}matchKeyword(e){const t=this.index;let n=this.end(),r="";for(;!n;){const t=this.get();Ff(t)?(r+=t,n=this.end()||r.length>=e.length):n=!0}const o=e.toUpperCase()===r.toUpperCase();return o||(this.index=t),o}scanString(){let e="",t=this.end();for(;!t;){if(this.match("<space>"))e+=" ";else{const n=this.peek();"]"===n?t=!0:Ff(n)?e+=this.get():"\\"===n[0]?(this.onError({code:"unbalanced-braces"}),e+=this.get()):t=!0}t=t||this.end()}return e}scanBalancedString(){let e="",t=this.end(),n=1;for(;!t;){if(this.match("<space>"))e+=" ";else{const t=this.get();"<{>"===t?(e+="{",n+=1):"<}>"===t?(n-=1,n>0?e+="}":this.index-=1):e+="<$>"===t?"$":"<$$>"===t?"$$":t}t=0===n||this.end()}return e}matchLiteralArg(){var e;let t="";if(this.match("<{>")){let n=1;for(;n>0&&!this.end();){const r=this.get();"<}>"===r?(n-=1,n>0&&(t+="}")):"<{>"===r?(n+=1,t+="{"):t+=null!==(e={"<space>":" ","<$$>":"$$","<$>":"$"}[r])&&void 0!==e?e:r}}return t}scanColor(){return ef(this.scanString())}scanNumber(e=!0){var t,n;let r=!1,o=this.peek();for(;"<space>"===o||"+"===o||"-"===o;)this.get(),"-"===o&&(r=!r),o=this.peek();e=Boolean(e);let i=10,a=/[0-9]/;if(this.match("'"))i=8,a=/[0-7]/,e=!0;else if(this.match('"')||this.match("x"))i=16,a=/[0-9A-F]/,e=!0;else if(this.match("`"))return o=this.get(),o?o.startsWith("\\")&&2===o.length?(r?-1:1)*(null!==(t=o.codePointAt(1))&&void 0!==t?t:0):(r?-1:1)*(null!==(n=o.codePointAt(0))&&void 0!==n?n:0):NaN;let s="";for(;this.hasPattern(a);)s+=this.get();if(!e&&(this.match(".")||this.match(",")))for(s+=".";this.hasPattern(a);)s+=this.get();const l=e?parseInt(s,i):parseFloat(s);return r?-l:l}scanDimen(){const e=this.scanNumber(!1);let t;return this.matchWhitespace(),this.matchKeyword("pt")?t=Ud(e,"pt"):this.matchKeyword("mm")?t=Ud(e,"mm"):this.matchKeyword("cm")?t=Ud(e,"cm"):this.matchKeyword("ex")?t=Ud(e,"ex"):this.matchKeyword("px")?t=Ud(e,"px"):this.matchKeyword("em")?t=Ud(e,"em"):this.matchKeyword("bp")?t=Ud(e,"bp"):this.matchKeyword("dd")?t=Ud(e,"dd"):this.matchKeyword("pc")?t=Ud(e,"pc"):this.matchKeyword("in")?t=Ud(e,"in"):this.matchKeyword("mu")?t=Ud(e,"mu"):(this.onError({code:"missing-unit"}),t=Ud(e,"pt")),t}scanSkip(){const e=this.scanDimen();return this.matchWhitespace(),this.matchKeyword("plus")&&this.scanDimen(),this.matchWhitespace(),this.matchKeyword("minus")&&this.scanDimen(),e}scanColspec(){this.matchWhitespace();const e=[];for(;!this.end()&&"<}>"!==this.peek()&&"]"!==this.peek();){const t=this.get();if("c"===t||"r"===t||"l"===t)e.push({align:t});else if("|"===t)e.push({rule:!0});else if("@"===t){if(this.match("<{>")){const t=this.swapParseMode("math");e.push({gap:this.parse(e=>"<}>"===e)}),this.swapParseMode(t)}this.match("<}>")||this.onError({code:"unbalanced-braces"})}}return e}parseModeSet(){let e="";if(this.match("\\(")&&(e="\\)"),!e&&this.match("\\[")&&(e="\\]"),!e)return null;const t=this.swapParseMode("math"),n=new Df("math","group");return n.mathstyle="\\)"===e?"textstyle":"displaystyle",n.body=this.parse(t=>t===e),this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.swapParseMode(t),n.body&&0!==n.body.length?n:null}parseModeShift(){let e="";if(this.match("<$>")&&(e="<$>"),!e&&this.match("<$$>")&&(e="<$$>"),!e)return null;const t=new Df("math","group");t.mathstyle="<$>"===e?"textstyle":"displaystyle",t.latexOpen="<$>"===e?"$":"$$",t.latexClose=t.latexOpen;const n=this.swapParseMode("math");return t.body=this.parse(t=>t===e),this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.swapParseMode(n),t.body&&0!==t.body.length?t:null}parseEnvironment(){if(!this.match("\\begin"))return null;const e=this.parseArgument("string");if(!e)return null;const t=Fp(e);if(!t)return this.onError({code:"unknown-environment",arg:e}),null;const n=[];if(null==t?void 0:t.params)for(const r of t.params)if(r.isOptional)n.push(this.parseOptionalArgument(r.type));else{const t=this.parseArgument(r.type);t||this.onError({code:"missing-argument",arg:e}),n.push(t)}const r=this.parseMode,o=this.tabularMode,i=this.swapAtoms([]);this.tabularMode=t.tabular;const a=[],s=[];let l=[],c=!1;do{if(this.end()&&(this.onError({code:"unbalanced-environment",arg:e}),c=!0),!c&&this.match("\\end")&&(this.parseArgument("string")!==e&&this.onError({code:"unbalanced-environment",arg:e}),c=!0),!c)if(this.matchColumnSeparator())l.push(this.swapAtoms([]));else if(this.matchRowSeparator()){l.push(this.swapAtoms([]));let e=0;this.matchWhitespace(),this.match("[")&&(e=this.scanDimen(),this.matchWhitespace(),this.match("]")),s.push(e||0),a.push(l),l=[]}else this.atoms=this.atoms.concat(this.parse(e=>"<}>"===e||"&"===e||"\\end"===e||"\\cr"===e||"\\\\"===e))}while(!c);l.push(this.swapAtoms([])),l.length>0&&a.push(l);const u=this.swapAtoms(i);if(console.assert(!this.tabularMode||0===u.length,"Leftover atoms in tabular mode"),this.parseMode=r,this.tabularMode=o,!t.tabular&&0===u.length)return null;if(t.tabular&&0===a.length)return null;const d=new Df(this.parseMode,"array",u);return Object.assign(d,t.parser(e,n,a)),d.array=a,d.rowGaps=s,d.environmentName=e,d}parse(e){var t;const n=this.style;e||(e=e=>"<}>"===e);let r="",o=null,i=[],a=null;const s=this.swapAtoms([]);for(;!this.end()&&!e(this.peek());)this.hasInfixCommand()&&!r?(r=this.get(),o=qp(r,"math",this.macros),o&&(i=this.parseArguments(o)[1]),a=this.swapAtoms([])):this.parseToken();let l;return r?(console.assert(Boolean(o)),i.unshift(this.swapAtoms(s)),a&&i.unshift(a),l=[new Df(this.parseMode,o.type,null!==(t=o.value)&&void 0!==t?t:r.slice(1),o.parse?o.parse(r,i):null)],l[0].symbol=r):l=this.swapAtoms(s),this.style=n,l}parseGroup(){if(!this.match("<{>"))return null;const e=new Df(this.parseMode,"group");return e.body=this.parse(e=>"<}>"===e),this.match("<}>")||this.onError({code:"unbalanced-braces"}),e.latexOpen="{",e.latexClose="}",e}scanSmartFence(){if(this.matchWhitespace(),!this.match("("))return null;const e=new Df(this.parseMode,"leftright");e.leftDelim="(",e.inner=!1;const t=this.swapAtoms([]);let n=1;for(;!this.end()&&0!==n;)this.match("(")&&(n+=1),this.match(")")&&(n-=1),0!==n&&this.parseToken();return 0===n&&this.match(")"),e.rightDelim=0===n?")":"?",e.body=this.swapAtoms(t),e}scanDelim(){this.matchWhitespace();const e=this.get();if(!e)return this.onError({code:"unexpected-end-of-string"}),null;let t=".";("\\"===e[0]||Ff(e))&&(t=e);const n=qp(t,"math",this.macros);return n?n.mode&&!n.mode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):"mopen"===n.type||"mclose"===n.type||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}parseLeftRight(){if(this.match("\\right")||this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),null;const e=this.style;let t="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;t="\\mright"}const n=this.scanDelim();if(!n)return null;const r=this.swapAtoms([]);for(;!this.end()&&!this.match(t);)this.parseToken();this.style=e;const o=this.scanDelim(),i=new Df(this.parseMode,"leftright","",this.style);return i.leftDelim=n,i.rightDelim=null!=o?o:void 0,i.inner="right"===t,i.body=this.swapAtoms(r),i}parseSupSub(){var e,t;if("math"!==this.parseMode)return!1;let n=!1,r=this.peek();for(;"^"===r||"_"===r||"'"===r;){const o="_"===r?"subscript":"superscript";if(this.match("^")||this.match("_")){const t=this.parseArgument("math");if(t){const r=this.lastSubsupAtom();r[o]=(null!==(e=r[o])&&void 0!==e?e:[]).concat(t),n=!0}}else if(this.match("'")){const e=this.lastSubsupAtom(),r=new Df(e.mode,"mord","′");r.symbol="\\prime",e.superscript=null!==(t=e.superscript)&&void 0!==t?t:[],e.superscript.push(r),n=!0}r=this.peek()}return n}parseLimits(){if(this.match("\\limits")){const e=this.lastSubsupAtom();return e.limits="limits",e.explicitLimits=!0,!0}if(this.match("\\nolimits")){const e=this.lastSubsupAtom();return e.limits="nolimits",e.explicitLimits=!0,!0}return!1}parseArguments(e){if(!e||!e.params)return[void 0,[]];let t;const n=[];let r=e.infix?2:0;for(;r<e.params.length;){const o=e.params[r];if(o.isOptional)n.push(this.parseOptionalArgument(o.type));else if(o.type.endsWith("*"))t=o.type.slice(0,-1);else{const e=this.parseArgument(o.type);void 0!==e?n.push(e):(this.onError({code:"missing-argument"}),n.push(this.placeholder()))}r+=1}return[t,n]}parseArgument(e){var t;let n;if(this.skipFiller(),e="auto"===e?this.parseMode:e,!this.match("<{>")){if("delim"===e)return null!==(t=this.scanDelim())&&void 0!==t?t:".";if(/^(math|text)$/.test(e)){const t=this.swapParseMode(e),n=this.parseSimpleToken();return this.swapParseMode(t),n}}const r=this.parseMode;this.parseMode=e;const o=this.swapAtoms([]);if("string"===e)n=this.scanString(),this.skipUntilToken("<}>");else if("balanced-string"===e)n=this.scanBalancedString(),this.skipUntilToken("<}>");else if("number"===e)n=this.scanNumber(),this.skipUntilToken("<}>");else if("dimen"===e)n=this.scanDimen(),this.skipUntilToken("<}>");else if("skip"===e)n=this.scanSkip(),this.skipUntilToken("<}>");else if("colspec"===e)n=this.scanColspec(),this.skipUntilToken("<}>");else if("color"===e)n=this.scanColor()||"#ffffff",this.skipUntilToken("<}>");else if("delim"===e)n=this.scanDelim()||".",this.skipUntilToken("<}>");else{console.assert(/^(math|text)$/.test(e),'Unexpected parse mode: "'+e+'"');const t=this.index;let r=1;do{const e=this.get();"<}>"===e&&(r-=1),"<{>"===e&&(r+=1)}while(r>0&&!this.end());if(n=function(e,t,n,r){var o;return(null===(o=ep[e])||void 0===o?void 0:o.parse)?ep[e].parse(t,n,r):null}(e,this.tokens.slice(t,this.index-1),this.onError,{args:this.args,macros:this.macros,smartFence:this.smartFence,style:this.style,parse:(e,t,r)=>{const o=new qf(t,r.args,r.macros,this.onError);return o.parseMode=e,o.style=r.style,n=o.parse(),[n,t.slice(o.index)]}}),!n){this.index=t;do{this.atoms=this.atoms.concat(this.parse())}while(!this.match("<}>")&&!this.end())}}this.parseMode=r;const i=this.swapAtoms(o);return null!=n?n:i}parseOptionalArgument(e){var t;if(e="auto"===e?this.parseMode:e,this.matchWhitespace(),!this.match("["))return null;const n=this.parseMode;this.parseMode=e;const r=this.swapAtoms();let o;for(;!this.end()&&!this.match("]");)if("string"===e)o=this.scanString();else if("number"===e)o=this.scanNumber();else if("dimen"===e)o=this.scanDimen();else if("skip"===e)o=this.scanSkip();else if("colspec"===e)o=this.scanColspec();else if("color"===e)o=null!==(t=this.scanColor())&&void 0!==t?t:"#ffffff";else if("bbox"===e){const e=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/),t={};for(const n of e){const e=ef(n);if(e)t.backgroundcolor=e;else{const e=n.match(/^\s*([0-9.]+)\s*([a-z][a-z])/);if(e)t.padding=Ud(e[1],e[2]);else{const e=n.match(/^\s*border\s*:\s*(.*)/);e&&(t.border=e[1])}}}o=t}else console.assert("math"===e,'Unexpected parse mode: "'+e+'"'),this.atoms=this.atoms.concat(this.parse(e=>"]"===e));this.parseMode=n;const i=this.swapAtoms(r);return null!=o?o:i}parseSimpleToken(){const e=this.get();if(!e)return null;let t=null;if("<space>"===e)"text"===this.parseMode&&(t=new Df("text",""," ",this.style),t.symbol=" ");else if("\\"===e[0]){if("\\placeholder"===e)t=new Df(this.parseMode,"placeholder",this.parseArgument("string"),this.style),t.captureSelection=!0;else if("\\char"===e){const e=this.index;let n=Math.floor(this.scanNumber(!0));(!isFinite(n)||n<0||n>1114111)&&(n=10067),t=new Df(this.parseMode,"math"===this.parseMode?"mord":"",String.fromCodePoint(n)),t.symbol="\\char",t.latex="\\char"+zf(this.tokens.slice(e,this.index))}else if("\\hskip"===e||"\\kern"===e){const n=this.scanSkip();isFinite(n)&&(t=new Df(this.parseMode,"spacing",null,this.style),t.width=n,t.symbol=e,t.latex=e)}else if(t=this.scanMacro(e),!t){const n=qp(e,this.parseMode,{});if(!n)return this.onError({code:"unknown-command",arg:e}),t=new Df("math","error",e),t.symbol=e,t.latex=e,[t];if(n.mode&&!n.mode.includes(this.parseMode))return this.onError({code:"invalid-command",arg:e}),t=new Df("math","error",e),t.symbol=e,t.latex=e,[t];const r=this.index,[o,i]=this.parseArguments(n);if(!i)return null;if(n.infix)this.onError({code:"too-many-infix-commands",arg:e});else{if(n.parse){const r=n.parse(e,i);if(r.type)t=new Df(this.parseMode,n.type,o?this.parseArgument(o):null,{...this.style,...r});else{const e=this.parseMode;if(r.mode&&(this.parseMode=r.mode,delete r.mode),r.mathstyle){this.parseMode="math";const e=new Df("math","mathstyle");e.mathstyle=r.mathstyle,this.atoms.push(e)}if(o){const e=this.style;this.style={...this.style,...r},t=this.parseArgument(o),this.style=e}else this.style={...this.style,...r};this.parseMode=e}}else{const r={...this.style,variant:n.variant||this.style.variant,variantStyle:n.variantStyle||this.style.variantStyle};t=new Df(this.parseMode,n.type||"mop",n.value||e,r)}if(t instanceof Df&&!/^\\(llap|rlap|class|cssId)$/.test(e)){t.symbol=e;const n=zf(this.tokens.slice(r,this.index));if(n&&(t.latex=t.symbol+n),t.isFunction&&this.smartFence){const e=this.scanSmartFence();e&&(t=[t,e])}}}}}else if(Ff(e)){const n=qp(e,this.parseMode,this.macros);if(n){const r={...this.style};t=new Df(this.parseMode,n.type,n.value||e,r),n.isFunction&&(t.isFunction=!0)}else t=new Df(this.parseMode,"math"===this.parseMode?"mord":"",e,this.style);if(t.symbol=e,t.latex=Pp(this.parseMode,e),(null==n?void 0:n.isFunction)&&this.smartFence){const e=this.scanSmartFence();e&&(t=[t,e])}}else"<}>"===e?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:e});return t&&!Id(t)?[t]:t}scanMacro(e){var t;const n=e.slice(1);if(!this.macros||!this.macros[n])return null;const r=this.index,o=[];let i,a=0;"string"==typeof this.macros[n]?(i=this.macros[n],/(^|[^\\])#1/.test(i)&&(a=1),/(^|[^\\])#2/.test(i)&&(a=2),/(^|[^\\])#3/.test(i)&&(a=3),/(^|[^\\])#4/.test(i)&&(a=4),/(^|[^\\])#5/.test(i)&&(a=5),/(^|[^\\])#6/.test(i)&&(a=6),/(^|[^\\])#7/.test(i)&&(a=7),/(^|[^\\])#8/.test(i)&&(a=8),/(^|[^\\])#9/.test(i)&&(a=9)):(i=this.macros[n].def,a=this.macros[n].args||0);for(let e=1;e<=a;e++)o[e]=this.matchLiteralArg();o["?"]=null===(t=this.args)||void 0===t?void 0:t["?"];const s=new Df(this.parseMode,"group",jf(i,this.parseMode,o,this.macros,!1,this.onError));return s.captureSelection=!0,s.symbol=e,s.latex=e+zf(this.tokens.slice(r,this.index)),s}parseToken(){let e=this.parseEnvironment()||this.parseModeShift()||this.parseModeSet()||this.parseGroup()||this.parseLeftRight();return!(e||!this.parseSupSub()&&!this.parseLimits())||(e||(e=this.parseSimpleToken()),Id(e)?this.atoms=this.atoms.concat(e):e&&this.atoms.push(e),null!==e)}}function jf(e,t,n,r,o=!1,i){let a=[];const s=new qf(Mf(e,n),n,r,t=>{"function"==typeof i&&i({...t,latex:e})});for(s.parseMode=t||"math",o&&(s.smartFence=!0);!s.end();){const e=s.parse();e&&(a=a.concat(e))}return a}var Bf,Kf;const Vf=null!==(Kf=null===(Bf=document.currentScript)||void 0===Bf?void 0:Bf.src)&&void 0!==Kf?Kf:function(){const e=String((new Error).stack).replace(/^Error.*\n/,"").split("\n");if(0===e.length)return"";const t=e[0].match(/http.*js/);return t?t[0]:""}();async function Uf(e,t){var n;if(!(null!==(n=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))&&void 0!==n&&n)&&"fonts"in document){const n=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"];let r=!1;if(!/firefox/i.test(navigator.userAgent))try{r=n.every(e=>document.fonts.check("16px "+e))}catch(e){r=!1}if(!r){if(document.body.classList.contains("ML__fonts-loading"))return;document.body.classList.add("ML__fonts-loading");const n=new URL(null!=e?e:"./fonts",Vf).toString(),r=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular",{style:"italic"}],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(e=>function(e,t,n={}){return new FontFace(e,`url(${t}.woff2) format('woff2'), url(${t}.woff) format('woff')`,n)}(e[0].replace(/-[a-zA-Z]+$/,""),n+"/"+e[0],e[1]));try{(await Promise.all(r.map(e=>{try{return e.load()}catch(e){"function"==typeof t&&t({code:"font-not-found",arg:e})}}))).forEach(e=>document.fonts.add(e)),document.body.classList.remove("ML__fonts-loading")}catch(e){console.error(e)}}}}function Hf(e,t){var n,r;if(!t)return null;let o=null!==(n=null==e?void 0:e.getRootNode())&&void 0!==n?n:null===document||void 0===document?void 0:document.head;if(!o)return null;o===document&&(o=document.head);const i=function(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}(t).toString(36),a=o.querySelector(`style[data-id="${i}"]`);if(a){const e=parseFloat(null!==(r=a.getAttribute("data-refcount"))&&void 0!==r?r:"0");a.setAttribute("data-refcount",Number(e+1).toString())}else{const e=document.createElement("style");e.type="text/css",e.dataset.id=i,e.dataset.refcount="1",e.appendChild(document.createTextNode(t)),o.appendChild(e)}return{release:()=>{var e;const t=document.head.querySelector(`style[data-id="${i}"]`);if(t){const n=parseFloat(null!==(e=t.getAttribute("data-refcount"))&&void 0!==e?e:"0");1===n?t.remove():t.setAttribute("data-refcount",Number(n-1).toString())}}}}function Wf(e){return 0===e.length||1===e.length&&"first"===e[0].type}function Xf(e){const t=e.siblings();for(let e=t.length-1;e>=0;e--)t[e].isSuggestion&&t.splice(e,1)}function Gf(e){let t=1,n=e.ancestor(t);for(;n;)n.latex=void 0,t+=1,n=e.ancestor(t)}function Jf(e,t){const n={...t},r=e.lastPosition;return n.start<0?n.start=Math.max(0,r+n.start+1):isNaN(n.start)?n.start=0:n.start=Math.min(n.start,r),n.end<0?n.end=Math.max(0,r+n.end+1):isNaN(n.end)?n.end=n.start:n.end=Math.min(n.end,r),n.start<n.end?n.direction="forward":([n.start,n.end]=[n.end,n.start],n.direction="backward"),n.collapsed=n.start===n.end,n.collapsed&&(n.direction="none"),e.positions[n.start]&&(n.depth=e.positions[n.start].depth-1),n}function Zf(e,t){let n="";for(const t of e)n+=t.relation+":"+t.offset+"/";return t&&(n+="#"+t),n}function Yf(e){const t={path:[],extent:0},n=e.split("#");n.length>1&&(t.extent=parseInt(n[1]));const r=n[0].split("/");for(const e of r){const n=e.match(/([^:]*):(.*)/);n&&t.path.push({relation:n[1],offset:parseInt(n[2])})}return t}function Qf(e,t){let n=0,r=-1,o=!1;for(;!o;)r+=1,o=r>=e.length||r>=t.length,o=o||!(e[r].relation===t[r].relation&&e[r].offset===t[r].offset);return n=r===e.length&&r===t.length?0:r+1===e.length&&r+1===t.length&&e[r].relation===t[r].relation?1:2,n}function eh(e){return Yf(Zf(e)).path}function th(e,t){let n=0;for(let r=0;r<t.row;r++)for(let t=0;t<e[r].length;t++)n+=1;return n+=t.col,n}function nh(e,t){let n;if("string"==typeof t){const e=t.match(/cell([0-9]*)$/);e&&(n=parseInt(e[1]))}else n=t;const r={row:0,col:0};for(;n>0;)r.col+=1,(!e[r.row]||r.col>=e[r.row].length)&&(r.col=0,r.row+=1),n-=1;return r}function rh(e,t,n=!0){var r;let o;return"object"!=typeof t&&(t=nh(e,t)),Id(e[t.row])&&(o=null!==(r=e[t.row][t.col])&&void 0!==r?r:null),n&&o&&(0===o.length||"first"!==o[0].type)&&o.unshift(new Df("math","first")),o}function oh(e){let t=0,n=0,r=1;for(const t of e)n+=1,t.length>r&&(r=t.length);return t=n*r,t}function ih(e,t,n){const r={...t};if(r.row+=n,r.row<0){if(r.col+=n,r.row=e.length-1,r.col<0)return null;for(;r.row>=0&&!rh(e,r);)r.row-=1;if(r.row<0)return null}else if(r.row>=e.length){for(r.col+=n,r.row=0;r.row<e.length&&!rh(e,r);)r.row+=1;if(r.row>e.length-1)return null}return r}const ah={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML_bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams"],"ams-italic":["AMS-Regular","ML__ams"],"ams-bolditalic":["AMS-Regular","ML__ams"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak"],"fraktur-italic":["Fraktur-Regular","ML__frak"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb"],"double-struck-italic":["AMS-Regular","ML__bb"],"double-struck-bolditalic":["AMS-Regular","ML__bb"]},sh={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[0-9A-Z ]$/,fraktur:/^[0-9A-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^’‘]$/,monospace:/^[0-9A-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039b\u039e\u03A0\u03A3\u03A5\u03A8\u03a9]$/,"sans-serif":/^[0-9A-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039b\u039e\u03A0\u03A3\u03A5\u03A8\u03a9]$/},lh=/^[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5]$/,ch=[/^[a-z]$/,/^[A-Z]$/,lh,/^[\u0393|\u0394|\u0398|\u039b|\u039E|\u03A0|\u03A3|\u03a5|\u03a6|\u03a8|\u03a9]$/],uh={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]};function dh(e,t,n){return Cf(Qd(t,"fontShape").map(e=>{const t=function(e,t,n){let r=!1;return Cf(t.map(e=>{let t="",n="";return e.latex?t=e.latex:"string"==typeof e.body?t=$p("text",e.body):e.symbol&&(t=e.symbol.replace(/\\/g,"\\backslash ")),!r||t&&!/^[a-zA-Z0-9*]/.test(t)||(n="{}"),r=/\\[a-zA-Z0-9]+\*?$/.test(t),n+t}))}(0,e);return"it"===e[0].fontShape?"\\textit{"+t+"}":"sl"===e[0].fontShape?"\\textsl{"+t+"}":"sc"===e[0].fontShape?"\\textsc{"+t+"}":"n"===e[0].fontShape?"\\textup{"+t+"}":e[0].fontShape?"\\fontshape{"+e[0].fontShape+"}"+t:t}))}function ph(e,t,n){return Cf(Qd(t,"fontSize").map(e=>{const t=function(e,t,n){return Cf(Qd(t,"fontSeries").map(e=>{const t=dh(0,e);return"b"===e[0].fontSeries?"\\textbf{"+t+"}":"l"===e[0].fontSeries?"\\textlf{"+t+"}":"m"===e[0].fontSeries?"\\textmd{"+t+"}":e[0].fontSeries?"\\fontseries{"+e[0].fontSeries+"}"+t:t}))}(0,e),n={size1:"tiny",size2:"scriptsize",size3:"footnotesize",size4:"small",size5:"normalsize",size6:"large",size7:"Large",size8:"LARGE",size9:"huge",size10:"Huge"}[e[0].fontSize]||"";return n?"\\"+n+" "+t:t}))}function fh(e,t,n){return function(e,t,n){return Cf(Qd(t,"fontFamily").map(e=>{const t=ph(0,e),n={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[e[0].fontFamily]||"";return n?"\\"+n+"{"+t+"}":e[0].fontFamily?"\\fontfamily{"+e[0].fontFamily+"}"+t:t}))}(0,t)}tp("math",{emitLatexRun:function(e,t,n){let r=e.variant;return e.variantStyle&&"up"!==e.variantStyle&&(r+="-"+e.variantStyle),Cf(Qd(t,"color").map(t=>{const o=Cf(Qd(t,"variant").map(t=>{let o=t[0].variant;if(t[0].variantStyle&&"up"!==t[0].variantStyle&&(o+="-"+t[0].variantStyle),t.every(t=>{const n=qp(t.symbol,e.mode,null);if(!n||!n.variant&&!n.variantStyle)return!1;let r=t.variant;return t.variantStyle&&"up"!==t.variantStyle&&(r+="-"+t.variantStyle),r===o}))return Cf(t.map(e=>e.toLatex(n)));let i="";return o&&o!==r&&(i={calligraphic:"\\mathcal{",fraktur:"\\mathfrak{","double-struck":"\\mathbb{",script:"\\mathscr{",monospace:"\\mathtt{","sans-serif":"\\mathsf{",normal:"\\mathrm{","normal-italic":"\\mathit{","normal-bold":"\\mathbf{","normal-bolditalic":"\\mathbfit{",ams:"","ams-italic":"\\mathit{","ams-bold":"\\mathbf{","ams-bolditalic":"\\mathbfit{",main:"","main-italic":"\\mathit{","main-bold":"\\mathbf{","main-bolditalic":"\\mathbfit{"}[o],console.assert(void 0!==i)),i+Cf(t.map(e=>e.toLatex(n)))+(i?"}":"")}));return!t[0].color||e&&e.color===t[0].color?o:"\\textcolor{"+tf(t[0].color)+"}{"+o+"}"}))},applyStyle:function(e,t){const n="auto"!==t.letterShapeStyle&&t.letterShapeStyle?t.letterShapeStyle:"tex";let r=t.variant||"normal",o=t.variantStyle||"";"normal"===r&&!o&&/\u00a3|\u0131|\u0237/.test(e.body)&&(r="main",o="italic"),"normal"!==r||o||1!==e.body.length||ch.forEach((t,r)=>{t.test(e.body)&&"it"===uh[n][r]&&(o="italic")}),"up"===o&&(o="");const i=o?r+"-"+o:r;console.assert(ah[i]);const[a,s]=ah[i];return sh[r]&&!sh[r].test(e.body)?(e.body=Dp(e.body,r,o),e.variant="",e.variantStyle="",null):(lh.test(e.body)&&(e.classes+=" lcGreek"),s&&(e.classes+=" "+s),a)}});const hh={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"};tp("text",{emitLatexRun:function(e,t,n){const r=function(e,t,n){return Cf(Qd(t,"color").map(t=>{const n=fh(0,t);return!t[0].color||"none"===t[0].color||e&&e.color===t[0].color?n:"\\textcolor{"+tf(t[0].color)+"}{"+n+"}"}))}(e,t);return t.every(e=>e.fontSeries||e.fontShape||e.fontFamily)&&t[0].mode===e.mode?r:`\\text{${r}}`},applyStyle:function(e,t){const n=t.fontFamily;if(hh[n]?e.classes+=" "+hh[n]:n&&e.setStyle("font-family",n),t.fontShape&&(e.classes+=" "+({it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[t.fontShape]||"")),t.fontSeries){const n=t.fontSeries.match(/(.?[lbm])?(.?[cx])?/);n&&(e.classes+=" "+({ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[n[1]||""]||""),e.classes+=" "+({uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[n[2]||""]||""))}return"Main-Regular"},parse:(e,t,n)=>function(e,t,n){let r,o=[];for(;e.length>0;){const i=e.shift();if("<space>"===i)r=new Df("text",""," ",n.style),r.symbol=" ",o.push(r);else if("\\"===i[0]){let t;e.unshift(i),[t,e]=n.parse("text",e,n),o=[...o,...t]}else if("<$>"===i||"<$$>"===i){const t=e.slice(0,e.findIndex(e=>e===i));e=e.slice(t.length+1);const[r]=n.parse("math",t,n);o=[...o,...r]}else if("<{>"===i||"<}>"===i);else{const e=qp(i,"text",n.macros);e&&(!e.mode||e.mode.includes("text"))?(r=new Df("text",e?e.type:"",e?e.value:i,n.style),r.symbol=i,r.latex=Ap("text",i),o.push(r)):t({code:"unexpected-token"})}}return[o,e]}(e,t,n)[0]}),Wp(["ce","pu"],"{chemformula:balanced-string}",null,(e,t)=>({type:"group",mode:"chem",body:jf(gh.go(mh.go(t[0],"\\pu"===e?"pu":"ce"))),latexOpen:"\\"+e+"{",latexClose:"}"}));var mh={go:function(e,t){if(!e)return[];void 0===t&&(t="ce");var n,r="0",o={};o.parenthesisLevel=0,e=(e=(e=e.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var i=10,a=[];;){n!==e?(i=10,n=e):i--;var s=mh.stateMachines[t],l=s.transitions[r]||s.transitions["*"];e:for(var c=0;c<l.length;c++){var u=mh.patterns.match_(l[c].pattern,e);if(u){for(var d=l[c].task,p=0;p<d.action_.length;p++){var f;if(s.actions[d.action_[p].type_])f=s.actions[d.action_[p].type_](o,u.match_,d.action_[p].option);else{if(!mh.actions[d.action_[p].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+d.action_[p].type_+")"];f=mh.actions[d.action_[p].type_](o,u.match_,d.action_[p].option)}mh.concatArray(a,f)}if(r=d.nextState||r,!(e.length>0))return a;if(d.revisit||(e=u.remainder),!d.toContinue)break e}}if(i<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(e,t){if(t)if(Array.isArray(t))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(e){var t=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return t&&t[0]?{match_:t.splice(1),remainder:e.substr(t[0].length)}:null},"(-)(9)^(-9)":function(e){var t=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return t&&t[0]?{match_:t.splice(1),remainder:e.substr(t[0].length)}:null},"state of aggregation $":function(e){var t=mh.patterns.findObserveGroups(e,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(t&&t.remainder.match(/^($|[\s,;\)\]\}])/))return t;var n=e.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return n?{match_:n[0],remainder:e.substr(n[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(e){return mh.patterns.findObserveGroups(e,"^{","","","}")},"^($...$)":function(e){return mh.patterns.findObserveGroups(e,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(e){return mh.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(e){return mh.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(e){return mh.patterns.findObserveGroups(e,"_{","","","}")},"_($...$)":function(e){return mh.patterns.findObserveGroups(e,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(e){return mh.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(e){return mh.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(e){return mh.patterns.findObserveGroups(e,"","{","}","")},"{(...)}":function(e){return mh.patterns.findObserveGroups(e,"{","","","}")},"$...$":function(e){return mh.patterns.findObserveGroups(e,"","$","$","")},"${(...)}$":function(e){return mh.patterns.findObserveGroups(e,"${","","","}$")},"$(...)$":function(e){return mh.patterns.findObserveGroups(e,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(e){return mh.patterns.findObserveGroups(e,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(e){return mh.patterns.findObserveGroups(e,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(e){return mh.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(e){return mh.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(e){return mh.patterns.findObserveGroups(e,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(e){return mh.patterns.findObserveGroups(e,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(e){return mh.patterns.findObserveGroups(e,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(e){return mh.patterns.findObserveGroups(e,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(e){return mh.patterns.findObserveGroups(e,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(e){return mh.patterns.findObserveGroups(e,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(e){return mh.patterns.findObserveGroups(e,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(e){return mh.patterns.findObserveGroups(e,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(e){var t;if(t=e.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:t[0],remainder:e.substr(t[0].length)};var n=mh.patterns.findObserveGroups(e,"","$","$","");return n&&(t=n.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:t[0],remainder:e.substr(t[0].length)}:null},amount2:function(e){return this.amount(e)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(e){if(e.match(/^\([a-z]+\)$/))return null;var t=e.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return t?{match_:t[0],remainder:e.substr(t[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(e,t,n,r,o,i,a,s,l,c){var u=function(e,t){if("string"==typeof t)return 0!==e.indexOf(t)?null:t;var n=e.match(t);return n?n[0]:null},d=u(e,t);if(null===d)return null;if(e=e.substr(d.length),null===(d=u(e,n)))return null;var p=function(e,t,n){for(var r=0;t<e.length;){var o=e.charAt(t),i=u(e.substr(t),n);if(null!==i&&0===r)return{endMatchBegin:t,endMatchEnd:t+i.length};if("{"===o)r++;else if("}"===o){if(0===r)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];r--}t++}return null}(e,d.length,r||o);if(null===p)return null;var f=e.substring(0,r?p.endMatchEnd:p.endMatchBegin);if(i||a){var h=this.findObserveGroups(e.substr(p.endMatchEnd),i,a,s,l);if(null===h)return null;var m=[f,h.match_];return{match_:c?m.join(""):m,remainder:h.remainder}}return{match_:f,remainder:e.substr(p.endMatchEnd)}},match_:function(e,t){var n=mh.patterns.patterns[e];if(void 0===n)throw["MhchemBugP","mhchem bug P. Please report. ("+e+")"];if("function"==typeof n)return mh.patterns.patterns[e](t);var r=t.match(n);return r?{match_:r[2]?[r[1],r[2]]:r[1]?r[1]:r[0],remainder:t.substr(r[0].length)}:null}},actions:{"a=":function(e,t){e.a=(e.a||"")+t},"b=":function(e,t){e.b=(e.b||"")+t},"p=":function(e,t){e.p=(e.p||"")+t},"o=":function(e,t){e.o=(e.o||"")+t},"q=":function(e,t){e.q=(e.q||"")+t},"d=":function(e,t){e.d=(e.d||"")+t},"rm=":function(e,t){e.rm=(e.rm||"")+t},"text=":function(e,t){e.text_=(e.text_||"")+t},insert:function(e,t,n){return{type_:n}},"insert+p1":function(e,t,n){return{type_:n,p1:t}},"insert+p1+p2":function(e,t,n){return{type_:n,p1:t[0],p2:t[1]}},copy:function(e,t){return t},rm:function(e,t){return{type_:"rm",p1:t||""}},text:function(e,t){return mh.go(t,"text")},"{text}":function(e,t){var n=["{"];return mh.concatArray(n,mh.go(t,"text")),n.push("}"),n},"tex-math":function(e,t){return mh.go(t,"tex-math")},"tex-math tight":function(e,t){return mh.go(t,"tex-math tight")},bond:function(e,t,n){return{type_:"bond",kind_:n||t}},"color0-output":function(e,t){return{type_:"color0",color:t[0]}},ce:function(e,t){return mh.go(t)},"1/2":function(e,t){var n=[];t.match(/^[+\-]/)&&(n.push(t.substr(0,1)),t=t.substr(1));var r=t.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return r[1]=r[1].replace(/\$/g,""),n.push({type_:"frac",p1:r[1],p2:r[2]}),r[3]&&(r[3]=r[3].replace(/\$/g,""),n.push({type_:"tex-math",p1:r[3]})),n},"9,9":function(e,t){return mh.go(t,"9,9")}},createTransitions:function(e){var t,n,r,o,i={};for(t in e)for(n in e[t])for(r=n.split("|"),e[t][n].stateArray=r,o=0;o<r.length;o++)i[r[o]]=[];for(t in e)for(n in e[t])for(r=e[t][n].stateArray||[],o=0;o<r.length;o++){var a=e[t][n];if(a.action_){a.action_=[].concat(a.action_);for(var s=0;s<a.action_.length;s++)"string"==typeof a.action_[s]&&(a.action_[s]={type_:a.action_[s]})}else a.action_=[];for(var l=t.split("|"),c=0;c<l.length;c++)if("*"===r[o])for(var u in i)i[u].push({pattern:l[c],task:a});else i[r[o]].push({pattern:l[c],task:a})}return i},stateMachines:{}};mh.stateMachines={ce:{transitions:mh.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(e,t){var n;if((e.d||"").match(/^[0-9]+$/)){var r=e.d;e.d=void 0,n=this.output(e),e.b=r}else n=this.output(e);return mh.actions["o="](e,t),n},"d= kv":function(e,t){e.d=t,e.dType="kv"},"charge or bond":function(e,t){if(e.beginsWithBond){var n=[];return mh.concatArray(n,this.output(e)),mh.concatArray(n,mh.actions.bond(e,t,"-")),n}e.d=t},"- after o/d":function(e,t,n){var r=mh.patterns.match_("orbital",e.o||""),o=mh.patterns.match_("one lowercase greek letter $",e.o||""),i=mh.patterns.match_("one lowercase latin letter $",e.o||""),a=mh.patterns.match_("$one lowercase latin letter$ $",e.o||""),s="-"===t&&(r&&""===r.remainder||o||i||a);!s||e.a||e.b||e.p||e.d||e.q||r||!i||(e.o="$"+e.o+"$");var l=[];return s?(mh.concatArray(l,this.output(e)),l.push({type_:"hyphen"})):(r=mh.patterns.match_("digits",e.d||""),n&&r&&""===r.remainder?(mh.concatArray(l,mh.actions["d="](e,t)),mh.concatArray(l,this.output(e))):(mh.concatArray(l,this.output(e)),mh.concatArray(l,mh.actions.bond(e,t,"-")))),l},"a to o":function(e){e.o=e.a,e.a=void 0},"sb=true":function(e){e.sb=!0},"sb=false":function(e){e.sb=!1},"beginsWithBond=true":function(e){e.beginsWithBond=!0},"beginsWithBond=false":function(e){e.beginsWithBond=!1},"parenthesisLevel++":function(e){e.parenthesisLevel++},"parenthesisLevel--":function(e){e.parenthesisLevel--},"state of aggregation":function(e,t){return{type_:"state of aggregation",p1:mh.go(t,"o")}},comma:function(e,t){var n=t.replace(/\s*$/,"");return n!==t&&0===e.parenthesisLevel?{type_:"comma enumeration L",p1:n}:{type_:"comma enumeration M",p1:n}},output:function(e,t,n){var r,o,i;e.r?(o="M"===e.rdt?mh.go(e.rd,"tex-math"):"T"===e.rdt?[{type_:"text",p1:e.rd||""}]:mh.go(e.rd),i="M"===e.rqt?mh.go(e.rq,"tex-math"):"T"===e.rqt?[{type_:"text",p1:e.rq||""}]:mh.go(e.rq),r={type_:"arrow",r:e.r,rd:o,rq:i}):(r=[],(e.a||e.b||e.p||e.o||e.q||e.d||n)&&(e.sb&&r.push({type_:"entitySkip"}),e.o||e.q||e.d||e.b||e.p||2===n?e.o||e.q||e.d||!e.b&&!e.p?e.o&&"kv"===e.dType&&mh.patterns.match_("d-oxidation$",e.d||"")?e.dType="oxidation":e.o&&"kv"===e.dType&&!e.q&&(e.dType=void 0):(e.o=e.a,e.d=e.b,e.q=e.p,e.a=e.b=e.p=void 0):(e.o=e.a,e.a=void 0),r.push({type_:"chemfive",a:mh.go(e.a,"a"),b:mh.go(e.b,"bd"),p:mh.go(e.p,"pq"),o:mh.go(e.o,"o"),q:mh.go(e.q,"pq"),d:mh.go(e.d,"oxidation"===e.dType?"oxidation":"bd"),dType:e.dType})));for(var a in e)"parenthesisLevel"!==a&&"beginsWithBond"!==a&&delete e[a];return r},"oxidation-output":function(e,t){var n=["{"];return mh.concatArray(n,mh.go(t,"oxidation")),n.push("}"),n},"frac-output":function(e,t){return{type_:"frac-ce",p1:mh.go(t[0]),p2:mh.go(t[1])}},"overset-output":function(e,t){return{type_:"overset",p1:mh.go(t[0]),p2:mh.go(t[1])}},"underset-output":function(e,t){return{type_:"underset",p1:mh.go(t[0]),p2:mh.go(t[1])}},"underbrace-output":function(e,t){return{type_:"underbrace",p1:mh.go(t[0]),p2:mh.go(t[1])}},"color-output":function(e,t){return{type_:"color",color1:t[0],color2:mh.go(t[1])}},"r=":function(e,t){e.r=t},"rdt=":function(e,t){e.rdt=t},"rd=":function(e,t){e.rd=t},"rqt=":function(e,t){e.rqt=t},"rq=":function(e,t){e.rq=t},operator:function(e,t,n){return{type_:"operator",kind_:n||t}}}},a:{transitions:mh.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:mh.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:mh.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(e){if(e.text_){var t={type_:"text",p1:e.text_};for(var n in e)delete e[n];return t}}}},pq:{transitions:mh.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(e,t){return{type_:"state of aggregation subscript",p1:mh.go(t,"o")}},"color-output":function(e,t){return{type_:"color",color1:t[0],color2:mh.go(t[1],"pq")}}}},bd:{transitions:mh.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(e,t){return{type_:"color",color1:t[0],color2:mh.go(t[1],"bd")}}}},oxidation:{transitions:mh.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(e,t){return{type_:"roman numeral",p1:t||""}}}},"tex-math":{transitions:mh.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(e){if(e.o){var t={type_:"tex-math",p1:e.o};for(var n in e)delete e[n];return t}}}},"tex-math tight":{transitions:mh.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(e,t){e.o=(e.o||"")+"{"+t+"}"},output:function(e){if(e.o){var t={type_:"tex-math",p1:e.o};for(var n in e)delete e[n];return t}}}},"9,9":{transitions:mh.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:mh.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(e,t){var n=[];return"+-"===t[0]||"+/-"===t[0]?n.push("\\pm "):t[0]&&n.push(t[0]),t[1]&&(mh.concatArray(n,mh.go(t[1],"pu-9,9")),t[2]&&(t[2].match(/[,.]/)?mh.concatArray(n,mh.go(t[2],"pu-9,9")):n.push(t[2])),t[3]=t[4]||t[3],t[3]&&(t[3]=t[3].trim(),"e"===t[3]||"*"===t[3].substr(0,1)?n.push({type_:"cdot"}):n.push({type_:"times"}))),t[3]&&n.push("10^{"+t[5]+"}"),n},"number^":function(e,t){var n=[];return"+-"===t[0]||"+/-"===t[0]?n.push("\\pm "):t[0]&&n.push(t[0]),mh.concatArray(n,mh.go(t[1],"pu-9,9")),n.push("^{"+t[2]+"}"),n},operator:function(e,t,n){return{type_:"operator",kind_:n||t}},space:function(){return{type_:"pu-space-1"}},output:function(e){var t,n=mh.patterns.match_("{(...)}",e.d||"");n&&""===n.remainder&&(e.d=n.match_);var r=mh.patterns.match_("{(...)}",e.q||"");if(r&&""===r.remainder&&(e.q=r.match_),e.d&&(e.d=e.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.d=e.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),e.q){e.q=e.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.q=e.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var o={d:mh.go(e.d,"pu"),q:mh.go(e.q,"pu")};"//"===e.o?t={type_:"pu-frac",p1:o.d,p2:o.q}:(t=o.d,o.d.length>1||o.q.length>1?t.push({type_:" / "}):t.push({type_:"/"}),mh.concatArray(t,o.q))}else t=mh.go(e.d,"pu-2");for(var i in e)delete e[i];return t}}},"pu-2":{transitions:mh.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(e,t){e.rm+="^{"+t+"}"},space:function(){return{type_:"pu-space-2"}},output:function(e){var t=[];if(e.rm){var n=mh.patterns.match_("{(...)}",e.rm||"");t=n&&""===n.remainder?mh.go(n.match_,"pu"):{type_:"rm",p1:e.rm}}for(var r in e)delete e[r];return t}}},"pu-9,9":{transitions:mh.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(e){var t=[];if(e.text_=e.text_||"",e.text_.length>4){var n=e.text_.length%3;0===n&&(n=3);for(var r=e.text_.length-3;r>0;r-=3)t.push(e.text_.substr(r,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(0,n)),t.reverse()}else t.push(e.text_);for(var o in e)delete e[o];return t},"output-o":function(e){var t=[];if(e.text_=e.text_||"",e.text_.length>4){for(var n=e.text_.length-3,r=0;r<n;r+=3)t.push(e.text_.substr(r,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(r))}else t.push(e.text_);for(var o in e)delete e[o];return t}}}};var gh={go:function(e,t){if(!e)return"";for(var n="",r=!1,o=0;o<e.length;o++){var i=e[o];"string"==typeof i?n+=i:(n+=gh._go2(i),"1st-level escape"===i.type_&&(r=!0))}return t||r||!n||(n="{"+n+"}"),n},_goInner:function(e){return e?gh.go(e,!0):e},_go2:function(e){var t;switch(e.type_){case"chemfive":t="";var n={a:gh._goInner(e.a),b:gh._goInner(e.b),p:gh._goInner(e.p),o:gh._goInner(e.o),q:gh._goInner(e.q),d:gh._goInner(e.d)};n.a&&(n.a.match(/^[+\-]/)&&(n.a="{"+n.a+"}"),t+=n.a+"\\,"),(n.b||n.p)&&(t+="{\\vphantom{X}}",t+="^{\\hphantom{"+(n.b||"")+"}}_{\\hphantom{"+(n.p||"")+"}}",t+="{\\vphantom{X}}",t+="^{\\smash[t]{\\vphantom{2}}\\mathllap{"+(n.b||"")+"}}",t+="_{\\vphantom{2}\\mathllap{\\smash[t]{"+(n.p||"")+"}}}"),n.o&&(n.o.match(/^[+\-]/)&&(n.o="{"+n.o+"}"),t+=n.o),"kv"===e.dType?((n.d||n.q)&&(t+="{\\vphantom{X}}"),n.d&&(t+="^{"+n.d+"}"),n.q&&(t+="_{\\smash[t]{"+n.q+"}}")):"oxidation"===e.dType?(n.d&&(t+="{\\vphantom{X}}",t+="^{"+n.d+"}"),n.q&&(t+="{\\vphantom{X}}",t+="_{\\smash[t]{"+n.q+"}}")):(n.q&&(t+="{\\vphantom{X}}",t+="_{\\smash[t]{"+n.q+"}}"),n.d&&(t+="{\\vphantom{X}}",t+="^{"+n.d+"}"));break;case"rm":t="\\mathrm{"+e.p1+"}";break;case"text":e.p1.match(/[\^_]/)?(e.p1=e.p1.replace(" ","~").replace("-","\\text{-}"),t="\\mathrm{"+e.p1+"}"):t="\\text{"+e.p1+"}";break;case"roman numeral":t="\\mathrm{"+e.p1+"}";break;case"state of aggregation":t="\\mskip2mu "+gh._goInner(e.p1);break;case"state of aggregation subscript":t="\\mskip1mu "+gh._goInner(e.p1);break;case"bond":if(!(t=gh._getBond(e.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+e.kind_+")"];break;case"frac":var r="\\frac{"+e.p1+"}{"+e.p2+"}";t="\\mathchoice{\\textstyle"+r+"}{"+r+"}{"+r+"}{"+r+"}";break;case"pu-frac":var o="\\frac{"+gh._goInner(e.p1)+"}{"+gh._goInner(e.p2)+"}";t="\\mathchoice{\\textstyle"+o+"}{"+o+"}{"+o+"}{"+o+"}";break;case"tex-math":t=e.p1+" ";break;case"frac-ce":t="\\frac{"+gh._goInner(e.p1)+"}{"+gh._goInner(e.p2)+"}";break;case"overset":t="\\overset{"+gh._goInner(e.p1)+"}{"+gh._goInner(e.p2)+"}";break;case"underset":t="\\underset{"+gh._goInner(e.p1)+"}{"+gh._goInner(e.p2)+"}";break;case"underbrace":t="\\underbrace{"+gh._goInner(e.p1)+"}_{"+gh._goInner(e.p2)+"}";break;case"color":t="{\\color{"+e.color1+"}{"+gh._goInner(e.color2)+"}}";break;case"color0":t="\\color{"+e.color+"}";break;case"arrow":var i={rd:gh._goInner(e.rd),rq:gh._goInner(e.rq)},a="\\x"+gh._getArrow(e.r);i.rq&&(a+="[{"+i.rq+"}]"),t=a+=i.rd?"{"+i.rd+"}":"{}";break;case"operator":t=gh._getOperator(e.kind_);break;case"1st-level escape":t=e.p1+" ";break;case"space":t=" ";break;case"entitySkip":case"pu-space-1":t="~";break;case"pu-space-2":t="\\mkern3mu ";break;case"1000 separator":t="\\mkern2mu ";break;case"commaDecimal":t="{,}";break;case"comma enumeration L":t="{"+e.p1+"}\\mkern6mu ";break;case"comma enumeration M":t="{"+e.p1+"}\\mkern3mu ";break;case"comma enumeration S":t="{"+e.p1+"}\\mkern1mu ";break;case"hyphen":t="\\text{-}";break;case"addition compound":t="\\,{\\cdot}\\,";break;case"electron dot":t="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":t="{\\times}";break;case"prime":t="\\prime ";break;case"cdot":t="\\cdot ";break;case"tight cdot":t="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":t="\\times ";break;case"circa":t="{\\sim}";break;case"^":t="uparrow";break;case"v":t="downarrow";break;case"ellipsis":t="\\ldots ";break;case"/":t="/";break;case" / ":t="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return t},_getArrow:function(e){switch(e){case"->":case"→":case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<--\x3e":return"rightleftarrows";case"<=>":case"⇌":return"rightleftharpoons";case"<=>>":return"rightequilibrium";case"<<=>":return"leftequilibrium";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(e){switch(e){case"-":case"1":return"{-}";case"=":case"2":return"{=}";case"#":case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\mathrlap{\\raisebox{-.1em}{$-$}}\\raisebox{.1em}{$\\tripledash$}}";case"~=":case"~--":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}";case"-~-":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$-$}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(e){switch(e){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":case"$\\approx$":return" {}\\approx{} ";case"v":case"(v)":return" \\downarrow{} ";case"^":case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}};const yh={"''":{mode:"math",value:"^{\\doubleprime}"},alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:{mode:"math",value:"\\pi"},"pi ":{mode:"text",value:"\\pi "},Pi:{mode:"math",value:"\\Pi"},theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:{mode:"math",value:"\\nabla"},grad:{mode:"math",value:"\\nabla"},del:{mode:"math",value:"\\partial"},"∞":"\\infty",oo:{mode:"math",after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"∑":{mode:"math",value:"\\sum"},sum:{mode:"math",value:"\\sum_{#?}^{#?}"},prod:{mode:"math",value:"\\prod_{#?}^{#?}"},sqrt:{mode:"math",value:"\\sqrt{#?}"},"∆":{mode:"math",value:"\\differentialD"},"∂":{mode:"math",value:"\\differentialD"},arcsin:{mode:"math",value:"\\arcsin"},arccos:{mode:"math",value:"\\arccos"},arctan:{mode:"math",value:"\\arctan"},sin:{mode:"math",value:"\\sin"},sinh:{mode:"math",value:"\\sinh"},cos:{mode:"math",value:"\\cos"},cosh:{mode:"math",value:"\\cosh"},tan:{mode:"math",value:"\\tan"},tanh:{mode:"math",value:"\\tanh"},sec:{mode:"math",value:"\\sec"},csc:{mode:"math",value:"\\csc"},cot:{mode:"math",value:"\\cot"},log:{mode:"math",value:"\\log"},ln:{mode:"math",value:"\\ln"},exp:{mode:"math",value:"\\exp"},lim:{mode:"math",value:"\\lim_{#?}"},dx:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:{mode:"math",value:"\\forall"},EE:{mode:"math",value:"\\exists"},"!EE":{mode:"math",value:"\\nexists"},"&&":{mode:"math",value:"\\land"},xin:{mode:"math",after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{mode:"math",after:"nothing+letter+closefence",value:"\\in"},"!in":{mode:"math",value:"\\notin"},NN:"\\N",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",PP:"\\P",xx:{mode:"math",value:"\\times"},"+-":{mode:"math",value:"\\pm"},"!=":{mode:"math",value:"\\ne"},">=":{mode:"math",value:"\\ge"},"<=":{mode:"math",value:"\\le"},"<<":{mode:"math",value:"\\ll"},">>":{mode:"math",value:"\\gg"},"~~":{mode:"math",value:"\\approx"},"≈":{mode:"math",value:"\\approx"},"?=":{mode:"math",value:"\\questeq"},"÷":{mode:"math",value:"\\div"},"¬":{mode:"math",value:"\\neg"},":=":{mode:"math",value:"\\coloneq"},"::":{mode:"math",value:"\\Colon"},"(:":{mode:"math",value:"\\langle"},":)":{mode:"math",value:"\\rangle"},beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},"eta ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta "},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},"mu ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu "},nu:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},"nu ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu "},"µ":"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega","Ω":"\\omega",forall:{mode:"math",value:"\\forall"},exists:{mode:"math",value:"\\exists"},"!exists":{mode:"math",value:"\\nexists"},":.":{mode:"math",value:"\\therefore"},liminf:"\\operatorname*{lim~inf}_{#?}",limsup:"\\operatorname*{lim~sup}_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:{mode:"math",value:"\\mod"},max:{mode:"math",value:"\\max"},min:{mode:"math",value:"\\min"},erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:{mode:"math",value:"\\operatorname{bessel}"},mean:{mode:"math",value:"\\operatorname{mean}"},median:{mode:"math",value:"\\operatorname{median}"},fft:{mode:"math",value:"\\operatorname{fft}"},lcm:{mode:"math",value:"\\operatorname{lcm}"},gcd:{mode:"math",value:"\\operatorname{gcd}"},randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:{mode:"math",value:"\\operatorname{Re}"},Im:{mode:"math",value:"\\operatorname{Im}"},mm:{mode:"math",after:"nothing+digit",value:"\\operatorname{mm}"},cm:{mode:"math",after:"nothing+digit",value:"\\operatorname{cm}"},km:{mode:"math",after:"nothing+digit",value:"\\operatorname{km}"},kg:{mode:"math",after:"nothing+digit",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","->":"\\to","|->":"\\mapsto","--\x3e":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot"};function vh(e,t,n){var r;return function(e,t){if(!t)return"";if("string"==typeof t)return t;if(!e)return t.value;let n=!1,r=!1,o=!1,i=!1,a=!1,s=!1,l=!1,c=!1,u=!1,d=!1,p=!1,f=!1,h=!1,m=!1,g=e[e.length-1],y=e.length-1;for(;g&&/msubsup|placeholder/.test(g.type);)y-=1,g=e[y];if(n=!g||"first"===g.type,g){if(void 0!==t.mode&&g.mode!==t.mode)return"";h="text"===g.mode,r=!h&&"mord"===g.type&&zp.test(g.body),o=!h&&"mord"===g.type&&/[0-9]+$/.test(g.body),i=!h&&g.isFunction,a="genfrac"===g.type,s="surd"===g.type,l="mbin"===g.type,c="mrel"===g.type,u="mpunct"===g.type||"minner"===g.type,d=Boolean(g.array),p="mopen"===g.type,f="mclose"===g.type||"leftright"===g.type,m="space"===g.type}return void 0!==t.after?/nothing/.test(t.after)&&n||/letter/.test(t.after)&&r||/digit/.test(t.after)&&o||/function/.test(t.after)&&i||/frac/.test(t.after)&&a||/surd/.test(t.after)&&s||/binop/.test(t.after)&&l||/relop/.test(t.after)&&c||/punct/.test(t.after)&&u||/array/.test(t.after)&&d||/openfence/.test(t.after)&&p||/closefence/.test(t.after)&&f||/text/.test(t.after)&&h||/space/.test(t.after)&&m?t.value:"":t.value}(e,null!==(r=null==n?void 0:n[t])&&void 0!==r?r:yh[t])}function bh(e,t){if(!e)return["latex",""];if(e.length<=1)return["latex",e];if(!t||"ASCIIMath"!==t.format){const t=e.trim();if(t.startsWith("$$")&&t.endsWith("$$")||t.startsWith("\\[")&&t.endsWith("\\]")||t.startsWith("\\(")&&t.endsWith("\\)"))return["latex",t.substring(2,t.length-2)];if(t.startsWith("$")&&t.endsWith("$"))return["latex",t.substring(1,t.length-1)];if(e=e.replace(/\\\\([^\s\n])/g,"\\$1"),/\\/.test(e))return["latex",e]}return e=(e=(e=(e=(e=(e=e.replace(/\u2061/gu,"")).replace(/\u3016/gu,"{")).replace(/\u3017/gu,"}")).replace(/([^\\])sinx/g,"$1\\sin x")).replace(/([^\\])cosx/g,"$1\\cos x ")).replace(/\u2013/g,"-"),[(null==t?void 0:t.format)||"ASCIIMath",wh(e,null!=t?t:{})]}function wh(e,t){var n,r,o,i,a,s,l;if(!e)return"";let c,u=!1;if(u||"^"!==e[0]&&"_"!==e[0]||(c=_h(e.substr(1),{inlineShortcuts:null!==(n=null==t?void 0:t.inlineShortcuts)&&void 0!==n?n:{},noWrap:!0}),e=e[0]+"{"+c.match+"}",e+=wh(c.rest,t),u=!0),!u&&(c=e.match(/^(sqrt|\u221a)(.*)/),c)){c=_h(c[2],{inlineShortcuts:null!==(r=null==t?void 0:t.inlineShortcuts)&&void 0!==r?r:{},noWrap:!0});e="\\sqrt{"+(c.match||"\\placeholder{}")+"}",e+=wh(c.rest,t),u=!0}if(!u&&(c=e.match(/^(\\cbrt|\u221b)(.*)/),c)){c=_h(c[2],{inlineShortcuts:null!==(o=null==t?void 0:t.inlineShortcuts)&&void 0!==o?o:{},noWrap:!0});e="\\sqrt[3]{"+(c.match||"\\placeholder{}")+"}",e+=wh(c.rest,t),u=!0}if(u||(c=e.match(/^abs(.*)/),c&&(c=_h(c[1],{inlineShortcuts:null!==(i=null==t?void 0:t.inlineShortcuts)&&void 0!==i?i:{},noWrap:!0}),e="\\left|"+c.match+"\\right|",e+=wh(c.rest,t),u=!0)),u||(c=e.match(/^["”“](.*?)["”“](.*)/),c&&(e="\\text{"+c[1]+"}",e+=wh(c[2],t),u=!0)),u||(c=e.match(/^([^a-zA-Z({[_^\\\s"]+)(.*)/),c&&(e=kh(c[1],t),e+=wh(c[2],t),u=!0)),!u&&/^(f|g|h)[^a-zA-Z]/.test(e)&&(c=_h(e.substring(1),{inlineShortcuts:null!==(a=t.inlineShortcuts)&&void 0!==a?a:{},noWrap:!0}),e="("===e[1]?e[0]+"\\mleft("+c.match+"\\mright)":e[0]+c.match,e+=wh(c.rest,t),u=!0),u||(c=e.match(/^([a-zA-Z]+)(.*)/),c&&(e=kh(c[1],t),e+=wh(c[2],t),u=!0)),!u)if(c=_h(e,{inlineShortcuts:null!==(s=t.inlineShortcuts)&&void 0!==s?s:{},noWrap:!0}),c.match&&"/"===c.rest[0]){const n=_h(c.rest.substr(1),{inlineShortcuts:null!==(l=t.inlineShortcuts)&&void 0!==l?l:{},noWrap:!0});n.match&&(e="\\frac{"+c.match+"}{"+n.match+"}"+wh(n.rest,t)),u=!0}else c.match&&(e="("===e[0]?"\\left("+c.match+"\\right)"+wh(c.rest,t):c.match+wh(c.rest,t),u=!0);return u||(c=e.match(/^(\s+)(.*)$/),c&&(e=" "+wh(c[2],t),u=!0)),e}function _h(e,t){let n="",r=e=e.trim(),o=e.charAt(0),i={"(":")","{":"}","[":"]"}[o];if(i){let a=1,s=1;for(;s<e.length&&a>0;)e[s]===o&&a++,e[s]===i&&a--,s++;0===a?(t.noWrap&&"("===o?n=wh(e.substring(1,s-1),t):("{"===o&&"}"===i&&(o="\\{",i="\\}"),n="\\left"+o+wh(e.substring(1,s-1),t)+"\\right"+i),r=e.substring(s)):(n=e.substring(1,s),r="")}else{let o=e.match(/^([a-zA-Z]+)/);if(o){let n=vh(null,e,t.inlineShortcuts);if(n)return n=n.replace("_{#?}",""),n=n.replace("^{#?}",""),{match:n,rest:e.substring(n.length)}}if(o=e.match(/^([a-zA-Z])/),o)return{match:o[1],rest:e.substring(1)};if(o=e.match(/^(-)?\d+(\.\d*)?/),o)return{match:o[0],rest:e.substring(o[0].length)};/^\\(left|right)/.test(e)||(o=e.match(/^(\\[a-zA-Z]+)/),o&&(r=e.substring(o[1].length),n=o[1]))}return{match:n,rest:r}}function kh(e,t){let n=vh(null,e,t);return n?(n=n.replace("_{#?}",""),n=n.replace("^{#?}",""),n+=" "):n=e,n}function xh(e){var t;"function"!=typeof(null===(t=e.listeners)||void 0===t?void 0:t.onSelectionDidChange)||e.suppressChangeNotifications||e.listeners.onSelectionDidChange(e)}function Sh(e){var t;"function"!=typeof(null===(t=e.listeners)||void 0===t?void 0:t.onContentDidChange)||e.suppressChangeNotifications||e.listeners.onContentDidChange(e)}function Mh(e){if(e.parent().array)return rh(e.parent().array,e.relation())[e.anchorOffset()];const t=e.siblings();return t[Math.min(t.length-1,e.anchorOffset())]}function Ch(e,t,n=0){let r;if("string"==typeof t)r=Yf(t),r.extent=n;else if(Id(t)){const o=eh(t),i=e.path;e.path=o,0===n&&"placeholder"===Mh(e).type&&(o[o.length-1].offset=e.anchorOffset()-1,n=1),r={path:o,extent:null!=n?n:0},e.path=i}else r=t;const o=0!==Qf(e.path,r.path),i=r.extent!==e.extent;return(o||i)&&(o&&zh(e),e.path=eh(r.path),e.siblings().length<e.anchorOffset()?(console.warn("Invalid selection: "+e.toString()+' in "'+e.root.toLatex(!1)+'"'),e.path=[{relation:"body",offset:0}],e.extent=0):e.extent=r.extent,xh(e)),o||i}function zh(e){const t=e.siblings();if(t&&t.length<=1){let n;const r=e.relation();"numer"===r?n="numerator":"denom"===r?n="denominator":"surd"===e.parent().type&&"body"===r?n="radicand":"overunder"===e.parent().type&&"body"===r?n="base":"underscript"!==r&&"overscript"!==r||(n="annotation"),n&&t.splice(1,0,new Df("math","placeholder","⬚",Oh(e)))}}function Oh(e){const t=0===e.extent?Mh(e):e.sibling(1);let n;if(t&&"first"!==t.type){if("command"===t.type||"composition"===t.type)return{};n={color:t.color,backgroundColor:t.backgroundColor,fontFamily:t.fontFamily,fontShape:t.fontShape,fontSeries:t.fontSeries,fontSize:t.fontSize}}let r=1,o=e.ancestor(r);for(;!n&&o;)o&&(n={color:o.color,backgroundColor:o.backgroundColor,fontFamily:o.fontFamily,fontShape:o.fontShape,fontSeries:o.fontSeries,fontSize:o.fontSize}),r+=1,o=e.ancestor(r);return n}function Eh(e){return!!e&&("mord"===e.type&&/[0-9.]/.test(e.body)||"mpunct"===e.type&&","===e.body)}function Lh(e){const t=e.siblings();if(t.length<=1)return null;let n=Math.min(e.endOffset(),t.length-1);if("command"!==t[n].type)return null;for(;n>0&&"command"===t[n].type;)n-=1;let r=e.startOffset()+1;for(;r<=t.length-1&&"command"===t[r].type;)r+=1;return r>n?{start:n+1,end:r}:null}function Ah(e){const t=Kh(e)?Mh(e):e.sibling(1);let n;if(t){if("command"===t.type)return"command";n=t.mode}let r=1,o=e.ancestor(r);for(;!n&&o;)o&&(n=o.mode),r+=1,o=e.ancestor(r);return n}function Th(e,t=1,n=!0){var r;const o=e.suppressChangeNotifications;e.suppressChangeNotifications=!0;const i=e.clone(),a=e.extent;$h(e,t),"placeholder"===Mh(e).type&&$h(e,t);const s=Zh(e,(e,t)=>"placeholder"===e.type||t.path.length>1&&1===t.siblings().length,t);if(0===s.length){if(Ch(e,i,a),n&&(null===(r=e.hooks)||void 0===r?void 0:r.tabOut)&&e.hooks.tabOut(e,t>0?"forward":"backward")&&document.activeElement){const e=function(){function e(e){return!(!function(e){if(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if(e===document.activeElement||e.contains(document.activeElement))return!1;if("hidden"===getComputedStyle(e).visibility)return!0;const t=e.getBoundingClientRect();if(0===t.width||0===t.height)return!0;for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(e))return!1;return!0}(e)||(n=e,"INPUT"===n.tagName&&"radio"===n.type&&!function(e){if(!e.name)return!0;const t=e.form||e.ownerDocument,n=function(e,t){for(let n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n];return null}(t.querySelectorAll('input[type="radio"][name="'+e.name+'"]'),e.form);return!n||n===e}(n))||t(e)<0);var n}function t(e){const t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?"true"===e.contentEditable?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}return function(n){const r=[],o=[];return Array.from(n.querySelectorAll('input, select, textarea, a[href], button, \n        [tabindex], audio[controls], video[controls],\n        [contenteditable]:not([contenteditable="false"]), details>summary')).filter(e).forEach((e,n)=>{const i=t(e);0===i?r.push(e):o.push({documentOrder:n,tabIndex:i,node:e})}),o.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(r)}(document.body)}();let n=e.indexOf(document.activeElement)+t;n<0&&(n=e.length-1),n>=e.length&&(n=0),e[n].focus()}return e.suppressChangeNotifications=o,!1}return Ch(e,s[0]),"placeholder"===Mh(e).type&&Vh(e,-1),e.announce("move",i),xh(e),e.suppressChangeNotifications=o,!0}function Nh(e,t=0,n=0,r=""){const o=e.path[e.path.length-1].relation;r||(r=o);const i=e.parent();if(!i&&"body"!==r)return!1;const a=r.startsWith("cell");if(!a&&!i[r]||a&&!i.array)return!1;const s=r!==o;e.path[e.path.length-1].relation=r;const l=e.siblings().length;e.path[e.path.length-1].relation=o;const c=e.extent;"end"===n&&(n=l-t-1),Vh(e,n);const u=e.extent!==c;Vh(e,c),t<0&&(t=l+t),t=Math.max(0,Math.min(t,l-1));const d=e.path[e.path.length-1].offset;return(s||d!==t||u)&&(s&&zh(e),e.path[e.path.length-1].relation=r,e.path[e.path.length-1].offset=t,Vh(e,n),xh(e)),!0}function Dh(e,t){var n;t=null!=t?t:{};const r={body:"numer",numer:"denom",denom:"index",index:"overscript",overscript:"underscript",underscript:"subscript",subscript:"superscript"};if(e.anchorOffset()===e.siblings().length-1){zh(e);let o=r[e.relation()];const i=e.parent();for(;o&&!i[o];)o=r[o];if(o)return void Nh(e,0,0,o);if(e.parent().array){const t=oh(e.parent().array);let n=parseInt(e.relation().match(/cell([0-9]*)$/)[1])+1;for(;n<t;){if(rh(e.parent().array,n)&&Nh(e,0,0,"cell"+n))return;n+=1}}if(1===e.path.length)(e.suppressChangeNotifications||!(null===(n=e.hooks)||void 0===n?void 0:n.moveOut)||e.hooks.moveOut(e,"forward"))&&(e.path[0].offset=0);else{const n=!t.iterateAll&&e.parent().skipBoundary;e.path.pop(),n&&Dh(e,t)}return}Nh(e,e.anchorOffset()+1);const o=Mh(e);if(o&&!o.captureSelection){let n;if(o.array){let t=0;n="";const r=oh(o.array);for(;!n&&t<r;)rh(o.array,t)&&(n="cell"+t.toString()),t+=1;return console.assert(n),e.path.push({relation:n,offset:0}),void Nh(e,0,0,n)}for(n="body";n;){if(Id(o[n]))return e.path.push({relation:n,offset:0}),e.insertFirstAtom(),void(!t.iterateAll&&o.skipBoundary&&Dh(e,t));n=r[n]}}}function Ph(e,t){var n;const r={numer:"body",denom:"numer",index:"denom",overscript:"index",underscript:"overscript",subscript:"underscript",superscript:"subscript"};if(!(t=null!=t?t:{}).iterateAll&&1===e.anchorOffset()&&e.parent()&&e.parent().skipBoundary&&Nh(e,0),e.anchorOffset()<1){let t=r[e.relation()];for(;t&&!Nh(e,-1,0,t);)t=r[t];const o=e.parent()?e.parent().type:"none";if("body"!==t||"msubsup"!==o&&"mop"!==o||(t=null),t)return;if(zh(e),e.relation().startsWith("cell")){let t=parseInt(e.relation().match(/cell([0-9]*)$/)[1])-1;for(;t>=0;){if(rh(e.parent().array,t)&&Nh(e,-1,0,"cell"+t))return;t-=1}}return void(1===e.path.length?(e.suppressChangeNotifications||!(null===(n=e.hooks)||void 0===n?void 0:n.moveOut)||e.hooks.moveOut(e,"backward"))&&(e.path[0].offset=e.root.body.length-1):(e.path.pop(),Nh(e,e.anchorOffset()-1)))}const o=Mh(e);if(!o.captureSelection){let t;if(o.array){t="";const n=oh(o.array);let r=n-1;for(;!t&&r<n;)rh(o.array,r)&&(t="cell"+r.toString()),r-=1;return r+=1,console.assert(t),e.path.push({relation:t,offset:rh(o.array,r).length-1}),void Nh(e,-1,0,t)}for(t="superscript";t;){if(Id(o[t]))return e.path.push({relation:t,offset:o[t].length-1}),void Nh(e,-1,0,t);t=r[t]}}Nh(e,e.anchorOffset()-1),!t.iterateAll&&e.sibling(0)&&e.sibling(0).skipBoundary&&Ph(e,t)}function $h(e,t,n){n=null!=n?n:{extend:!1},Xf(e);const r=e.clone();if("upward"===t)!function(e,t){var n,r;const o=null!==(n=(t=null!=t?t:{extend:!1}).extend)&&void 0!==n&&n;Hh(e);const i=e.relation();if("denom"===i)o?(e.path.pop(),e.path[e.path.length-1].offset-=1,Vh(e,1)):Nh(e,e.anchorOffset(),0,"numer"),e.announce("moveUp");else if(e.parent().array){let n=nh(e.parent().array,i);n=ih(e.parent().array,n,-1),n&&rh(e.parent().array,n)?(e.path[e.path.length-1].relation="cell"+th(e.parent().array,n),Nh(e,e.anchorOffset()),e.announce("moveUp")):$h(e,"backward",t)}else if(e.announce("line"),!e.suppressChangeNotifications&&!(null===(r=e.hooks)||void 0===r?void 0:r.moveOut(e,"upward")))return!1}(e,n);else if("downward"===t)!function(e,t){var n,r;const o=null!==(n=(t=null!=t?t:{extend:!1}).extend)&&void 0!==n&&n;Uh(e);const i=e.relation();if("numer"===i)o?(e.path.pop(),e.path[e.path.length-1].offset-=1,Vh(e,1)):Nh(e,e.anchorOffset(),0,"denom"),e.announce("moveDown");else if(e.parent().array){let n=nh(e.parent().array,i);n=ih(e.parent().array,n,1),n&&rh(e.parent().array,n)?(e.path[e.path.length-1].relation="cell"+th(e.parent().array,n),Nh(e,e.anchorOffset()),e.announce("moveDown")):$h(e,"forward",t)}else if(e.announce("line"),!e.suppressChangeNotifications&&!(null===(r=e.hooks)||void 0===r?void 0:r.moveOut(e,"downward")))return!1}(e,n);else{let r="forward"===t?1:"backward"===t?-1:t;if(n.extend)return Rh(e,r);if(r>0)for(Uh(e)&&r--;r>0;)Dh(e),r--;else if(r<0)for(Hh(e)&&r++;0!==r;)Ph(e),r++}return xh(e),e.announce("move",r),!0}function Rh(e,t){let n=e.path[e.path.length-1].offset,r=0;const o=e.clone();r=e.extent+t;const i=n+r;if(i<0&&0!==r){if(e.path.length>1)return e.path.pop(),Vh(e,-1),xh(e),e.announce("move",o),!0;n=e.path[e.path.length-1].offset,r=e.extent}else if(i>=e.siblings().length){if(e.path.length>1)return e.path.pop(),e.path[e.path.length-1].offset-=1,Vh(e,1),xh(e),e.announce("move",o),!0;Kh(e)&&(n-=1),r-=1}return Nh(e,n,r),e.announce("move",o),!0}function Ih(e,t,n){var r;const o=null!==(r=(n=null!=n?n:{extend:!1}).extend)&&void 0!==r&&r;t=t<0?-1:1;const i=e.clone(),a=e.siblings(),s=e.focusOffset();let l=s+t;if(o&&(l=Math.min(Math.max(0,l),a.length-1)),l<0||l>=a.length)$h(e,t,n);else{if(a[l]&&"text"===a[l].mode){if(l=function(e,t,n){n=n<0?-1:1;const r=e.siblings();if(!r[t])return t;if("text"!==r[t].mode)return t;let o;if(Op.test(r[t].body)){let e,i=t;do{e="text"===r[i].mode&&Op.test(r[i].body),i+=n}while(r[i]&&e);o=r[i]?i-2*n:i-n}else if(/\s/.test(r[t].body)){let e=t;for(;r[e]&&"text"===r[e].mode&&/\s/.test(r[e].body);)e+=n;if(r[e]){let t=!0;do{t="text"===r[e].mode&&!/\s/.test(r[e].body),e+=n}while(r[e]&&t);o=r[e]?e-2*n:e-n}else o=e-n}else{let e=t;for(;r[e]&&"text"===r[e].mode&&!/\s/.test(r[e].body);)e+=n;o=r[e]?e:e-n;let i=!0;for(;r[e]&&i;)i="text"===r[e].mode&&/\s/.test(r[e].body),i&&(o=e),e+=n;o=r[e]?e-2*n:e-n}return o-(n>0?0:1)}(e,l,t),l<0&&!o)return void Nh(e,0);if(l>a.length)return Nh(e,a.length-1),void $h(e,t,n)}else{const e=a[l]?a[l].type:"";if("mopen"===e&&t>0||"mclose"===e&&t<0){let n="mopen"===e?1:-1;for(l+=t>0?1:-1;l>=0&&l<a.length&&0!==n;)"mopen"===a[l].type?n+=1:"mclose"===a[l].type&&(n-=1),l+=t;0!==n&&(l=s+t),t>0&&(l-=1)}else{for(;a[l]&&"math"===a[l].mode&&a[l].type===e;)l+=t;l-=t>0?1:0}}if(o){const t=e.anchorOffset();Nh(e,t,l-t)}else Nh(e,l);e.announce("move",i)}}function Fh(e,t=1,n){var r;n=null!=n?n:{extend:!1},t=t<0?-1:1;const o=e.clone(),i=[{relation:"body",offset:e.path[0].offset}];let a;return null!==(r=!n.extend)&&void 0!==r&&r?(i[0].offset=t<0?0:e.root.body.length-1,a=0):t<0?i[0].offset>0&&(a=-i[0].offset):i[0].offset<e.siblings().length-1&&(a=e.siblings().length-1-i[0].offset),Ch(e,i,a),e.announce("move",o),!0}function qh(e){if(Kh(e))return null;const t=[],n=e.siblings(),r=e.startOffset()+1,o=e.endOffset()+1;for(let e=r;e<o;e++)n[e]&&"first"!==n[e].type&&t.push(n[e]);return t}function jh(e){const t=e.siblings();if("text"===Ah(e)){let n=e.startOffset(),r=e.endOffset();for(;t[n]&&"text"===t[n].mode&&Op.test(t[n].body);)n-=1;for(;t[r]&&"text"===t[r].mode&&Op.test(t[r].body);)r+=1;if(r-=1,n>=r)return Nh(e,e.endOffset()-1,1),!0;Nh(e,n,r-n)}else if("mord"===e.sibling(0).type&&/[0-9,.]/.test(e.sibling(0).body)){let n=e.startOffset(),r=e.endOffset();for(;Eh(t[n]);)n-=1;for(;Eh(t[r]);)r+=1;r-=1,Nh(e,n,r-n)}else Nh(e,0,"end");return!0}function Bh(e){return e.path=[{relation:"body",offset:0}],Nh(e,0,"end")}function Kh(e){return 0===e.extent}function Vh(e,t){e.extent=t}function Uh(e){return 0!==e.extent&&(Nh(e,e.endOffset()),!0)}function Hh(e){return 0!==e.extent&&(Nh(e,e.startOffset()),!0)}function Wh(e){if(e.path.length>1){const t=e.clone();return e.path.pop(),Vh(e,0),e.announce("move",t),!0}return e.announce("plonk"),!1}function Xh(e,t,n,r={extendToWordBoundary:!1}){const o=Qf(t,n);if(0===o)return r.extendToWordBoundary?Xh(e,t=Jh(e,t,-1),n=Jh(e,n,1)):Ch(e,eh(t),0);if(1===o){const o=n[n.length-1].offset-t[t.length-1].offset;return r.extendToWordBoundary?Xh(e,t=Jh(e,t,o<0?1:-1),n=Jh(e,n,o<0?-1:1)):Ch(e,eh(t),o)}let i=function(e,t){const n=[],r=Math.min(e.length-1,t.length-1);let o=0;for(;o<=r&&e[o].relation===t[o].relation&&e[o].offset===t[o].offset;)n.push(e[o]),o+=1;return n}(t,n);const a=i.length;if(t.length===a||n.length===a||t[a].relation!==n[a].relation)return Ch(e,i,-1);i.push(t[a]),i=eh(i);let s=n[a].offset-t[a].offset+1;return s<=0?n.length>a+1?(i[a].relation=n[a].relation,i[a].offset=n[a].offset,i[i.length-1].offset-=1,s=2-s):(i[a].relation=n[a].relation,i[a].offset=n[a].offset,s=1-s):n.length<=t.length?i[i.length-1].offset-=1:n.length>t.length&&(i[a].offset-=1),Ch(e,i,s)}function Gh(e,t,n){var r;(n=null!=n?n:{}).recursive=null!==(r=n.recursive)&&void 0!==r&&r;const o=e.siblings(),i=e.startOffset()+1,a=e.endOffset()+1;if(n.recursive)for(let e=i;e<a;e++)o[e]&&"first"!==o[e].type&&o[e].forEach(t);else for(let e=i;e<a;e++)o[e]&&"first"!==o[e].type&&t(o[e])}function Jh(e,t,n){n=n<0?-1:1;const r=new hg;r.path=eh(t),r.root=e.root;let o=0;for(;r.sibling(o)&&"text"===r.sibling(o).mode&&Op.test(r.sibling(o).body);)o+=n;return r.sibling(o)||(o-=n),r.path[r.path.length-1].offset+=o,r.path}function Zh(e,t,n=1){n=n<0?-1:1;const r=[],o=new hg;o.path=eh(e.path),o.extent=e.extent,o.root=e.root,n>=0?Uh(o):(Hh(o),$h(o,"forward"));const i=Mh(o);do{t(Mh(o),o)&&r.push(o.toString()),n>=0?Dh(o,{iterateAll:!0}):Ph(o,{iterateAll:!0})}while(i!==Mh(o));return r}const Yh="apple"===nm()?{id:"apple.en-intl",displayName:"English (international)",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","ı"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","Î"],KeyE:["e","E","´","´"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","˝"],KeyH:["h","H","˙","Ó"],KeyI:["i","I","ˆ","ˆ"],KeyJ:["j","J","∆","Ô"],KeyK:["k","K","˚",""],KeyL:["l","L","¬","Ò"],KeyM:["m","M","µ","Â"],KeyN:["n","N","˜","˜"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®","‰"],KeyS:["s","S","ß","Í"],KeyT:["t","T","†","ˇ"],KeyU:["u","U","¨","¨"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","˛"],KeyY:["y","Y","¥","Á"],KeyZ:["z","Z","Ω","¸"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","ˆ","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["-","_","–","—"],Equal:["=","+","≠","±"],BracketLeft:["[","{","“","”"],BracketRight:["]","}","‘","’"],Backslash:["\\","|","«","»"],Semicolon:[";",":","…","Ú"],Quote:["'",'"',"æ","Æ"],Backquote:["`","˜","`","`"],Comma:[",","<","≤","¯"],Period:[".",">","≥","˘"],Slash:["/","?","÷","¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}}:"windows"===nm()?{id:"windows.en-intl",displayName:"English (international)",platform:"windows",locale:"en",score:0,mapping:{KeyA:["a","A","á","Á"],KeyB:["b","B","",""],KeyC:["c","C","©","¢"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","é","É"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","í","Í"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","ø","Ø"],KeyM:["m","M","µ",""],KeyN:["n","N","ñ","Ñ"],KeyO:["o","O","ó","Ó"],KeyP:["p","P","ö","Ö"],KeyQ:["q","Q","ä","Ä"],KeyR:["r","R","®",""],KeyS:["s","S","ß","§"],KeyT:["t","T","þ","Þ"],KeyU:["u","U","ú","Ú"],KeyV:["v","V","",""],KeyW:["w","W","å","Å"],KeyX:["x","X","",""],KeyY:["y","Y","ü","Ü"],KeyZ:["z","Z","æ","Æ"],Digit1:["1","!","¡","¹"],Digit2:["2","@","²",""],Digit3:["3","#","³",""],Digit4:["4","$","¤","£"],Digit5:["5","%","€",""],Digit6:["6","^","¼",""],Digit7:["7","&","½",""],Digit8:["8","*","¾",""],Digit9:["9","(","‘",""],Digit0:["0",")","’",""],Space:[" "," ","",""],Minus:["-","_","¥",""],Equal:["=","+","×","÷"],BracketLeft:["[","{","«",""],BracketRight:["]","}","»",""],Backslash:["\\","|","¬","¦"],Semicolon:[";",":","¶","°"],Quote:["'",'"',"´","¨"],Backquote:["`","~","",""],Comma:[",","<","ç","Ç"],Period:[".",">","",""],Slash:["/","?","¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}}:{id:"linux.en",displayName:"English",platform:"linux",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},Qh={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},em=[];let tm;function nm(){let e="linux";return(null===navigator||void 0===navigator?void 0:navigator.platform)&&(null===navigator||void 0===navigator?void 0:navigator.userAgent)&&(/^(mac)/i.test(navigator.platform)?e="apple":/^(win)/i.test(navigator.platform)?e="windows":/(android)/i.test(navigator.userAgent)?e="linux":/(iphone)/i.test(navigator.userAgent)||/(ipod)/i.test(navigator.userAgent)||/(ipad)/i.test(navigator.userAgent)?e="apple":/\bCrOS\b/i.test(navigator.userAgent)&&(e="linux")),e}function rm(e){e.platform===nm()&&em.push(e)}function om(e){tm=em.find(t=>e.startsWith(t.locale))}function im(){return null!=tm?tm:em[0]}rm(Yh),rm({id:"apple.french",locale:"fr",displayName:"French",platform:"apple",score:0,mapping:{KeyA:["q","Q","‡","Ω"],KeyB:["b","B","ß","∫"],KeyC:["c","C","©","¢"],KeyD:["d","D","∂","∆"],KeyE:["e","E","ê","Ê"],KeyF:["f","F","ƒ","·"],KeyG:["g","G","ﬁ","ﬂ"],KeyH:["h","H","Ì","Î"],KeyI:["i","I","î","ï"],KeyJ:["j","J","Ï","Í"],KeyK:["k","K","È","Ë"],KeyL:["l","L","¬","|"],KeyM:[",","?","∞","¿"],KeyN:["n","N","~","ı"],KeyO:["o","O","œ","Œ"],KeyP:["p","P","π","∏"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","®","‚"],KeyS:["s","S","Ò","∑"],KeyT:["t","T","†","™"],KeyU:["u","U","º","ª"],KeyV:["v","V","◊","√"],KeyW:["z","Z","Â","Å"],KeyX:["x","X","≈","⁄"],KeyY:["y","Y","Ú","Ÿ"],KeyZ:["w","W","‹","›"],Digit1:["&","1","","´"],Digit2:["é","2","ë","„"],Digit3:['"',"3","“","”"],Digit4:["'","4","‘","’"],Digit5:["(","5","{","["],Digit6:["§","6","¶","å"],Digit7:["è","7","«","»"],Digit8:["!","8","¡","Û"],Digit9:["ç","9","Ç","Á"],Digit0:["à","0","ø","Ø"],Space:[" "," "," "," "],Minus:[")","°","}","]"],Equal:["-","_","—","–"],BracketLeft:["^","¨","ô","Ô"],BracketRight:["$","*","€","¥"],Backslash:["`","£","@","#"],Semicolon:["m","M","µ","Ó"],Quote:["ù","%","Ù","‰"],Backquote:["<",">","≤","≥"],Comma:[";",".","…","•"],Period:[":","/","÷","\\"],Slash:["=","+","≠","±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","•","Ÿ"],NumpadEqual:["=","=","=","="]}}),rm({id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","ß",""],KeyC:["c","C","©"," "],KeyD:["d","D","∂","∆"],KeyE:["e","E","€","€"],KeyF:["f","F","ƒ","ﬁ"],KeyG:["g","G","","ﬂ"],KeyH:["h","H","™"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","¶","¯"],KeyK:["k","K","§","ˇ"],KeyL:["l","L"," ","˘"],KeyM:["m","M","µ","˚"],KeyN:["n","N"," ","˙"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®"," "],KeyS:["s","S","∫"," "],KeyT:["t","T","†","‡"],KeyU:["u","U"," "," "],KeyV:["v","V","√","◊"],KeyW:["w","W","æ","Æ"],KeyX:["x","X","∑","›"],KeyY:["y","Y","¥"," "],KeyZ:["z","Z","Ω","‹"],Digit1:["1","!","|","ı"],Digit2:["2",'"',"@","˝"],Digit3:["3","·","#","•"],Digit4:["4","$","¢","£"],Digit5:["5","%","∞","‰"],Digit6:["6","&","¬"," "],Digit7:["7","/","÷","⁄"],Digit8:["8","(","“","‘"],Digit9:["9",")","”","’"],Digit0:["0","=","≠","≈"],Space:[" "," "," "," "],Minus:["'","?","´","¸"],Equal:["¡","¿","‚","˛"],BracketLeft:["`","^","[","ˆ"],BracketRight:["+","*","]","±"],Backslash:["ç","Ç","}","»"],Semicolon:["ñ","Ñ","~","˜"],Quote:["´","¨","{","«"],Backquote:["<",">","≤","≥"],Comma:[",",";","„",""],Period:[".",":","…","…"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["º","ª","\\","°"]}}),rm({id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","·","#",""],Digit4:["4","$","~",""],Digit5:["5","%","€",""],Digit6:["6","&","¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["¡","¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["ç","Ç","}",""],Semicolon:["ñ","Ñ","",""],Quote:["´","¨","{",""],Backquote:["º","ª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),rm({id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["z","Z","«","<"],Digit1:["1","!","|","¡"],Digit2:["2",'"',"@","⅛"],Digit3:["3","·","#","£"],Digit4:["4","$","~","$"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:["'","?","\\","¿"],Equal:["¡","¿","̃","~"],BracketLeft:["̀","̂","[","̊"],BracketRight:["+","*","]","̄"],Backslash:["ç","Ç","}","̆"],Semicolon:["ñ","Ñ","~","̋"],Quote:["́","̈","{","{"],Backquote:["º","ª","\\","\\"],Comma:[",",";","─","×"],Period:[".",":","·","÷"],Slash:["-","_","̣","̇"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}}),rm({id:"linux.french",locale:"fr",displayName:"French",platform:"apple",score:0,mapping:{KeyA:["q","Q","@","Ω"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:[",","?","́","̋"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["z","Z","«","<"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["w","W","ł","Ł"],Digit1:["&","1","¹","¡"],Digit2:["é","2","~","⅛"],Digit3:['"',"3","#","£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","⅜"],Digit6:["-","6","|","⅝"],Digit7:["è","7","`","⅞"],Digit8:["_","8","\\","™"],Digit9:["ç","9","^","±"],Digit0:["à","0","@","°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:[")","°","]","¿"],Equal:["=","+","}","̨"],BracketLeft:["̂","̈","̈","̊"],BracketRight:["$","£","¤","̄"],Backslash:["*","µ","̀","̆"],Semicolon:["m","M","µ","º"],Quote:["ù","%","̂","̌"],Backquote:["²","~","¬","¬"],Comma:[";",".","─","×"],Period:[":","/","·","÷"],Slash:["!","§","̣","̇"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"]}}),rm({id:"windows.french",locale:"fr",displayName:"French",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["é","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["è","7","`",""],Digit8:["_","8","\\",""],Digit9:["ç","9","^",""],Digit0:["à","0","@",""],Space:[" "," ","",""],Minus:[")","°","]",""],Equal:["=","+","}",""],BracketLeft:["^","¨","",""],BracketRight:["$","£","¤",""],Backslash:["*","µ","",""],Semicolon:["m","M","",""],Quote:["ù","%","",""],Backquote:["²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),rm({id:"windows.german",locale:"de",displayName:"German",platform:"windows",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","µ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"²",""],Digit3:["3","§","³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["ß","?","\\","ẞ"],Equal:["´","`","",""],BracketLeft:["ü","Ü","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["ö","Ö","",""],Quote:["ä","Ä","",""],Backquote:["^","°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}}),rm({id:"apple.german",locale:"de",displayName:"German",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","‹"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","™"],KeyE:["e","E","€","‰"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","Ì"],KeyH:["h","H","ª","Ó"],KeyI:["i","I","⁄","Û"],KeyJ:["j","J","º","ı"],KeyK:["k","K","∆","ˆ"],KeyL:["l","L","@","ﬂ"],KeyM:["m","M","µ","˘"],KeyN:["n","N","~","›"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","«","»"],KeyR:["r","R","®","¸"],KeyS:["s","S","‚","Í"],KeyT:["t","T","†","˝"],KeyU:["u","U","¨","Á"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","Ù"],KeyY:["z","Z","Ω","ˇ"],KeyZ:["y","Y","¥","‡"],Digit1:["1","!","¡","¬"],Digit2:["2",'"',"“","”"],Digit3:["3","§","¶","#"],Digit4:["4","$","¢","£"],Digit5:["5","%","[","ﬁ"],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","˜"],Digit9:["9",")","}","·"],Digit0:["0","=","≠","¯"],Space:[" "," "," "," "],Minus:["ß","?","¿","˙"],Equal:["´","`","'","˚"],BracketLeft:["ü","Ü","•","°"],BracketRight:["+","*","±",""],Backslash:["#","'","‘","’"],Semicolon:["ö","Ö","œ","Œ"],Quote:["ä","Ä","æ","Æ"],Backquote:["<",">","≤","≥"],Comma:[",",";","∞","˛"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","°","„","“"],NumpadEqual:["=","=","=","="]}});const am=[{key:"ctrl+alt+e",command:["insert","\\text{cmd+alt+e}"]},{key:"cmd+alt+a",command:["insert","\\text{cmd+alt+a}"]},{key:"ctrl+alt+a",command:["insert","\\text{ctrl+alt+a}"]},{key:"meta+alt+2",command:["insert","\\text{meta+alt+2}"]},{key:"ctrl+alt+shift+a",command:["insert","\\text{ctrl+alt+shift+a}"]},{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendToPreviousChar"},{key:"shift+[ArrowRight]",command:"extendToNextChar"},{key:"shift+[ArrowUp]",command:"extendUp"},{key:"shift+[ArrowDown]",command:"extendDown"},{key:"[Backspace]",command:"deletePreviousChar"},{key:"alt+[Delete]",command:"deletePreviousChar"},{key:"[Delete]",command:"deleteNextChar"},{key:"alt+[Backspace]",command:"deleteNextChar"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"alt+shift+[ArrowLeft]",command:"extendToPreviousWord"},{key:"alt+shift+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"ctrl+shift+[ArrowLeft]",command:"extendToGroupStart"},{key:"ctrl+shift+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Space]",ifMode:"math",command:"moveAfterParent"},{key:"shift+[Space]",ifMode:"math",command:"moveBeforeParent"},{key:"[Home]",command:"moveToMathFieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathFieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"cmd+shift+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathFieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathFieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"cmd+shift+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",ifMode:"math",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"math",command:"moveToPreviousPlaceholder"},{key:"[Tab]",ifMode:"text",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"text",command:"moveToPreviousPlaceholder"},{key:"[Escape]",ifMode:"math",command:["switchMode","command"]},{key:"\\",ifMode:"math",command:["switchMode","command"]},{key:"alt+[Equal]",ifMode:"math",command:["applyStyle",{mode:"text"}]},{key:"alt+[Equal]",ifMode:"text",command:["applyStyle",{mode:"math"}]},{key:"[Escape]",ifMode:"command",command:["complete",{discard:!0}]},{key:"[Tab]",ifMode:"command",command:["complete",{acceptSuggestion:!0}]},{key:"[Return]",ifMode:"command",command:"complete"},{key:"[Enter]",ifMode:"command",command:"complete"},{key:"shift+[Escape]",ifMode:"command",command:["complete",{discard:!0}]},{key:"[ArrowDown]",ifMode:"command",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"command",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deletePreviousChar"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"[Undo]",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"cmd+shift+y",command:"redo"},{key:"ctrl+shift+z",ifPlatform:"!macos",command:"redo"},{key:"cmd+shift+z",command:"redo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathFieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathFieldEnd"},{key:"ctrl+shift+b",ifPlatform:"macos",command:"extendToPreviousChar"},{key:"ctrl+shift+f",ifPlatform:"macos",command:"extendToNextChar"},{key:"ctrl+shift+p",ifPlatform:"macos",command:"extendUp"},{key:"ctrl+shift+n",ifPlatform:"macos",command:"extendDown"},{key:"ctrl+shift+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"ctrl+shift+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"ctrl+alt+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"ctrl+alt+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"ctrl+shift+alt+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"ctrl+shift+alt+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deletePreviousChar"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteNextChar"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"shift+[Quote]",ifMode:"math",command:["switchMode","text","","“"]},{key:"shift+[Quote]",ifMode:"text",command:["switchMode","math","”",""]},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","$$\\sqrt{#0}$$"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Minus]",ifMode:"math",command:"moveToSubscript"},{key:"alt+[BracketLeft]",ifMode:"math",command:["insert","$$\\left\\lbrack #0 \\right\\rbrack$$"]},{key:"alt+shift+[BracketLeft]",ifMode:"math",command:["insert","$$\\left\\lbrace #0 \\right\\rbrace$$"]},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+;",ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifMode:"math",command:"addRowAfter"},{key:"ctrl+shift+;",ifMode:"math",command:"addRowBefore"},{key:"cmd+shift+;",ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Comma]",ifMode:"math",command:"addColumnAfter"},{key:"cmd+[Comma]",ifMode:"math",command:"addColumnAfter"},{key:"ctrl+shift+[Comma]",ifMode:"math",command:"addColumnAfter"},{key:"cmd+shift+[Comma]",ifMode:"math",command:"addColumnAfter"},{key:"alt+p",ifMode:"math",command:["insert","$$\\pi$$"]},{key:"alt+v",ifMode:"math",command:["insert","$$\\sqrt{#0}$$"]},{key:"alt+w",ifMode:"math",command:["insert","$$\\sum_{i=#?}^{#?}$$"]},{key:"alt+u",ifMode:"math",command:["insert","$$\\cup$$"]},{key:"alt+n",ifMode:"math",command:["insert","$$\\cap$$"]},{key:"alt+o",ifMode:"math",command:["insert","$$\\emptyset$$"]},{key:"alt+d",ifMode:"math",command:["insert","$$\\differentialD$$"]},{key:"alt+shift+o",ifMode:"math",command:["insert","$$\\varnothing$$"]},{key:"alt+shift+d",ifMode:"math",command:["insert","$$\\partial$$"]},{key:"alt+shift+p",ifMode:"math",command:["insert","$$\\prod_{i=#?}^{#?}$$"]},{key:"alt+shift+u",ifMode:"math",command:["insert","$$\\bigcup$$"]},{key:"alt+shift+n",ifMode:"math",command:["insert","$$\\bigcap$$"]},{key:"alt+shift+a",ifMode:"math",command:["insert","$$\\forall$$"]},{key:"alt+shift+e",ifMode:"math",command:["insert","$$\\exists$$"]},{key:"alt+[Digit5]",ifMode:"math",command:["insert","$\\infty$$"]},{key:"alt+[Digit6]",ifMode:"math",command:["insert","$$\\wedge$$"]},{key:"alt+shift+[Digit6]",ifMode:"math",command:["insert","$$\\vee$$"]},{key:"alt+[Digit9]",ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifMode:"math",command:["insert",")"]},{key:"alt+shift+[Backslash]",ifMode:"math",command:["insert","|"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","$$\\backslash$$"]},{key:"/",ifMode:"math",command:["insert","$$\\frac{#@}{#?}$$"]},{key:"alt+/",ifMode:"math",command:["insert","$$\\/$$"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","$$\\frac{#@}{#?}$$"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+[Backquote]",ifMode:"math",command:["insert","$$\\~$$"]},{key:"alt+shift+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleVirtualKeyboard"},{key:"ctrl+alt+[ArrowUp]",command:["speak","parent",{withHighlighting:!1}]},{key:"ctrl+alt+[ArrowDown]",command:["speak","all",{withHighlighting:!1}]}],sm={"\\theta":"alt+q","\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\prod":"alt+shift+p","\\sum":"alt+w","\\int":"alt+b","\\cup":"alt+u","\\cap":"alt+n","\\bigcup":"alt+shift+u","\\bigcap":"alt+shift+n","\\forall":"alt+shift+a","\\exists":"alt+shift+e","\\infty":"alt+[Digit5]","\\wedge":"alt+[Digit5]","\\vee":"alt+shift+[Digit6]","\\differentialD":"alt+d","\\partial":"alt+shift+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"alt+shift+o","\\~":"~"};function lm(e){if((null===navigator||void 0===navigator?void 0:navigator.platform)&&(null===navigator||void 0===navigator?void 0:navigator.userAgent)){let t;if(/^(mac)/i.test(navigator.platform)?t="macos":/^(win)/i.test(navigator.platform)?t="windows":/(android)/i.test(navigator.userAgent)?t="android":/(iphone)/i.test(navigator.userAgent)||/(ipod)/i.test(navigator.userAgent)||/(ipad)/i.test(navigator.userAgent)?t="ios":/\bCrOS\b/i.test(navigator.userAgent)&&(t="chromeos"),e.startsWith("!")&&!e.endsWith(t))return!0;if(e.endsWith(t))return!0}return!1}function cm(e){let t=e;return Id(t)&&(t=t.length>0?t[0]+"("+t.slice(1).join("")+")":""),t}function um(e){var t;const n=lm("macos")||lm("ios"),r=e.split("+");let o="";for(const e of r)!n&&o&&(o+='<span class="ML__shortcut-join">+</span>'),e.startsWith("Key")?o+=e.substr(3,1):e.startsWith("Digit")?o+=e.substr(5,1):o+=null!==(t={cmd:"⌘",meta:n?"⌘":"command",shift:n?"⇧":"shift",alt:n?"⌥":"alt",ctrl:n?"⌃":"control","\n":n?"⏎":"return","[return]":n?"⏎":"return","[enter]":n?"⌤":"enter","[tab]":n?"⇥":"tab","[escape]":"esc","[backspace]":n?"⌫":"backspace","[delete]":n?"⌦":"del","[pageup]":n?"⇞":"page up","[pagedown]":n?"⇟":"page down","[home]":n?"⤒":"home","[end]":n?"⤓":"end","[space]":"space","[equal]":"=","[minus]":"-","[comma]":",","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",bracketLeft:"[",bracketRight:"]",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"⇠",up:"⇡",right:"⇢",down:"⇣","[arrowleft]":"⇠","[arrowup]":"⇡","[arrowright]":"⇢","[arrowdown]":"⇣","[digit0]":"0","[digit1]":"1","[digit2]":"2","[digit3]":"3","[digit4]":"4","[digit5]":"5","[digit6]":"6","[digit7]":"7","[digit8]":"8","[digit9]":"9"}[e.toLowerCase()])&&void 0!==t?t:e.toUpperCase();return o}function dm(e){if(e.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(e.ifPlatform))throw new Error(`Unexpected platform "${e.ifPlatform}" for keybinding ${e.key}`);let t=e.key.split("+");const n=t.pop();let r=e.ifPlatform;if(t=t.map(e=>{const t=e.toLowerCase();if("cmd"===t){if(r&&"macos"!==r&&"ios"!==r)throw new Error('Unexpected "cmd" modifier with platform "'+r+'"');return r||(r=lm("ios")?"ios":"macos"),"meta"}if("win"===t){if(r&&"windows"!==r)throw new Error('Unexpected "win" modifier with platform "'+r+'"');return r="windows","meta"}return t}),!r||lm(r)){if(/^\[(.*)\]$/.test(n))t.push(n);else{const r=function(e){var t,n;const r=null!==(t=im())&&void 0!==t?t:Yh;for(const[t,n]of Object.entries(r.mapping)){if(n[0]===e)return"["+t+"]";if(n[1]===e)return"shift+["+t+"]";if(n[2]===e)return"alt+["+t+"]";if(n[3]===e)return"shift+alt+["+t+"]"}return null!==(n=Qh[e])&&void 0!==n?n:""}(n);if(!r)throw new Error('Invalid keybinding key "'+e.key+'"');t=t.concat(r.split("+"))}return{...e,ifPlatform:r,key:t.join("+")}}}function pm(e,t){const n=[],r=[];return e.forEach(e=>{try{const t=dm(e);t&&n.push(t)}catch(e){r.push(e.message)}}),r.length>0&&t(r),n}function fm(e,t,n,r){const o=t.split(" ");for(const t of o){const o=t.match(/(.*):(.*)/);if(o){const t=null!=r?r:{};"active"===o[2]?t.passive=!1:t[o[2]]=!0,e.addEventListener(o[1],n,t)}else e.addEventListener(t,n,r)}}function hm(e,t,n,r){const o=t.split(" ");for(const t of o){const o=t.match(/(.*):(.*)/);if(o){const t=null!=r?r:{};"active"===o[2]?t.passive=!1:t[o[2]]=!0,e.removeEventListener(o[1],n,t)}else e.removeEventListener(t,n,r)}}function mm(e,t){let n=document.getElementById(e);return n?n.setAttribute("data-refcount",Number(parseInt(n.getAttribute("data-refcount"))+1).toString()):(n=document.createElement("div"),n.setAttribute("aria-hidden","true"),n.setAttribute("data-refcount","1"),n.className=t,n.id=e,document.body.appendChild(n)),n}function gm(e){if(!e)return;const t=parseInt(e.getAttribute("data-refcount"));t<=1?e.remove():e.setAttribute("data-refcount",Number(t-1).toString())}function ym(e){return e.element&&e.element.mathfield===e}function vm(e){const t=function(e){var t,n;return null!==(n=null!==(t=e.querySelector(".ML__caret"))&&void 0!==t?t:e.querySelector(".ML__text-caret"))&&void 0!==n?n:e.querySelector(".ML__command-carett")}(e);if(t){const e=t.getBoundingClientRect();return{x:e.right,y:e.bottom,height:e.height}}return null}function bm(e){const t=e.querySelectorAll(".ML__selected");if(t&&t.length>0){const n={top:1/0,bottom:-1/0,left:1/0,right:-1/0};t.forEach(e=>{const t=e.getBoundingClientRect();t.left<n.left&&(n.left=t.left),t.right>n.right&&(n.right=t.right),t.bottom>n.bottom&&(n.bottom=t.bottom),t.top<n.top&&(n.top=t.top)});const r=e.getBoundingClientRect(),o=n.right-n.left,i=n.bottom-n.top;return n.left=Math.ceil(n.left-r.left+e.scrollLeft),n.right=n.left+o,n.top=Math.ceil(n.top-r.top),n.bottom=n.top+i,n}return null}function wm(e,t,n){let r,o,i,a,s;"object"==typeof n&&(n.default||n.pressed)?(n.default&&t.setAttribute("data-"+e.options.namespace+"command",JSON.stringify(n.default)),n.alt&&t.setAttribute("data-"+e.options.namespace+"command-alt",JSON.stringify(n.alt)),n.altshift&&t.setAttribute("data-"+e.options.namespace+"command-altshift",JSON.stringify(n.altshift)),n.shift&&t.setAttribute("data-"+e.options.namespace+"command-shift",JSON.stringify(n.shift)),n.pressed&&t.setAttribute("data-"+e.options.namespace+"command-pressed",JSON.stringify(n.pressed)),n.pressAndHoldStart&&t.setAttribute("data-"+e.options.namespace+"command-pressAndHoldStart",JSON.stringify(n.pressAndHoldStart)),n.pressAndHoldEnd&&t.setAttribute("data-"+e.options.namespace+"command-pressAndHoldEnd",JSON.stringify(n.pressAndHoldEnd))):t.setAttribute("data-"+e.options.namespace+"command",JSON.stringify(n)),fm(t,"mousedown touchstart:passive",n=>{if("mousedown"!==n.type||1===n.buttons){n.stopPropagation(),"touchstart"!==n.type&&n.preventDefault(),t.classList.add("pressed"),r=Date.now(),"touchstart"===n.type&&(i=n.changedTouches[0].identifier);const a=t.getAttribute("data-"+e.options.namespace+"command-pressed");a&&e.executeCommand(JSON.parse(a));const l=t.getAttribute("data-"+e.options.namespace+"command-pressAndHoldStart");l&&(o=t,s&&clearTimeout(s),s=window.setTimeout((function(){t.classList.contains("pressed")&&e.executeCommand(JSON.parse(l))}),300))}}),fm(t,"mouseleave touchcancel",()=>{t.classList.remove("pressed")}),fm(t,"touchmove:passive",e=>{for(let t=0;t<e.changedTouches.length;t++)if(e.changedTouches[t].identifier===i){const n=document.elementFromPoint(e.changedTouches[t].clientX,e.changedTouches[t].clientY);n!==a&&a&&(a.dispatchEvent(new MouseEvent("mouseleave"),{bubbles:!0}),a=null),n&&(a=n,n.dispatchEvent(new MouseEvent("mouseenter",{bubbles:!0,buttons:1})))}}),fm(t,"mouseenter",e=>{1===e.buttons&&t.classList.add("pressed")}),fm(t,"mouseup touchend click",n=>{if(a){n.stopPropagation(),n.preventDefault();const e=a;return a=null,void e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}))}if(t.classList.remove("pressed"),t.classList.add("active"),"click"===n.type&&0!==n.detail)return n.stopPropagation(),void n.preventDefault();window.setTimeout((function(){t.classList.remove("active")}),150);let i=t.getAttribute("data-"+e.options.namespace+"command-pressAndHoldEnd");const s=Date.now();(t!==o||s<r+300)&&(i=void 0),!i&&n.altKey&&n.shiftKey&&(i=t.getAttribute("data-"+e.options.namespace+"command-altshift")),!i&&n.altKey&&(i=t.getAttribute("data-"+e.options.namespace+"command-alt")),!i&&n.shiftKey&&(i=t.getAttribute("data-"+e.options.namespace+"command-shift")),i||(i=t.getAttribute("data-"+e.options.namespace+"command")),i&&e.executeCommand(JSON.parse(i)),n.stopPropagation(),n.preventDefault()})}const _m={"\\text":"roman text","\\textrm":"roman text","\\textnormal":"roman text","\\textit":"italic text","\\textbf":"bold text","\\texttt":"monospaced text","\\textsf":"sans-serif text","\\mathrm":["roman","(upright)"],"\\mathbf":"bold","\\bf":"bold","\\bold":"bold","\\mathit":"italic","\\mathbb":"blackboard","\\mathscr":"script","\\mathtt":["typewriter","(monospaced)"],"\\mathsf":"sans-serif","\\mathcal":"caligraphic","\\frak":["fraktur","(gothic)"],"\\mathfrak":["fraktur","(gothic)"],"\\textcolor":"text color","\\color":"color","\\forall":"for all","\\exists":"there exists","\\nexists":"there does not exist","\\frac":"fraction","\\dfrac":"display fraction","\\cfrac":"continuous fraction","\\tfrac":"text fraction","\\binom":"binomial coefficient","\\dbinom":"display binomial coefficient","\\tbinom":"text binomial coefficient","\\pdiff":"partial differential","\\vec":"vector","\\check":"caron","\\acute":"acute","\\breve":"breve","\\tilde":"tilde","\\dot":"dot","\\hat":["hat","circumflex"],"\\ddot":"double dot","\\bar":"bar","\\prime":"prime","\\doubleprime":"double prime","\\varnothing":"empty set","\\emptyset":"empty set","\\subseteq":"subset of or <br>equal to","\\supseteq":"superset of or <br>equal to","\\supset":"superset of","\\subset":"subset of","\\partial":"partial derivative","\\bigcup":"union","\\bigcap":"intersection","\\approx":"approximately equal to","\\notin":"not an element of","\\in":["element of","included in"],"\\infty":"infinity","\\land":"logical and","\\sqrt":"square root","\\prod":"product","\\sum":"summation","\\amalg":["amalgamation","coproduct","free product","disjoint union"],"\\cup":"union with","\\cap":"intersection with","\\int":"integral","\\iint":"surface integral","\\oint":"curve integral","\\iiint":"volume integral","\\iff":"if and only if","\\ln":"natural logarithm","\\boldsymbol":"bold","\\setminus":"set subtraction","\\stackrel":"relation with symbol above","\\stackbin":"operator with symbol above","\\underset":"symbol with annotation below","\\overset":"symbol with annotation above","\\hslash":["h-bar","Planck constant"],"\\gtrsim":"greater than or <br>similar to","\\propto":"proportional to","\\equiv":"equivalent to","\\!":["negative thin space","(-3 mu)"],"\\ ":["space","(6 mu)"],"\\,":["thin space","(3 mu)"],"\\:":["medium space","(4 mu)"],"\\;":["thick space","(5 mu)"],"\\quad":["1 em space","(18 mu)"],"\\qquad":["2 em space","(36 mu)"],"\\enskip":["&#189; em space","(9 mu)"],"\\mp":"minus or plus","\\pm":"plus or minus","\\Im":"Imaginary part of","\\Re":"Real part of","\\gothicCapitalR":"Real part of","\\gothicCapitalI":"Imaginary part part of","\\differentialD":"differential d","\\aleph":["aleph","infinite cardinal",'<a target="_blank" href="https://en.wikipedia.org/wiki/Cardinal_number">Wikipedia <big>&#x203A;</big></a>'],"\\beth":["beth","beth number",'<a target="_blank" href="https://en.wikipedia.org/wiki/Beth_number">Wikipedia <big>&#x203A;</big></a>'],"\\gimel":["gimel","gimel function",'<a target="_blank" href="https://en.wikipedia.org/wiki/Gimel_function">Wikipedia <big>&#x203A;</big></a>'],"\\O":"empty set","\\N":"set of <br>natural numbers","\\Z":"set of <br>integers","\\Q":"set of <br>rational numbers","\\C":"set of <br>complex numbers","\\R":"set of <br>real numbers","\\P":"set of <br>prime numbers","\\lesseqqgtr":"less than, equal to or<br> greater than","\\gnapprox":"greater than and <br>not approximately","\\lnapprox":"lesser than and <br>not approximately","\\j":"dotless j","\\i":"dotless i","\\cdot":"centered dot","\\lmoustache":"left moustache","\\rmoustache":"right moustache","\\nabla":["nabla","del","differential vector operator"],"\\square":["square","d’Alembert operator",'<a target="_blank" href="https://en.wikipedia.org/wiki/D%27Alembert_operator">Wikipedia <big>&#x203A;</big></a>'],"\\blacksquare":["black square","end of proof","tombstone","Halmos symbol"],"\\Box":"end of proof","\\colon":["such that","ratio"],"\\coloneq":["is defined by","is assigned"],"\\Colon":["is defined by","as"],"\\_":["underbar","underscore"],"\\ll":"much less than","\\gg":"much greater than","\\doteq":"approximately equal to","\\Doteq":"approximately equal to","\\doteqdot":"approximately equal to","\\cong":["isomorphism of","(for algebras, modules...)"],"\\det":["determinant of","(of a matrix)"],"\\dotplus":"Cartesian product algebra","\\otimes":["tensor product","(of algebras)","Kronecker product","(of matrices)"],"\\oplus":["direct sum","(of modules)"],"\\lb":"base-2 logarithm","\\lg":"base-10 logarithm","\\wp":["Weierstrass P",'<a target="_blank" href="https://en.wikipedia.org/wiki/Weierstrass%27s_elliptic_functions">Wikipedia <big>&#x203A;</big></a>'],"\\wr":["wreath product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Wreath_product">Wikipedia <big>&#x203A;</big></a>'],"\\top":["tautology","Proposition P is universally true"],"\\bot":["contradiction","Proposition P is contradictory"],"\\mid":["probability","of event A given B"],"\\mho":["Siemens","electrical conductance in SI unit",'<a target="_blank" href="https://en.wikipedia.org/wiki/Siemens_(unit)">Wikipedia <big>&#x203A;</big></a>'],"\\Longrightarrow":"implies","\\Longleftrightarrow":"if, and only if,","\\prec":"precedes","\\preceq":"precedes or is equal to","\\succ":"succeedes","\\succeq":"succeedes or is equal to","\\perp":["is perpendicular to","is independent of"],"\\models":["entails","double-turnstyle, models","is a semantic consequence of",'<a target="_blank" href="https://en.wikipedia.org/wiki/Double_turnstile">Wikipedia <big>&#x203A;</big></a>'],"\\vdash":["satisfies","turnstyle, assertion sign","syntactic inference",'<a target="_blank" href="https://en.wikipedia.org/wiki/Turnstile_(symbol)">Wikipedia <big>&#x203A;</big></a>'],"\\implies":["implies","logical consequence"],"\\impliedby":["implied by","logical consequence"],"\\surd":["surd","root of","checkmark"],"\\ltimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rtimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\leftthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rightthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\divideontimes":["divide on times"],"\\curlywedge":"nor","\\curlyvee":"nand","\\simeq":"is group isomorphic with","\\vartriangleleft":["is a normal subgroup of","is an ideal ring of"],"\\circ":["circle","ring","function composition"],"\\rlap":["overlap right","\\rlap{x}o"],"\\llap":["overlap left","o\\llap{/}"],"\\colorbox":["color box","\\colorbox{#fbc0bd}{...}"],"\\ast":["asterisk","reflexive closure (as a superscript)"],"\\bullet":"bullet","\\lim":"limit"};function km(e,t,n){if(!t||0===t.length)return void Mm(e);const r=t,o=function(e,t){const n=jf(e,"math",null,t.options.macros);return hp(pp(Nf({mathstyle:Xd.displaystyle,macros:t.options.macros},n),"ML__base"),"ML__mathlive").toMarkup()}(t,e),i=function(e){let t=_m[e]||"";return Id(t)&&(t=t.join("<br>")),t}(r),a=function(e,t){let n=[];if("string"==typeof t){const e=sm[t];Id(e)?n=e.slice():e&&n.push(e)}const r=cm(t),o=new RegExp("^"+r.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");return e.forEach(e=>{o.test(cm(e.command))&&n.push(e)}),n.map(um)}(e.keybindings,r).join("<br>");let s=n?'<div class="ML__popover__prev-shortcut" role="button" aria-label="Previous suggestion"><span><span>&#x25B2;</span></span></div>':"";s+='<span class="ML__popover__content" role="button">',s+='<div class="ML__popover__command">'+o+"</div>",i&&(s+='<div class="ML__popover__note">'+i+"</div>"),a&&(s+='<div class="ML__popover__shortcut">'+a+"</div>"),s+="</span>",s+=n?'<div class="ML__popover__next-shortcut" role="button" aria-label="Next suggestion"><span><span>&#x25BC;</span></span></div>':"",function(e,t){e.popover.innerHTML=e.options.createHTML(t);const n=vm(e.field);n&&Sm(e,n);e.popover.classList.add("is-visible")}(e,s);let l=e.popover.getElementsByClassName("ML__popover__content");l&&l.length>0&&wm(e,l[0],{default:["complete",{acceptSuggestion:!0}]}),l=e.popover.getElementsByClassName("ML__popover__prev-shortcut"),l&&l.length>0&&wm(e,l[0],"previousSuggestion"),l=e.popover.getElementsByClassName("ML__popover__next-shortcut"),l&&l.length>0&&wm(e,l[0],"nextSuggestion")}function xm(e,t){if(e.element&&e.element.mathfield===e&&e.popover.classList.contains("is-visible"))if(null==t?void 0:t.deferred)window.requestAnimationFrame(()=>xm(e));else if(Mh(e.model)&&"command"===Mh(e.model).type){const t=vm(e.field);t&&Sm(e,t)}else Mm(e)}function Sm(e,t){const n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerWidth-document.documentElement.clientWidth,i=window.innerHeight-document.documentElement.clientHeight,a=e.virtualKeyboardVisible?e.virtualKeyboard.element.offsetHeight:0;t.x+e.popover.offsetWidth/2>r-o?e.popover.style.left=r-e.popover.offsetWidth-o+"px":t.x-e.popover.offsetWidth/2<0?e.popover.style.left="0":e.popover.style.left=t.x-e.popover.offsetWidth/2+"px",t.y+e.popover.offsetHeight+5>n-i-a?(e.popover.classList.add("ML__popover--reverse-direction"),e.popover.style.top=t.y-t.height-e.popover.offsetHeight-5+"px"):(e.popover.classList.remove("ML__popover--reverse-direction"),e.popover.style.top=t.y+5+"px")}function Mm(e){e.popover.classList.remove("is-visible")}function Cm(e,t=!1){var n;let r="";const o=Lh(e);if(o){const i=t?e.anchorOffset()+1:o.end,a=e.siblings();for(let e=o.start;e<i;e++)r+=null!==(n=a[e].body)&&void 0!==n?n:""}return r}function zm(e,t){const n=Lh(e);if(n){const r=e.siblings();for(let e=n.start;e<n.end;e++)r[e].isError=t}}function Om(e,t){const n=Lh(e);if(n){if(t){e.siblings().splice(n.start,n.end-n.start,...t);const r=[];for(const e of t)e.forEach(e=>{"placeholder"===e.type&&r.push(e)});Vh(e,0),e.path[e.path.length-1].offset=n.start-1,0!==r.length&&Th(e,1,!1)||Nh(e,n.start+t.length-1)}else e.siblings().splice(n.start,n.end-n.start),Nh(e,n.start-1,0);Sh(e)}}function Em(e){const t=e.suppressChangeNotifications;e.suppressChangeNotifications=!0,function e(t){if(t)if(Id(t))for(let n=t.length-1;n>=0;n--)"command"===t[n].type?t.splice(n,1):e(t[n]);else if(e(t.body),e(t.superscript),e(t.subscript),e(t.underscript),e(t.overscript),e(t.numer),e(t.denom),e(t.index),t.array)for(let n=oh(t.array);n>=0;n--)e(rh(t.array,n))}(e.root.body),e.suppressChangeNotifications=t,Sh(e)}const Lm={"\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrace":"{","\\rbrace":"}","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉","\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};function Am(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Tm(e,t){return e&&t.generateID?' extid="'+e+'"':""}function Nm(e,t,n){let r=!1;t=t||e.atoms.length;let o="",i="",a=-1,s=-1;const l=e.atoms[e.index];if(e.index<t&&("mord"===l.type||"textord"===l.type)&&"0123456789,.".indexOf(l.body)<0&&(i=Vm(l,n),l.superscript&&(a=e.index),l.subscript&&(s=e.index),e.index+=1),i.length>0){if(r=!0,Dm(e)&&(a=e.index,e.index+=1),Pm(e)&&(s=e.index,e.index+=1),a>=0&&s>=0)o="<msubsup>"+i,o+=jm(e.atoms[s].subscript,0,0,n).mathML,o+=jm(e.atoms[a].superscript,0,0,n).mathML,o+="</msubsup>";else if(a>=0){if(o="<msup>"+i,Dm(e)){const t=jm(e.atoms[a].superscript,0,0,n).mathML,r=jm(e.atoms[a+1].superscript,0,0,n).mathML;o+="<mi>′</mi>"!==t&&"<mi>&#x2032;</mi>"!==t||"<mi>′</mi>"!==r&&"<mi>&#x2032;</mi>"!==r?"<mi>′</mi>"===t||"<mi>&#x2032;</mi>"===t?"<mi>&#x2032;</mi>":t:"<mi>&#x2033;</mi>"}else o+=jm(e.atoms[a].superscript,0,0,n).mathML;o+="</msup>"}else s>=0?(o="<msub>"+i,o+=jm(e.atoms[s].subscript,0,0,n).mathML,o+="</msub>"):o=i;"mi"!==e.lastType&&"mn"!==e.lastType&&"mtext"!==e.lastType&&"fence"!==e.lastType||/^<mo>(.*)<\/mo>$/.test(o)||(o="<mo>&#8290;</mo>"+o),i.endsWith(">f</mi>")||i.endsWith(">g</mi>")?(o+="<mo>&x2061;</mo>",e.lastType="applyfunction"):e.lastType=/^<mo>(.*)<\/mo>$/.test(o)?"mo":"mi",e.mathML+=o}return r}function Dm(e){return e.index<e.atoms.length&&e.atoms[e.index].superscript&&"msubsup"===e.atoms[e.index].type}function Pm(e){return e.index<e.atoms.length&&e.atoms[e.index].subscript&&"msubsup"===e.atoms[e.index].type}function $m(e,t,n){let r=!1,o="",i=t.atoms[t.index-1];return!!i&&(i.superscript||i.subscript||(Dm(t)||Pm(t))&&(i=t.atoms[t.index],t.index+=1),!!i&&(i.superscript&&i.subscript?(o="<msubsup>"+e,o+=jm(i.subscript,0,0,n).mathML,o+=jm(i.superscript,0,0,n).mathML,o+="</msubsup>"):i.superscript?(o="<msup>"+e,o+=jm(i.superscript,0,0,n).mathML,o+="</msup>"):i.subscript&&(o="<msub>"+e,o+=jm(i.subscript,0,0,n).mathML,o+="</msub>"),o.length>0&&(r=!0,t.mathML+=o,t.lastType=""),r))}function Rm(e,t,n){let r=!1;t=t||e.atoms.length;const o=e.index;let i="";for(;e.index<t&&"text"===e.atoms[e.index].mode;)i+=e.atoms[e.index].body?e.atoms[e.index].body:" ",e.index+=1;return i.length>0&&(r=!0,i="<mtext"+Tm(e.atoms[o].id,n)+">"+i+"</mtext>",e.mathML+=i,e.lastType="mtext"),r}function Im(e,t,n){let r=!1;t=t||e.atoms.length;const o=e.index;let i="",a=function(e){let t=-1,n=e.index,r=!1,o=!1;for(;n<e.atoms.length&&!r&&!o;)r="mord"!==e.atoms[n].type||"0123456789,.".indexOf(e.atoms[n].body)<0,o=!r&&e.atoms[n].superscript,n++;return o&&(t=n-1),t}(e);for(a>=0&&a<t&&(t=a);e.index<t&&"mord"===e.atoms[e.index].type&&"0123456789,.".indexOf(e.atoms[e.index].body)>=0;)i+=e.atoms[e.index].body,e.index+=1;return i.length>0&&(r=!0,i="<mn"+Tm(e.atoms[o].id,n)+">"+i+"</mn>",a<0&&Dm(e)&&(a=e.index,e.index+=1),a>=0&&(i="<msup>"+i,i+=jm(e.atoms[a].superscript,0,0,n).mathML,i+="</msup>"),e.mathML+=i,e.lastType="mn"),r}function Fm(e,t,n){let r=!1;t=t||e.atoms.length;let o="",i="";if(e.index<t&&"mopen"===e.atoms[e.index].type){let a=!1,s=0;const l=e.index;let c=-1,u=l+1;for(;u<t&&!a;)"mopen"===e.atoms[u].type?s+=1:"mclose"===e.atoms[u].type&&(s-=1),-1===s&&(a=!0,c=u),u+=1;a&&(o="<mrow>",o+=Bm(e.atoms[l],n),o+=jm(e.atoms,l+1,c,n).mathML,o+=Bm(e.atoms[c],n),o+="</mrow>","mi"!==e.lastType&&"mn"!==e.lastType&&"mfrac"!==e.lastType&&"fence"!==e.lastType||(o="<mo>&#8290;</mo>"+o),e.index=c+1,$m(o,e,n)&&(r=!0,e.lastType="",o=""),i="fence")}return o.length>0&&(r=!0,e.mathML+=o,e.lastType=i),r}function qm(e,t,n){let r=!1;t=t||e.atoms.length;let o="",i="";const a=e.atoms[e.index];if(e.index<t&&("mbin"===a.type||"mrel"===a.type))o+=Vm(e.atoms[e.index],n),e.index+=1,i="mo";else if(e.index<t&&"mop"===a.type){if("limits"===a.limits&&(a.superscript||a.subscript)){const e=Bm(a,n);a.superscript&&a.subscript?(o+=("nolimits"!==a.limits?"<munderover>":"<msubsup>")+e,o+=jm(a.subscript,0,0,n).mathML,o+=jm(a.superscript,0,0,n).mathML,o+="nolimits"!==a.limits?"</munderover>":"</msubsup>"):a.superscript?(o+=("nolimits"!==a.limits?"<mover>":"<msup>")+e,o+=jm(a.superscript,0,0,n).mathML,o+="nolimits"!==a.limits?"</mover>":"</msup>"):(o+=("nolimits"!==a.limits?"<munder>":"<msub>")+e,o+=jm(a.subscript,0,0,n).mathML,o+="nolimits"!==a.limits?"</munder>":"</msub>"),i="mo"}else{const t=e.atoms[e.index],a="\\operatorname"===t.symbol,s=a?'<mi class="MathML-Unit"'+Tm(t.id,n)+">"+Km(t.body)+"</mi>":Bm(t,n);o+=s,e.index+=1,$m(o,e,n)&&(r=!0,e.lastType="",o=""),e.index-=1,a||/^<mo>(.*)<\/mo>$/.test(s)?i=a?"mi":"mo":(o+="<mo>&#x2061;</mo>",i="applyfunction")}"mi"!==e.lastType&&"mn"!==e.lastType||/^<mo>(.*)<\/mo>$/.test(o)||(o="<mo>&#8290;</mo>"+o),e.index+=1}return o.length>0&&(r=!0,e.mathML+=o,e.lastType=i),r}function jm(e,t,n,r){const o={atoms:e,index:null!=t?t:0,mathML:"",lastType:""};if("number"==typeof e||"boolean"==typeof e)o.mathML=e.toString();else if("string"==typeof e)o.mathML=e;else if(e instanceof Df)o.mathML=Vm(e,r);else if(Array.isArray(e)){let t=0;for(n=n||(e?e.length:0);o.index<n;)if(Rm(o,n,r)||Im(o,n,r)||Nm(o,n,r)||qm(o,n,r)||Fm(o,n,r))t+=1;else if(o.index<n){let e=Vm(o.atoms[o.index],r);"mn"===o.lastType&&e.length>0&&"genfrac"===o.atoms[o.index].type&&(e="<mo>&#x2064;</mo>"+e),"genfrac"===o.atoms[o.index].type?o.lastType="mfrac":o.lastType="",e.length>0&&(o.mathML+=e,t+=1),o.index+=1}t>1&&(o.mathML="<mrow>"+o.mathML+"</mrow>")}return o}function Bm(e,t){let n="";const r=Km(e.body);return r&&(n="<mo"+Tm(e.id,t)+">"+r+"</mo>"),n}function Km(e){if(!e)return"";if("string"==typeof e)return Am(e);if(!Array.isArray(e)&&"string"==typeof e.body)return Am(e.body);let t="";for(const n of e)"string"==typeof n.body&&(t+=n.body);return Am(t)}function Vm(e,t){var n,r,o,i,a,s,l,c,u,d,p,f;const h={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋"},m={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."},g={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5};let y,v,b,w,_,k,x="",S="",M={cal:"script",frak:"fraktur",bb:"double-struck",scr:"script",cmtt:"monospace",cmss:"sans-serif"}[e.fontFamily||e.font]||"";M&&(M=' mathvariant="'+M+'"');const C=e.symbol;if("text"===e.mode)x="<mi"+Tm(e.id,t)+">"+e.body+"</mi>";else switch(e.type){case"first":break;case"group":case"root":x=jm(e.body,0,0,t).mathML;break;case"array":if((e.leftDelim&&"."!==e.leftDelim||e.rightDelim&&"."!==e.rightDelim)&&(x+="<mrow>",e.leftDelim&&"."!==e.leftDelim&&(x+="<mo>"+(Lm[e.leftDelim]||e.leftDelim)+"</mo>")),x+="<mtable",e.colFormat){for(x+=' columnalign="',b=0;b<e.colFormat.length;b++)e.colFormat[b].align&&(x+={l:"left",c:"center",r:"right"}[e.colFormat[b].align]+" ");x+='"'}for(x+=">",v=0;v<e.array.length;v++){for(x+="<mtr>",y=0;y<e.array[v].length;y++)x+="<mtd>"+jm(e.array[v][y],0,0,t).mathML+"</mtd>";x+="</mtr>"}x+="</mtable>",(e.leftDelim&&"."!==e.leftDelim||e.rightDelim&&"."!==e.rightDelim)&&(e.rightDelim&&"."!==e.rightDelim&&(x+="<mo>"+(Lm[e.leftDelim]||e.rightDelim)+"</mo>"),x+="</mrow>");break;case"genfrac":(e.leftDelim||e.rightDelim)&&(x+="<mrow>"),e.leftDelim&&"."!==e.leftDelim&&(x+="<mo"+Tm(e.id,t)+">"+(Lm[e.leftDelim]||e.leftDelim)+"</mo>"),e.hasBarLine?(x+="<mfrac>",x+=jm(e.numer,0,0,t).mathML||"<mi>&nbsp;</mi>",x+=jm(e.denom,0,0,t).mathML||"<mi>&nbsp;</mi>",x+="</mfrac>"):(x+="<mtable"+Tm(e.id,t)+">",x+="<mtr>"+jm(e.numer,0,0,t).mathML+"</mtr>",x+="<mtr>"+jm(e.denom,0,0,t).mathML+"</mtr>",x+="</mtable>"),e.rightDelim&&"."!==e.rightDelim&&(x+="<mo"+Tm(e.id,t)+">"+(Lm[e.rightDelim]||e.rightDelim)+"</mo>"),(e.leftDelim||e.rightDelim)&&(x+="</mrow>");break;case"surd":e.index?(x+="<mroot"+Tm(e.id,t)+">",x+=jm(e.body,0,0,t).mathML,x+=jm(e.index,0,0,t).mathML,x+="</mroot>"):(x+="<msqrt"+Tm(e.id,t)+">",x+=jm(e.body,0,0,t).mathML,x+="</msqrt>");break;case"leftright":x="<mrow>",e.leftDelim&&"."!==e.leftDelim&&(x+="<mo"+Tm(e.id,t)+">"+(Lm[e.leftDelim]||e.leftDelim)+"</mo>"),e.body&&(x+=jm(e.body,0,0,t).mathML),e.rightDelim&&"."!==e.rightDelim&&(x+="<mo"+Tm(e.id,t)+">"+(Lm[e.rightDelim]||e.rightDelim)+"</mo>"),x+="</mrow>";break;case"sizeddelim":case"delim":x+='<mo separator="true"'+Tm(e.id,t)+">"+(Lm[e.delim]||e.delim)+"</mo>";break;case"accent":x+='<mover accent="true"'+Tm(e.id,t)+">",x+=jm(e.body,0,0,t).mathML,x+="<mo>"+(Lm[C]||e.accent)+"</mo>",x+="</mover>";break;case"line":case"overlap":break;case"overunder":_=e.overscript,w=e.underscript,(e.svgAbove||_)&&(e.svgBelow||w)?k=e.body:_&&_.length>0?(k=e.body,(null===(r=null===(n=e.body)||void 0===n?void 0:n[0])||void 0===r?void 0:r.underscript)?(w=e.body[0].underscript,k=e.body[0].body):"first"===(null===(i=null===(o=e.body)||void 0===o?void 0:o[0])||void 0===i?void 0:i.type)&&(null===(s=null===(a=e.body)||void 0===a?void 0:a[1])||void 0===s?void 0:s.underscript)&&(w=e.body[1].underscript,k=e.body[1].body)):w&&w.length>0&&(k=e.body,(null===(c=null===(l=e.body)||void 0===l?void 0:l[0])||void 0===c?void 0:c.overscript)?(_=e.body[0].overscript,k=e.body[0].body):"first"===(null===(d=null===(u=e.body)||void 0===u?void 0:u[0])||void 0===d?void 0:d.type)&&(null===(f=null===(p=e.body)||void 0===p?void 0:p[1])||void 0===f?void 0:f.overscript)&&(_=e.body[1].overscript,k=e.body[1].body)),(e.svgAbove||_)&&(e.svgBelow||w)?(x+=`<munderover ${M} ${Tm(e.id,t)}>`,x+=h[e.svgBody]||jm(k,0,0,t).mathML,x+=h[e.svgBelow]||jm(w,0,0,t).mathML,x+=h[e.svgAbove]||jm(_,0,0,t).mathML,x+="</munderover>"):e.svgAbove||_?(x+=`<mover ${M} ${Tm(e.id,t)}>`+(h[e.svgBody]||jm(k,0,0,t).mathML),x+=h[e.svgAbove]||jm(_,0,0,t).mathML,x+="</mover>"):(e.svgBelow||w)&&(x+=`<munder ${M} ${Tm(e.id,t)}>`+(h[e.svgBody]||jm(k,0,0,t).mathML),x+=h[e.svgBelow]||jm(w,0,0,t).mathML,x+="</munder>");break;case"placeholder":case"mord":{x=m[C]||C||("string"==typeof e.body?e.body:"");const n=C?C.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):null;n?x="&#x"+n[1]+";":x.length>0&&"\\"===x.charAt(0)&&(x="string"==typeof e.body&&e.body.charCodeAt(0)>255?"&#x"+("000000"+e.body.charCodeAt(0).toString(16)).substr(-4)+";":"string"==typeof e.body?e.body.charAt(0):e.body);const r=/\d/.test(x)?"mn":"mi";x="<"+r+M+Tm(e.id,t)+">"+Am(x)+"</"+r+">";break}case"mbin":case"mrel":case"textord":case"minner":x=C&&m[C]?"<mi"+Tm(e.id,t)+">"+m[C]+"</mi>":C&&Lm[C]?"<mo"+Tm(e.id,t)+">"+Lm[C]+"</mo>":Bm(e,t);break;case"mpunct":x='<mo separator="true"'+Tm(e.id,t)+">"+(Lm[C]||C)+"</mo>";break;case"mop":"​"!==e.body&&(x="<mo"+Tm(e.id,t)+">",x+="\\operatorname"===C?e.body:C||e.body,x+="</mo>");break;case"mathstyle":break;case"box":x='<menclose notation="box"',e.backgroundcolor&&(x+=' mathbackground="'+ef(e.backgroundcolor)+'"'),x+=Tm(e.id,t)+">"+jm(e.body,0,0,t).mathML+"</menclose>";break;case"spacing":x+='<mspace width="'+(g[C]||0)+'em"/>';break;case"enclose":x='<menclose notation="';for(const t in e.notation)Object.prototype.hasOwnProperty.call(e.notation,t)&&e.notation[t]&&(x+=S+t,S=" ");x+=Tm(e.id,t)+'">'+jm(e.body,0,0,t).mathML+"</menclose>";break;case"space":x+="&nbsp;";break;case"msupsub":case"phantom":case"composition":break;default:console.log("In conversion to MathML, unknown type : "+e.type)}return x}function Um(e,t){return jm(e,0,0,t).mathML}function Hm(e){let t=0;for(let n=0;n<e.length;n++)t=31*t+e.charCodeAt(n),t|=0;return Math.abs(t)}function Wm(e){e.dirty||(e.dirty=!0,requestAnimationFrame(()=>{ym(e)&&e.dirty&&Xm(e)}))}function Xm(e,t){t=null!=t?t:{},e.dirty=!1,window.mathlive||(window.mathlive={}),Mh(e.model)||(console.warn("Invalid selection, resetting it. "+Zf(e.model.path)),e.model.path=[{relation:"body",offset:0}]),e.model.root.forEach(e=>{e.caret="",e.isSelected=!1,e.containsCaret=!1});const n=e.hasFocus();if(Kh(e.model)?Mh(e.model).caret=n&&!e.options.readOnly?e.mode:"":Gh(e.model,e=>{e.isSelected=!0}),n&&!e.options.readOnly){let t=e.model.ancestor(1),n=1,r=!1;for(;t&&!r;)"surd"!==t.type&&"leftright"!==t.type||(t.containsCaret=!0,r=!0),n+=1,t=e.model.ancestor(n)}const r=pp(Nf({mathstyle:Xd.displaystyle,letterShapeStyle:e.options.letterShapeStyle,atomIdsSettings:{seed:Hm(e.model.root.toLatex(!1)),groupNumbers:t.forHighlighting},smartFence:e.options.smartFence,macros:e.options.macros},e.model.root),"ML__base");r.attributes={translate:"no","aria-hidden":"true"};const o=hp(r,"ML__mathlive");e.field.innerHTML=e.options.createHTML(o.toMarkup(0,e.options.horizontalSpacingScale)),e.field.classList.toggle("ML__focused",n&&!e.options.readOnly),e.accessibleNode.innerHTML=e.options.createHTML('<math xmlns="http://www.w3.org/1998/Math/MathML">'+Um(e.model.root,e.options)+"</math>");const i=bm(e.field);if(null!==i){const t=document.createElement("div");t.classList.add("ML__selection"),t.style.position="absolute",t.style.left=Number(i.left).toString()+"px",t.style.top=Number(i.top).toString()+"px",t.style.width=Number(Math.ceil(i.right-i.left)).toString()+"px",t.style.height=Number(Math.ceil(i.bottom-i.top-1)).toString()+"px",e.field.insertBefore(t,e.field.childNodes[0])}}const Gm={};function Jm(e,t){t=null!=t?t:{target:"mathfield",canUndo:!1},Object.keys(e).forEach(n=>{console.assert(!Gm[n],"Selector already defined: ",n),Gm[n]={...t,fn:e[n]}})}function Zm(e,t=",",n){if(!e)return[];let r,o=[];for(let i of e)i&&i.length>0&&"first"===i[0].type&&(i=i.slice(1)),i&&i.length>0&&(r?o.push(r):r=new Df("math","mpunct",t,n),o=o.concat(i));return o}function Ym(e,t){const n=e.parent();if(n&&"array"===n.type&&Id(n.array)){const r=e.relation();if(n.array){const o=nh(n.array,r);"after row"===t||"before row"===t?(o.col=0,o.row=o.row+("after row"===t?1:0),n.array.splice(o.row,0,[[]])):(o.col+="after column"===t?1:0,n.array[o.row].splice(o.col,0,[]));const i=th(n.array,o);e.path.pop(),e.path.push({relation:"cell"+i.toString(),offset:0}),e.insertFirstAtom()}}}function Qm(e){var t;const n=e.parent();if("leftright"===n.type){n.type="array";const r=null!==(t={"(":"pmatrix","\\lbrack":"bmatrix","\\lbrace":"cases"}[n.leftDelim])&&void 0!==t?t:"matrix",o=Fp(r),i=[[n.body]];Object.assign(n,o.parser(r,[],i)),n.mode=Ah(e),n.environmentName=r,n.array=i,n.rowGaps=[0],delete n.body,e.path[e.path.length-1].relation="cell0"}}function eg(e){return Qm(e),Ym(e,"after row"),Sh(e),!0}function tg(e){return Qm(e),Ym(e,"after column"),Sh(e),!0}function ng(e,t=0){const n=e.suppressChangeNotifications;if(e.suppressChangeNotifications=!0,t=t<0?-1:t>0?1:t,Xf(e),e.parent().array&&t<0&&0===e.startOffset()){const t=e.parent().array;if(function(e){const t={col:0,row:0};for(;t.row<e.length&&!rh(e,t);)t.row+=1;return rh(e,t)?"cell"+th(e,t):""}(t)===e.relation()){const n=function(e,t=[";",","],n){let r,o=[];for(const i of e)r?o.push(r):r=new Df("math","mpunct",t[0],n),o=o.concat(Zm(i,t[1]));return o}(t);e.path.pop(),e.siblings().splice(e.anchorOffset(),1,...n),Nh(e,e.anchorOffset()-1,n.length)}else{const n=nh(t,e.relation());if(0===n.col){const r=ih(t,n,-1);r.col=t[r.row].length-1,e.path[e.path.length-1].relation="cell"+th(t,r);const o=t[r.row][r.col].length,i=Zm(t[n.row]);t[r.row][r.col]=t[r.row][r.col].concat(i),Nh(e,o-1,i.length),function(e,t){e.splice(t,1)}(t,n.row)}else if(0===function(e,t){let n=0;const r={col:t,row:0};for(;r.row<e.length;){const t=rh(e,r);if(t&&t.length>0){let e=t.length;"first"===t[0].type&&(e-=1),e>0&&(n+=1)}r.row+=1}return n}(t,n.col)){!function(e,t){let n=0;for(;n<e.length;)e[n][t]&&e[n].splice(t,1),n+=1}(t,n.col),n.col-=1,e.path[e.path.length-1].relation="cell"+th(t,n);Nh(e,t[n.row][n.col].length-1,0)}}return e.suppressChangeNotifications=n,xh(e),void Sh(e)}const r=e.siblings();if(Kh(e)){const n=e.anchorOffset();if(t<0)if(0!==n){const t=e.sibling(0);"leftright"===t.type?(t.rightDelim="?",$h(e,"backward")):!t.captureSelection&&/^(group|array|genfrac|surd|leftright|overlap|overunder|box|mathstyle|sizing)$/.test(t.type)?$h(e,"backward"):(e.announce("deleted",null,r.slice(n,n+1)),r.splice(n,1),Nh(e,n-1))}else{const t=e.relation();if("superscript"===t||"subscript"===t){const n=e.parent()[t].filter(e=>"placeholder"!==e.type&&"first"!==e.type);e.parent()[t]=null,e.path.pop(),e.siblings().splice(e.anchorOffset(),0,...n),Nh(e,e.anchorOffset()-1),e.announce("deleted: "+t)}else if("denom"===t){const t=e.parent().numer.filter(e=>"placeholder"!==e.type&&"first"!==e.type),n=e.parent().denom.filter(e=>"placeholder"!==e.type&&"first"!==e.type);e.path.pop(),e.siblings().splice(e.anchorOffset(),1,...n),e.siblings().splice(e.anchorOffset(),0,...t),Nh(e,e.anchorOffset()+t.length-1),e.announce("deleted: denominator")}else if("body"===t){const t=e.siblings().filter(e=>"placeholder"!==e.type);e.path.length>1&&(t.shift(),e.path.pop(),e.siblings().splice(e.anchorOffset(),1,...t),Nh(e,e.anchorOffset()-1),e.announce("deleted: root"))}else $h(e,"backward"),rg(e,-1)}else if(t>0)if(n!==r.length-1)/^(group|array|genfrac|surd|leftright|overlap|overunder|box|mathstyle|sizing)$/.test(e.sibling(1).type)?$h(e,"forward"):(e.announce("deleted",null,r.slice(n+1,n+2)),r.splice(n+1,1));else{if("numer"===e.relation()){const t=e.parent().numer.filter(e=>"placeholder"!==e.type&&"first"!==e.type),n=e.parent().denom.filter(e=>"placeholder"!==e.type&&"first"!==e.type);e.path.pop(),e.siblings().splice(e.anchorOffset(),1,...n),e.siblings().splice(e.anchorOffset(),0,...t),Nh(e,e.anchorOffset()+t.length-1),e.announce("deleted: numerator")}else $h(e,"forward"),rg(e,-1)}}else{const t=e.startOffset()+1,n=e.endOffset()+1;e.announce("deleted",null,r.slice(t,n)),r.splice(t,n-t),Nh(e,t-1)}Gf(e),e.suppressChangeNotifications=n,xh(e),Sh(e)}function rg(e,t=0){if(0===t)ng(e,0);else if(t>0)for(;t>0;)ng(e,1),t--;else for(;t<0;)ng(e,-1),t++;return!0}function og(e,t){if(Kh(e))return!1;function n(t,n){let r=!0;return Gh(e,e=>{r=r&&e[t]===n},{recursive:!0}),r}return t.color&&n("color",t.color)&&(t.color="none"),t.backgroundColor&&n("backgroundColor",t.backgroundColor)&&(t.backgroundColor="none"),t.fontFamily&&n("fontFamily",t.fontFamily)&&(t.fontFamily="none"),t.series&&(t.fontSeries=t.series),t.fontSeries&&n("fontSeries",t.fontSeries)&&(t.fontSeries="auto"),t.shape&&(t.fontShape=t.shape),t.fontShape&&n("fontShape",t.fontShape)&&(t.fontShape="auto"),t.size&&(t.fontSize=t.size),t.fontSize&&n("fontSize",t.fontSize)&&(t.fontSize="size5"),Gh(e,e=>e.applyStyle(t),{recursive:!0}),Sh(e),!0}function ig(e){e.root.forEach(e=>{!Array.isArray(e.body)||0!==e.body.length&&"first"===e.body[0].type||e.body.unshift(new Df(e.mode,"first")),!e.superscript||0!==e.superscript.length&&"first"===e.superscript[0].type||e.superscript.unshift(new Df(e.mode,"first")),!e.subscript||0!==e.subscript.length&&"first"===e.subscript[0].type||e.subscript.unshift(new Df(e.mode,"first")),!e.overscript||0!==e.overscript.length&&"first"===e.overscript[0].type||e.overscript.unshift(new Df(e.mode,"first")),!e.underscript||0!==e.underscript.length&&"first"===e.underscript[0].type||e.underscript.unshift(new Df(e.mode,"first")),!e.numer||0!==e.numer.length&&"first"===e.numer[0].type||e.numer.unshift(new Df(e.mode,"first")),!e.denom||0!==e.denom.length&&"first"===e.denom[0].type||e.denom.unshift(new Df(e.mode,"first")),!e.index||0!==e.index.length&&"first"===e.index[0].type||e.index.unshift(new Df(e.mode,"first"))})}function ag(e,t,n){var r,o,i,a;if(null!==(r=n.smartFence)&&void 0!==r&&r){if(cg(e,t,n.style))return void ig(e)}else{const n=e.parent();if("leftright"===(null==n?void 0:n.type)&&"?"===n.rightDelim&&e.endOffset()===e.siblings().length-1&&/^[)}\]|]$/.test(t))return n.rightDelim=t,$h(e,"forward"),ig(e),void Sh(e)}const s=e.suppressChangeNotifications;n.suppressChangeNotifications&&(e.suppressChangeNotifications=!0);const l=e.suppressChangeNotifications;e.suppressChangeNotifications=!0,n.insertionMode||(n.insertionMode="replaceSelection"),n.selectionMode||(n.selectionMode="placeholder"),n.format||(n.format="auto"),n.macros=null!==(o=n.macros)&&void 0!==o?o:e.options.macros;const c=n.mode||Ah(e);let u;const d=[Pf("math",qh(e)).toLatex(!1)],p=null!==(i=n.placeholder)&&void 0!==i?i:"\\placeholder{}";d["?"]=p,"replaceSelection"!==n.insertionMode||Kh(e)?"replaceAll"===n.insertionMode?(e.root.body=[],e.root.latex="",e.path=[{relation:"body",offset:0}],e.extent=0):"insertBefore"===n.insertionMode?Hh(e):"insertAfter"===n.insertionMode&&Uh(e):rg(e);const f=e.siblings(),h=e.startOffset();if(h+1<f.length&&f[h+1]&&"placeholder"===f[h+1].type?rg(e,1):h>0&&f[h]&&"placeholder"===f[h].type&&rg(e,-1),"math"===c&&"ASCIIMath"===n.format)[,t]=bh(t,{format:"ASCIIMath"}),u=jf(t,"math",null,null==n?void 0:n.macros,!1,e.listeners.onError),lg(e,u);else if("text"===c||"auto"!==n.format&&"latex"!==n.format)"text"!==c&&"text"!==n.format||(u=jf(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\&")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(/£/g,"\\textsterling "),"text",d,n.macros,!1,e.listeners.onError));else if("command"===c){u=[];for(const e of t)Cp.test(e)&&u.push(new Df("command","command",e))}else if(""===t)u=[new Df("command","command","\\")];else{if("auto"===n.format&&([n.format,t]=bh(t)),d[0])t=t.replace(/(^|[^\\])#@/g,"$1#0");else if(/(^|[^\\])#@/.test(t)){const n=function(e){const t=e.siblings();let n=e.startOffset();if("text"===t[n].mode)for(;n>=1&&"text"===t[n].mode;)n--;else for(;n>=1&&/^(mord|surd|msubsup|leftright|mop)$/.test(t[n].type);)n--;return n}(e);t=t.replace(/(^|[^\\])#@/g,"$1"+function(e,t,n){const r=e.siblings();if(Wf(r))return"";if("first"===r[0].type&&0===t&&(t=1),"root"===e.parent().type&&1===t&&n===r.length-1)return e.parent().toLatex(!1);let o="",i=t;for(;i<=n;)o+=r[i].toLatex(!1),i++;return o}(e,n+1,e.startOffset())),function(e,t){t>0?e.siblings().splice(e.anchorOffset()+1,t):(e.siblings().splice(e.anchorOffset()+t+1,-t),Nh(e,e.anchorOffset()+t))}(e,n-e.startOffset())}else t=t.replace(/(^|[^\\])#@/g,"$1#?");/^\$\$(.*)\$\$$/.test(t)&&(t=t.substring(2,t.length-2)),d[0]||(d[0]=p),u=jf(t,c,d,n.macros,null!==(a=n.smartFence)&&void 0!==a&&a,e.listeners.onError),"latex"!==n.format&&lg(e,u)}Gf(e),function e(t,n){t&&n&&($f(t)?t.forEach(t=>e(t,n)):"object"==typeof t&&(t.color||t.backgroundColor||t.fontFamily||t.fontShape||t.fontSeries||t.fontSize||(t.applyStyle(n),e(t.body,n),e(t.numer,n),e(t.denom,n),e(t.index,n),e(t.overscript,n),e(t.underscript,n),e(t.subscript,n),e(t.superscript,n))))}(u,n.style);const m=e.parent();if("latex"!==n.format&&e.options.removeExtraneousParentheses&&m&&"leftright"===m.type&&"("===m.leftDelim&&Wf(m.body)&&u&&1===u.length&&"genfrac"===u[0].type?(e.path.pop(),e.siblings()[e.anchorOffset()]=u[0]):("latex"!==n.format||1!==d.length||d[0]||"root"===m.type&&Wf(m.body)&&(m.latex=t),e.siblings().splice(e.anchorOffset()+1,0,...u)),ig(e),e.suppressChangeNotifications=l,"placeholder"===n.selectionMode){const t=[];for(const e of u)e.forEach(e=>{"placeholder"===e.type&&t.push(e)});0!==t.length&&Th(e,1,!1)?e.announce("move"):Nh(e,e.anchorOffset()+u.length)}else"before"===n.selectionMode||("after"===n.selectionMode?Nh(e,e.anchorOffset()+u.length):"item"===n.selectionMode&&Nh(e,e.anchorOffset(),u.length));Sh(e),e.suppressChangeNotifications=s}function sg(e){if(e)return 1===e.length&&"leftright"===e[0].type&&"("===e[0].leftDelim&&(e=e[0].body),e}function lg(e,t){if(t&&e.options.removeExtraneousParentheses){for(let e=0;t[e];e++)if("leftright"===t[e].type&&"("===t[e].leftDelim&&$f(t[e].body)){let n=0,r=0,o=0;for(let i=0;t[e].body[i];i++)"genfrac"===t[e].body[i].type&&(n++,r=i),"first"!==t[e].body[i].type&&o++;0===o&&1===n&&(t[e]=t[e].body[r])}t.forEach(t=>{if("genfrac"===t.type&&(lg(e,t.numer),lg(e,t.denom),t.numer=sg(t.numer),t.denom=sg(t.denom)),t.superscript&&(lg(e,t.superscript),t.superscript=sg(t.superscript)),t.subscript&&(lg(e,t.subscript),t.subscript=sg(t.subscript)),t.underscript&&(lg(e,t.underscript),t.underscript=sg(t.underscript)),t.overscript&&(lg(e,t.overscript),t.overscript=sg(t.overscript)),t.index&&(lg(e,t.index),t.index=sg(t.index)),"surd"===t.type?(lg(e,t.body),t.body=sg(t.body)):$f(t.body)&&lg(e,t.body),t.array)for(let n=oh(t.array);n>=0;n--)lg(e,rh(t.array,n))})}}function cg(e,t,n){const r=e.parent();let o="leftright"===r.type?r.leftDelim+r.rightDelim:"";if("\\lbrace\\rbrace"===o&&(o="{}"),"\\{\\}"===o&&(o="{}"),"{}"===o&&/\||\\vert|\\Vert|\\mvert|\\mid/.test(t))return ag(e,"\\,\\middle"+t+"\\, ",{mode:"math",format:"latex",style:n}),!0;"{"!==t&&"\\{"!==t||(t="\\lbrace"),"}"!==t&&"\\}"!==t||(t="\\rbrace"),"["===t&&(t="\\lbrack"),"]"===t&&(t="\\rbrack");const i=Sp[t];if(i&&("leftright"!==r.type||"|"!==r.leftDelim)){let r="";const o=Kh(e)||"placeholder"===Mh(e).type;r=e.sibling(0).isFunction?"\\mleft"+t+"\\mright":"\\left"+t+"\\right",r+=o?"?":i;let a=[];return o&&(a=e.siblings().splice(e.anchorOffset()+1,e.siblings().length)),ag(e,r,{mode:"math",format:"latex",style:n}),o&&(e.sibling(0).body=a,$h(e,"backward")),!0}let a;if(Object.keys(Sp).forEach(e=>{t===Sp[e]&&(a=e)}),a){if(r&&"leftright"===r.type&&e.endOffset()===e.siblings().length-1)return r.rightDelim=t,$h(e,"forward"),Sh(e),!0;const o=e.siblings();let i;for(i=e.endOffset();i>=0&&("leftright"!==o[i].type||"?"!==o[i].rightDelim);i--);if(i>=0)return o[i].rightDelim=t,o[i].body=o[i].body.concat(o.slice(i+1,e.endOffset()+1)),o.splice(i+1,e.endOffset()-i),Nh(e,i),Sh(e),!0;if(r&&"leftright"===r.type&&"?"===r.rightDelim){r.rightDelim=t;const n=o.slice(e.endOffset()+1);return o.splice(e.endOffset()+1),e.path.pop(),e.siblings().splice(e.endOffset()+1,0,...n),Sh(e),!0}const a=e.ancestor(2);return!(!a||"leftright"!==a.type||"?"!==a.rightDelim||e.endOffset()!==o.length-1)&&($h(e,"forward"),cg(e,t,n))}return!1}Jm({performWithFeedback:(e,t)=>function(e,t){return e.focus(),e.options.keypressVibration&&(null===navigator||void 0===navigator?void 0:navigator.vibrate)&&navigator.vibrate(3),"moveToNextPlaceholder"===(t=t.replace(/-\w/g,e=>e[1].toUpperCase()))||"moveToPreviousPlaceholder"===t||"complete"===t?e.returnKeypressSound?(e.returnKeypressSound.load(),e.returnKeypressSound.play().catch(e=>console.warn(e))):e.keypressSound&&(e.keypressSound.load(),e.keypressSound.play().catch(e=>console.warn(e))):("deletePreviousChar"===t||"deleteNextChar"===t||"deletePreviousWord"===t||"deleteNextWord"===t||"deleteToGroupStart"===t||"deleteToGroupEnd"===t||"deleteToMathFieldStart"===t||"deleteToMathFieldEnd"===t)&&e.deleteKeypressSound?(e.deleteKeypressSound.load(),e.deleteKeypressSound.play().catch(e=>console.warn(e))):e.keypressSound&&(e.keypressSound.load(),e.keypressSound.play().catch(e=>console.warn(e))),e.executeCommand(t)}(e,t)}),Jm({addRowAfter:eg,addColumnAfter:tg,addRowBefore:function(e){return Qm(e),Ym(e,"before row"),Sh(e),!0},addColumnBefore:function(e){return Qm(e),Ym(e,"before column"),Sh(e),!0}},{target:"model",category:"array-edit"});class ug{constructor(e){this.positions=[],this.root=e;const t=new hg;t.root=e,ig(t);do{this.positions.push({path:t.toString(),atom:fg(t),depth:t.path.length})}while(dg(t))}at(e){return this.positions[e]}find(e){for(let t=0;t<this.positions.length;t++)if(this.positions[t].atom===e)return t;return-1}get lastPosition(){return this.positions.length-1}paths(e){return e.map(e=>this.at(e).path)}}function dg(e){const t={body:"numer",numer:"denom",denom:"index",index:"overscript",overscript:"underscript",underscript:"subscript",subscript:"superscript"};if(e.anchorOffset()===e.siblings(!1).length-1){let n=t[e.relation()];const r=e.parent();for(;n&&!r[n];)n=t[n];if(n)return pg(e,0,n),!0;if(e.parent().array){const t=oh(e.parent().array);let n=parseInt(e.relation().match(/cell([0-9]*)$/)[1])+1;for(;n<t;){if(rh(e.parent().array,n,!1)&&pg(e,0,"cell"+n))return!0;n+=1}}return 1!==e.path.length&&(e.path.pop(),!0)}pg(e,e.anchorOffset()+1);const n=fg(e);if(n&&!n.captureSelection){let r;if(n.array){let t=0;r="";const o=oh(n.array);for(;!r&&t<o;)rh(n.array,t,!1)&&(r="cell"+t.toString()),t+=1;return console.assert(r),e.path.push({relation:r,offset:0}),pg(e,0,r),!0}for(r="body";r;){if(Id(n[r]))return e.path.push({relation:r,offset:0}),!0;r=t[r]}}return!0}function pg(e,t=0,n=""){const r=e.path[e.path.length-1].relation;n||(n=r);const o=e.parent();if(!o&&"body"!==n)return!1;const i=n.startsWith("cell");if(!i&&!o[n]||i&&!o.array)return!1;e.path[e.path.length-1].relation=n;const a=e.siblings(!1).length;return e.path[e.path.length-1].relation=r,t<0&&(t=a+t),t=Math.max(0,Math.min(t,a-1)),e.path[e.path.length-1].relation=n,e.path[e.path.length-1].offset=t,!0}function fg(e){if(e.parent().array)return rh(e.parent().array,e.relation())[e.anchorOffset()];const t=e.siblings(!1);return t[Math.min(t.length-1,e.anchorOffset())]}class hg{constructor(e,t,n,r){this.options={mode:"math",removeExtraneousParentheses:!1,...e},this.root=Pf(this.options.mode),this.path=[{relation:"body",offset:0}],this.extent=0,this.setListeners(t),this.setHooks(n),this.mathfield=r,this.suppressChangeNotifications=!1}clone(){const e=new hg(this.options,this.listeners,this.hooks,this.mathfield);return e.root=this.root,e.path=eh(this.path),e}setListeners(e){this.listeners=e}setHooks(e){this.hooks={announce:(null==e?void 0:e.announce)?e.announce:(e,t,n,r)=>{},moveOut:(null==e?void 0:e.moveOut)?e.moveOut:()=>!0,tabOut:(null==e?void 0:e.tabOut)?e.tabOut:()=>!0}}get selection(){const e=Mh(this);let t=void 0;if(this.parent().array)t=rh(this.parent().array,this.relation())[this.focusOffset()];else{const e=this.siblings();t=e[Math.min(e.length-1,this.focusOffset())]}const n=new ug(this.root);return[Jf(n,{start:n.find(e),end:n.find(t)})]}set selection(e){!function(e,t){const n=Array.isArray(t)?t[0]:t,r=new ug(e.root);n.direction||(n.direction="forward");(n.start<0||n.start>r.lastPosition)&&(n.start=r.lastPosition);void 0===n.end&&(n.end=n.start);(n.end<0||n.end>r.lastPosition)&&(n.end=r.lastPosition);let o;o="backward"===n.direction?r.at(n.end).path:r.at(n.start).path;Ch(e,o,n.end-n.start)}(this,e)}get lastPosition(){return new ug(this.root).lastPosition}announce(e,t,n=[]){this.hooks.announce(this.mathfield,e,t,n)}toString(){return Zf(this.path,this.extent)}siblings(e=!0){var t;if(0===this.path.length)return[];let n;return this.parent().array?n=rh(this.parent().array,this.relation()):(n=null!==(t=this.parent()[this.relation()])&&void 0!==t?t:[],"string"==typeof n&&(n=[])),!e||0!==n.length&&"first"===n[0].type||n.unshift(new Df(this.parent().mode,"first")),n}anchorOffset(){return this.path.length>0?this.path[this.path.length-1].offset:0}focusOffset(){return this.path.length>0?this.path[this.path.length-1].offset+this.extent:0}groupIsSelected(){return 0===this.startOffset()&&this.endOffset()>=this.siblings().length-1}startOffset(){return Math.min(this.focusOffset(),this.anchorOffset())}endOffset(){return Math.max(this.focusOffset(),this.anchorOffset())}sibling(e){return this.siblings()[this.startOffset()+e]}ancestor(e){if(e>this.path.length)return null;let t=this.root;for(let n=0;n<this.path.length-e;n++){const e=this.path[n];if(t.array)t=rh(t.array,e.relation)[e.offset];else{if(!t[e.relation])return null;{0!==t[e.relation].length&&"first"===t[e.relation][0].type||t[e.relation].unshift(new Df(t[e.relation][0].mode,"first"));const n=Math.min(e.offset,t[e.relation].length-1);t=t[e.relation][n]}}}return t}parent(){return this.ancestor(1)}relation(){return this.path.length>0?this.path[this.path.length-1].relation:""}insertFirstAtom(){this.siblings()}}function mg(e){if(Uh(e),!Mh(e).superscript)if(Mh(e).subscript)Mh(e).superscript=[new Df(e.parent().mode,"first")];else{const t=e.sibling(1);(null==t?void 0:t.superscript)?e.path[e.path.length-1].offset+=1:(null==t?void 0:t.subscript)?(e.path[e.path.length-1].offset+=1,Mh(e).superscript=[new Df(e.parent().mode,"first")]):("limits"!==Mh(e).limits&&(e.siblings().splice(e.anchorOffset()+1,0,new Df(e.parent().mode,"msubsup","​",Oh(e))),e.path[e.path.length-1].offset+=1),Mh(e).superscript=[new Df(e.parent().mode,"first")])}return e.path.push({relation:"superscript",offset:0}),jh(e),!0}Jm({moveToOpposite:e=>{const t={superscript:"subscript",subscript:"superscript",denom:"numer",numer:"denom"}[e.relation()];return t||mg(e),e.parent()[t]||(e.parent()[t]=[new Df(e.parent().mode,"first")]),Nh(e,0,"end",t),!0},moveBeforeParent:e=>e.path.length>1?(e.path.pop(),Nh(e,e.anchorOffset()-1),!0):(e.announce("plonk"),!1),moveAfterParent:e=>Wh(e),moveToNextPlaceholder:e=>Th(e,1),moveToPreviousPlaceholder:e=>Th(e,-1),moveToNextChar:e=>$h(e,"forward"),moveToPreviousChar:e=>$h(e,"backward"),moveUp:e=>$h(e,"upward"),moveDown:e=>$h(e,"downward"),moveToNextWord:e=>Ih(e,1),moveToPreviousWord:e=>Ih(e,-1),moveToGroupStart:e=>Nh(e,0),moveToGroupEnd:e=>Nh(e,-1),moveToMathFieldStart:e=>Fh(e,-1),moveToMathFieldEnd:e=>Fh(e,1),moveToSuperscript:e=>mg(e),moveToSubscript:e=>function(e){if(Uh(e),!Mh(e).subscript)if(Mh(e).superscript)Mh(e).subscript=[new Df(e.parent().mode,"first")];else{const t=e.sibling(1);(null==t?void 0:t.subscript)?e.path[e.path.length-1].offset+=1:(null==t?void 0:t.superscript)?(e.path[e.path.length-1].offset+=1,Mh(e).subscript=[new Df(e.parent().mode,"first")]):("limits"!==Mh(e).limits&&(e.siblings().splice(e.anchorOffset()+1,0,new Df(e.parent().mode,"msubsup","​",Oh(e))),e.path[e.path.length-1].offset+=1),Mh(e).subscript=[new Df(e.parent().mode,"first")])}return e.path.push({relation:"subscript",offset:0}),jh(e),!0}(e)},{target:"model",category:"selection-anchor"}),Jm({selectGroup:e=>jh(e),selectAll:e=>Bh(e),extendToNextChar:e=>Rh(e,1),extendToPreviousChar:e=>Rh(e,-1),extendToNextWord:e=>Ih(e,1,{extend:!0}),extendToPreviousWord:e=>Ih(e,-1,{extend:!0}),extendUp:e=>$h(e,"upward",{extend:!0}),extendDown:e=>$h(e,"downward",{extend:!0}),extendToNextBoundary:e=>Ih(e,1,{extend:!0}),extendToPreviousBoundary:e=>Ih(e,-1,{extend:!0}),extendToGroupStart:e=>(Vh(e,-e.anchorOffset()),!0),extendToGroupEnd:e=>(Vh(e,e.siblings().length-e.anchorOffset()),!0),extendToMathFieldStart:e=>Fh(e,-1,{extend:!0}),extendToMathFieldEnd:e=>Fh(e,1,{extend:!0})},{target:"model",category:"selection-extend"}),Jm({deleteAll:e=>(Bh(e),rg(e)),deleteNextChar:e=>rg(e,1),deletePreviousChar:e=>rg(e,-1),deleteNextWord:e=>(Ih(e,1,{extend:!0}),rg(e)),deletePreviousWord:e=>(Ih(e,-1,{extend:!0}),rg(e)),deleteToGroupStart:e=>(Vh(e,-e.anchorOffset()),rg(e)),deleteToGroupEnd:e=>(Fh(e,-1,{extend:!0}),rg(e)),deleteToMathFieldStart:e=>(Fh(e,-1,{extend:!0}),rg(e)),deleteToMathFieldEnd:e=>(Fh(e,1,{extend:!0}),rg(e))},{target:"model",category:"delete"});const gg=["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"];function yg(e){return!e.ctrlKey&&!e.metaKey&&("Dead"!==e.key&&(""===e.code||gg.indexOf(e.code)>=0))}function vg(e){const t=[];return(e=function(e){if(!e.code){const t=Object.entries(im().mapping);let n,r=!1,o=!1;for(let i=0;i<4;i++){for(const[a,s]of t)if(s[i]===e.key){n=a,3===i?(r=!0,o=!0):2===i?r=!0:1===i&&(o=!0);break}if(n)break}return new KeyboardEvent(e.type,{...e,altKey:r,shiftKey:o,code:n})}return new KeyboardEvent(e.type,e)}(e)).ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),0===t.length?"["+e.code+"]":(t.push("["+e.code+"]"),t.join("+"))}function bg(e=document){var t,n;return(null===(n=null===(t=e.activeElement)||void 0===t?void 0:t.shadowRoot)||void 0===n?void 0:n.activeElement)?bg(e.activeElement.shadowRoot):e.activeElement}function wg(e){var t;if(!e)return"";let n;return"Unidentified"===e.key&&e.target&&(n=e.target.value),n=null!==(t=null!=n?n:e.key)&&void 0!==t?t:e.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(n)&&(n=""),n}class _g{constructor(e){this.maximumDepth=1e3,this.record=!1,this.canCoalesce=!1,this.model=e,this.reset()}reset(){this.stack=[],this.index=-1}startRecording(){this.record=!0}canUndo(){return this.index>0}canRedo(){return this.index!==this.stack.length-1}undo(e){this.canUndo()&&("function"==typeof(null==e?void 0:e.onUndoStateWillChange)&&e.onUndoStateWillChange(this.model.mathfield,"undo"),this.restore(this.stack[this.index-1],e),this.index-=1,e&&"function"==typeof e.onUndoStateDidChange&&e.onUndoStateDidChange(this.model.mathfield,"undo"),this.canCoalesce=!1)}redo(e){this.canRedo()&&("function"==typeof(null==e?void 0:e.onUndoStateWillChange)&&e.onUndoStateWillChange(this.model.mathfield,"redo"),this.index+=1,this.restore(this.stack[this.index],e),e&&"function"==typeof e.onUndoStateDidChange&&e.onUndoStateDidChange(this.model.mathfield,"redo"),this.canCoalesce=!1)}pop(){this.canUndo()&&(this.index-=1,this.stack.pop())}snapshot(e){this.record&&("function"==typeof(null==e?void 0:e.onUndoStateWillChange)&&e.onUndoStateWillChange(this.model.mathfield,"snapshot"),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push({latex:this.model.root.toLatex(!1),selection:this.model.selection}),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),e&&"function"==typeof e.onUndoStateDidChange&&e.onUndoStateDidChange(this.model.mathfield,"snapshot"),this.canCoalesce=!1)}snapshotAndCoalesce(e){this.canCoalesce&&this.pop(),this.snapshot(e),this.canCoalesce=!0}save(){return{latex:this.model.root.toLatex(!1),selection:this.model.selection}}restore(e,t){const n=this.model.suppressChangeNotifications;void 0!==t.suppressChangeNotifications&&(this.model.suppressChangeNotifications=t.suppressChangeNotifications),ag(this.model,e?e.latex:"",{...t,format:"latex",mode:"math",insertionMode:"replaceAll",selectionMode:"after",smartFence:!1}),this.model.selection=e?e.selection:[{start:0}],this.model.suppressChangeNotifications=n}}const kg={"−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega"},xg={"\\pm":"+-","\\times":"xx","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\langle":"(:","\\rangle":":)"};function Sg(e){if(!e)return"";if(Id(e)){let t="";if(0===e.length)return"";if("first"===e[0].type&&(e=e.slice(1)),0===e.length)return"";if("text"===e[0].mode){let n=0;for(t='"';e[n]&&"text"===e[n].mode;)t+=e[n].body,n++;t+='"'+Sg(e.slice(n))}else if("math"===e[0].mode){let n=0;for(;e[n]&&"math"===e[n].mode;)t+=Sg(e[n]),n++;t+=Sg(e.slice(n))}else console.warn("toASCIIMath: Unexpected mode");return t.trim()}if("text"===e.mode)return'"'+e.body+'"';let t="";const n=e.symbol;let r;switch(e.type){case"group":case"root":t=Sg(e.body);break;case"array":break;case"genfrac":(e.leftDelim||e.rightDelim)&&(t+="."!==e.leftDelim&&e.leftDelim?e.leftDelim:"{:"),e.hasBarLine?(t+="(",t+=Sg(e.numer),t+=")/(",t+=Sg(e.denom),t+=")"):(t+="("+Sg(e.numer)+"),",t+="("+Sg(e.denom)+")"),(e.leftDelim||e.rightDelim)&&(t+="."!==e.rightDelim&&e.rightDelim?e.rightDelim:"{:");break;case"surd":e.index?t+="root("+Sg(e.index)+")("+Sg(e.body)+")":t+="sqrt("+Sg(e.body)+")";break;case"leftright":t+="."!==e.leftDelim&&e.leftDelim?e.leftDelim:"{:",t+=Sg(e.body),t+="."!==e.rightDelim&&e.rightDelim?e.rightDelim:":}";break;case"sizeddelim":case"delim":case"overlap":case"overunder":break;case"mord":t=kg[n]||n||("string"==typeof e.body?e.body:""),"\\"===t[0]&&(t=String(t)),r=n?n.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):null,r?t=String.fromCharCode(parseInt("0x"+r[1])):t.length>0&&"\\"===t.charAt(0)&&(t="string"==typeof e.body?e.body.charAt(0):e.symbol);break;case"mbin":case"mrel":case"textord":case"minner":t=n&&kg[n]?kg[n]:n&&xg[n]?xg[n]:e.body;break;case"mopen":case"mclose":t+=e.body;break;case"mpunct":t=xg[n]||n;break;case"mop":"​"!==e.body&&(t="",t+="\\operatorname"===n?Sg(e.body):e.body||n,t+=" ");break;case"mathstyle":case"box":case"spacing":case"enclose":break;case"space":t=" "}if(e.subscript){t+="_";const n=Sg(e.subscript);n.length>1&&!/^(-)?\d+(\.\d*)?$/.test(n)?t+="("+n+")":t+=n}if(e.superscript){t+="^";const n=Sg(e.superscript);n.length>1&&!/^(-)?\d+(\.\d*)?$/.test(n)?t+="("+n+")":t+=n}return t}const Mg={};function Cg(e){const t=Mg.locale.substring(0,2);let n="";return Mg.strings[Mg.locale]&&(n=Mg.strings[Mg.locale][e]),!n&&Mg.strings[t]&&(n=Mg.strings[t][e]),n||(n=Mg.strings.en[e]),n||(n=e),n}function zg(e,t,n){Xf(e);const r=[],o=t.substr(n);for(const e of o){const t=new Df("command","command",e);t.isSuggestion=!0,r.push(t)}Array.prototype.splice.apply(e.siblings(),[e.anchorOffset()+1,0].concat(r))}function Og(e,t){if(t=null!=t?t:{acceptSuggestion:!1},Mm(e),t.discard)return Om(e.model,null),e.switchMode("math"),!0;const n=Cm(e.model,!t.acceptSuggestion);if(n){if("\\("===n||"\\)"===n)Om(e.model,[]),ag(e.model,n.slice(1),{mode:e.mode});else{e.switchMode("math");const t=jf(n,"math",null,e.options.macros);t?Om(e.model,t):zm(e.model,!0)}return e.snapshot(),e.model.announce("replacement"),!0}return!1}function Eg(e){!function(e){const t=e.siblings(),n=Lh(e);let r=n.start;for(;r<n.end&&!t[r].isSuggestion;)r++;Nh(e,r-1)}(e.model),Xf(e.model);const t=Cm(e.model),n=jp(t);if(0===n.length)Mm(e),zm(e.model,!0);else{const r=e.suggestionIndex%n.length,o=t.length-n[r].match.length;0!==o&&zg(e.model,n[r].match,o),km(e,n[r].match,n.length>1)}return Wm(e),!0}Mg.plural=function(e,t,n){var r;(n=null!=n?n:{}).type=null!==(r=n.type)&&void 0!==r?r:"cardinal";const o=Mg.locale.substring(0,2),i="ordinal"===n.type?Mg._ordinal:Mg._cardinal;let a,s="ordinal"===n.type?Mg._ordinalPluralCategories.indexOf(i.select(e)):Mg._cardinalPluralCategories.indexOf(i.select(e));return Mg.strings[Mg.locale]&&(a=Mg.strings[Mg.locale][t]),!a&&Mg.strings[o]&&(a=Mg.strings[o][t]),a||(a=Mg.strings.en[t],a||(a=t),s="ordinal"===n.type?Mg._ordinalPluralCategories.indexOf(Mg._ordinalEnglish.select(e)):Mg._cardinalPluralCategories.indexOf(Mg._cardinalEnglish.select(e))),a.split(";")[s]||a.split(";")[0]},Mg.merge=function(e,t){if(e&&t){const n=Mg._locale;Mg.locale=e,Mg.strings[e]={...Mg.strings[e],...t},Mg.locale=n}else e&&!t&&Object.keys(e).forEach(t=>Mg.merge(t,e[t]))},Object.defineProperty(Mg,"locale",{set(e){Mg._locale=e,Mg._ordinal=null,Mg._cardinal=null},get(){var e;return Mg._locale||(Mg._locale=null!==(e=null===navigator||void 0===navigator?void 0:navigator.language.slice(0,5))&&void 0!==e?e:"en"),Mg._locale}}),Object.defineProperty(Mg,"ordinal",{get:()=>(Mg._ordinal||(Mg._ordinalEnglish=new Intl.PluralRules("en",{type:"ordinal"}),Mg._ordinalEnglishPluralCategories=Mg._ordinalEnglish.resolvedOptions().pluralCategories,Mg._ordinal=new Intl.PluralRules(Mg.locale,{type:"ordinal"}),Mg._ordinalPluralCategories=Mg._ordinal.resolvedOptions().pluralCategories),Mg._ordinal)}),Object.defineProperty(Mg,"cardinal",{get:()=>(Mg._cardinal||(Mg._cardinalEnglish=new Intl.PluralRules("en",{type:"cardinal"}),Mg._cardinalEnglishPluralCategories=Mg._cardinalEnglish.resolvedOptions().pluralCategories,Mg._cardinal=new Intl.PluralRules(Mg.locale,{type:"cardinal"}),Mg._cardinalPluralCategories=Mg._ordinal.resolvedOptions().pluralCategories),Mg._cardinal)}),Mg.strings={en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo"},ar:{"keyboard.tooltip.functions":"مهام","keyboard.tooltip.symbols":"حرف او رمز","keyboard.tooltip.greek":"حروف يونانية","keyboard.tooltip.command":"حالة تلقي الأوامر اللاتك","keyboard.tooltip.numeric":"الرقمية","keyboard.tooltip.roman":"رموز الاحرف الرومانية","tooltip.copy to clipboard":"نسخ إلى الحافظة","tooltip.redo":"الإعادة","tooltip.toggle virtual keyboard":"تبديل لوحة المفاتيح الإفتراضية","tooltip.undo":"إلغاء"},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.roman":"Römische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen"},el:{"keyboard.tooltip.functions":"συναρτήσεις","keyboard.tooltip.symbols":"σύμβολα","keyboard.tooltip.greek":"ελληνικά γράμματα","keyboard.tooltip.command":"Λειτουργία εντολών LaTeX","keyboard.tooltip.numeric":"Αριθμητικός","keyboard.tooltip.roman":"Ρωμαϊκά γράμματα","tooltip.copy to clipboard":"Αντιγραφή στο πρόχειρο","tooltip.redo":"Ξανακάνω","tooltip.toggle virtual keyboard":"Εναλλαγή εικονικού πληκτρολογίου","tooltip.undo":"Ξεκάνω"},es:{"keyboard.tooltip.functions":"Funciones","keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.roman":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer"},fa:{"keyboard.tooltip.functions":"توابع","keyboard.tooltip.symbols":"نمادها","keyboard.tooltip.greek":"حروف یونانی","keyboard.tooltip.command":"حالت دستور لاتک","keyboard.tooltip.numeric":"عددی","keyboard.tooltip.roman":"حروف رومی","tooltip.copy to clipboard":"کپی به کلیپبورد","tooltip.redo":"بازگشت به بعد","tooltip.toggle virtual keyboard":"نمایش/نهفتن کیبورد مجازی","tooltip.undo":"بازگشت به قبل"},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"Numérique","keyboard.tooltip.roman":"Lettres romaines","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rétablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"Modalità di comando LaTeX","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.roman":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare"},ja:{"keyboard.tooltip.functions":"関数","keyboard.tooltip.symbols":"シンボル","keyboard.tooltip.greek":"ギリシャ文字","keyboard.tooltip.command":"LaTeXコマンドモード","keyboard.tooltip.numeric":"数値","keyboard.tooltip.roman":"ローマ字","tooltip.copy to clipboard":"クリップボードにコピー","tooltip.redo":"やり直し","tooltip.toggle virtual keyboard":"仮想キーボードの切り替え","tooltip.undo":"元に戻す"},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb poleceń LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.roman":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywróć","tooltip.toggle virtual keyboard":"Przełącz wirtualną klawiaturę","tooltip.undo":"Cofnij"},ru:{"keyboard.tooltip.functions":"Функции","keyboard.tooltip.symbols":"Символы","keyboard.tooltip.greek":"Греческие буквы","keyboard.tooltip.command":"Режим командной строки LaTeX","keyboard.tooltip.numeric":"числовой","keyboard.tooltip.roman":"Латинские буквы","tooltip.copy to clipboard":"Скопировать в буфер обмена","tooltip.redo":"переделывать","tooltip.toggle virtual keyboard":"Переключить виртуальную клавиатуру","tooltip.undo":"расстегивать"}},Jm({complete:Og,nextSuggestion:function(e){return e.suggestionIndex+=1,Eg(e),!1},previousSuggestion:function(e){if(e.suggestionIndex-=1,e.suggestionIndex<0){Xf(e.model);const t=jp(Cm(e.model));e.suggestionIndex=t.length-1}return Eg(e),!1}},{target:"mathfield",category:"autocomplete"});const Lg={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ",a:'<phoneme alphabet="ipa" ph="eɪ">a</phoneme>',A:'capital <phoneme alphabet="ipa" ph="eɪ">A</phoneme>',"+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"};function Ag(e){let t=0;if($f(e))for(const n of e)"first"!==n.type&&(t+=1);return 1===t}function Tg(e){let t="";if($f(e))for(const n of e)"first"!==n.type&&"string"==typeof n.body&&(t+=n.body);return t}function Ng(e,t,n){function r(e){return"<emphasis>"+e+"</emphasis>"}if(!t)return"";let o="";if($f(t)){let i=!1,a=!1;for(let s=0;s<t.length;s++)"text"!==t[s].mode&&(a=!1),s<t.length-2&&"mopen"===t[s].type&&"mclose"===t[s+2].type&&"mord"===t[s+1].type?(o+=" of ",o+=r(Ng(e,t[s+1],n)),s+=2):"text"===t[s].mode?a?o+=t[s].body?t[s].body:" ":(a=!0,o+=Ng("text",t[s],n)):"mord"===t[s].type&&/[0123456789,.]/.test(t[s].body)?i?o+=t[s].body:(i=!0,o+=Ng(e,t[s],n)):(i=!1,o+=Ng(e,t[s],n))}else if("text"===t.mode)t.id&&"math"===e&&(o+='<mark name="'+t.id.toString()+'"/>'),o+=t.body;else{t.id&&"math"===e&&(o+='<mark name="'+t.id.toString()+'"/>');let i="",a="",s="",l=!1;switch(t.type){case"group":case"root":o+=Ng("math",t.body,n);break;case"genfrac":if(i=Ng("math",t.numer,n),a=Ng("math",t.denom,n),Ag(t.numer)&&Ag(t.denom)){const e={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[Tg(t.numer)+"/"+Tg(t.denom)];e?o=e:o+=i+" over "+a}else o+=' the fraction <break time="150ms"/>'+i+', over <break time="150ms"/>'+a+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(s=Ng("math",t.body,n),t.index){let e=Ng("math",t.index,n);e=e.trim();const r=e.replace(/<mark([^/]*)\/>/g,"");o+="3"===r?' the cube root of <break time="200ms"/>'+s+'. <break time="200ms"/> End cube root':"n"===r?' the nth root of <break time="200ms"/>'+s+'. <break time="200ms"/> End root':' the root with index: <break time="200ms"/>'+e+', of <break time="200ms"/>'+s+'. <break time="200ms"/> End root'}else Ag(t.body)?o+=" the square root of "+s+" , ":o+=' the square root of <break time="200ms"/>'+s+'. <break time="200ms"/> End square root';break;case"leftright":o+=Lg[t.leftDelim]||t.leftDelim,o+=Ng("math",t.body,n),o+=Lg[t.rightDelim]||t.rightDelim;break;case"rule":case"overunder":case"overlap":break;case"placeholder":o+="placeholder "+t.body;break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":case"textord":{const r=t.symbol;if("\\mathbin"===r||"\\mathrel"===r||"\\mathopen"===r||"\\mathclose"===r||"\\mathpunct"===r||"\\mathord"===r||"\\mathinner"===r){o=Ng(e,t.body,n);break}let i=t.body,a=t.symbol;if("delim"!==t.type&&"sizeddelim"!==t.type||(i=a=t.delim),"text"===e)o+=i;else{if("mbin"===t.type&&(o+='<break time="150ms"/>'),i){const e=Lg[i]||(a?Lg[a.trim()]:"");if(e)o+=" "+e;else{const e=a?function(e){let t="";return"\\"===e.charAt(0)&&(t=" "+e.replace("\\","")+" "),t}(a.trim()):"";o+=e||function(e){let t="";return n.textToSpeechMarkup?/[a-z]/.test(e)?t+=' <say-as interpret-as="character">'+e+"</say-as>":/[A-Z]/.test(e)?t+=String("capital "+e.toLowerCase()):t+=e:/[a-z]/.test(e)?t+=" '"+e.toUpperCase()+"'":/[A-Z]/.test(e)?t+=" 'capital "+e.toUpperCase()+"'":t+=e,t}(i)}}else o+=Ng("math",t.body,n);"mbin"===t.type&&(o+='<break time="150ms"/>')}break}case"mop":if("​"!==t.body){const e=t.symbol;if("\\sum"===e)if(t.superscript&&t.subscript){let e=Ng("math",t.superscript,n);e=e.trim();let r=Ng("math",t.subscript,n);r=r.trim(),o+=' the summation from <break time="200ms"/>'+r+'<break time="200ms"/> to  <break time="200ms"/>'+e+'<break time="200ms"/> of <break time="150ms"/>',l=!0}else if(t.subscript){let e=Ng("math",t.subscript,n);e=e.trim(),o+=' the summation from <break time="200ms"/>'+e+'<break time="200ms"/> of <break time="150ms"/>',l=!0}else o+=" the summation of";else if("\\prod"===e)if(t.superscript&&t.subscript){let e=Ng("math",t.superscript,n);e=e.trim();let r=Ng("math",t.subscript,n);r=r.trim(),o+=' the product from <break time="200ms"/>'+r+'<break time="200ms"/> to <break time="200ms"/>'+e+'<break time="200ms"/> of <break time="150ms"/>',l=!0}else if(t.subscript){let e=Ng("math",t.subscript,n);e=e.trim(),o+=' the product from <break time="200ms"/>'+e+'<break time="200ms"/> of <break time="150ms"/>',l=!0}else o+=" the product  of ";else if("\\int"===e)if(t.superscript&&t.subscript){let e=Ng("math",t.superscript,n);e=e.trim();let i=Ng("math",t.subscript,n);i=i.trim(),o+=' the integral from <break time="200ms"/>'+r(i)+'<break time="200ms"/> to <break time="200ms"/>'+r(e)+' <break time="200ms"/> of ',l=!0}else o+=' the integral of <break time="200ms"/> ';else if("string"==typeof t.body){const e=Lg[t.body]||Lg[t.symbol];o+=e||" "+t.body}else t.symbol&&("\\"===t.symbol[0]?o+=" "+t.symbol.substr(1):o+=" "+t.symbol)}break;case"enclose":s=Ng("math",t.body,n),Ag(t.body)?o+=" crossed out "+s+" , ":o+=" crossed out "+s+". End cross out"}if(!l&&t.superscript){let r=Ng(e,t.superscript,n);r=r.trim();const i=r.replace(/<[^>]*>/g,"");if(Ag(t.superscript)){if("math"===e){const e=function(e){if($f(e))for(const t of e)if("first"!==t.type&&t.id)return t.id.toString();return""}(t.superscript);e&&(o+='<mark name="'+e+'"/>')}"′"===i?o+=" prime ":"2"===i?o+=" squared ":"3"===i?o+=" cubed ":isNaN(parseInt(i))?o+=" to the "+r+"; ":o+=' to the <say-as interpret-as="ordinal">'+i+"</say-as> power; "}else isNaN(parseInt(i))?o+=" raised to the "+r+"; ":o+=' raised to the <say-as interpret-as="ordinal">'+i+"</say-as> power; "}if(!l&&t.subscript){let e=Ng("math",t.subscript,n);e=e.trim(),Ag(t.subscript)?o+=" sub "+e:o+=" subscript "+e+". End subscript. "}}return o}function Dg(e,t){var n;const r={...t,textToSpeechRulesOptions:{...t.textToSpeechRulesOptions}};if(window.sre&&"sre"===r.textToSpeechRules){const t=Um(e,r);return t?(r.textToSpeechMarkup&&(r.textToSpeechRulesOptions=null!==(n=r.textToSpeechRulesOptions)&&void 0!==n?n:{},r.textToSpeechRulesOptions.markup=r.textToSpeechMarkup,"ssml"===r.textToSpeechRulesOptions.markup&&(r.textToSpeechRulesOptions.markup="ssml_step"),r.textToSpeechRulesOptions.rate=r.speechEngineRate),r.textToSpeechRulesOptions&&window.sre.System.getInstance().setupEngine(r.textToSpeechRulesOptions),window.sre.System.getInstance().toSpeech(t)):""}let o=Ng("math",e,r);if("ssml"===r.textToSpeechMarkup){let e="";r.speechEngineRate&&(e='<prosody rate="'+r.speechEngineRate+'">'),o='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+e+"<p><s>"+o+"</s></p>"+(e?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else o="mac"===r.textToSpeechMarkup&&"mac"===function(e){let t="other";return(null===navigator||void 0===navigator?void 0:navigator.platform)&&(null===navigator||void 0===navigator?void 0:navigator.userAgent)&&(/^(mac)/i.test(navigator.platform)?t="mac":/^(win)/i.test(navigator.platform)?t="win":/(android)/i.test(navigator.userAgent)?t="android":/(iphone)/i.test(navigator.userAgent)||/(ipod)/i.test(navigator.userAgent)||/(ipad)/i.test(navigator.userAgent)?t="ios":/\bCrOS\b/i.test(navigator.userAgent)&&(t="chromeos")),t===e?e:"!"+e}("mac")?o.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="([0-9]*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):o.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return o}function Pg(e,t,n){return t+Dg(n,{...e,textToSpeechMarkup:"",textToSpeechRulesOptions:{...e.textToSpeechRulesOptions,markup:"none"}})}function $g(e,t){if(!t&&window&&window.mathlive&&(t=window.mathlive.config),(t=null!=t?t:{}).speechEngine&&"local"!==t.speechEngine)if("amazon"===t.speechEngine)if(window&&window.AWS){const n=new window.AWS.Polly({apiVersion:"2016-06-10"}),r={OutputFormat:"mp3",VoiceId:t.speechEngineVoice,Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes(t.speechEngineVoice)?"neural":"standard",Text:e,TextType:"ssml"};n.synthesizeSpeech(r,(function(e,t){if(e)console.warn("polly.synthesizeSpeech() error:",e,e.stack);else if(null==t?void 0:t.AudioStream){const e=new Uint8Array(t.AudioStream),n=new Blob([e.buffer],{type:"audio/mpeg"}),r=URL.createObjectURL(n);new Audio(r).play().catch(e=>console.log(e))}else console.log("polly.synthesizeSpeech():"+t)}))}else console.warn("AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else"google"===t.speechEngine&&console.warn("The Google speech engine is not supported yet. Please come again.");else{const t=new SpeechSynthesisUtterance(e);window?window.speechSynthesis.speak(t):console.log("Speak: ",e)}}function Rg(e,t,n,r){let o="";"plonk"===t?(e.plonkSound&&(e.plonkSound.load(),e.plonkSound.play().catch(e=>console.warn(e))),e.resetKeystrokeBuffer()):"delete"===t?o=Pg(e.options,"deleted: ",r):"focus"===t||/move/.test(t)?o=(Kh(e.model)?"":"selected: ")+function(e,t){function n(e,t){return"body"===t.relation?{enclose:"cross out",leftright:"fence",surd:"square root",root:"math field"}[e.type]:{numer:"numerator",denom:"denominator",index:"index",body:"parent",subscript:"subscript",superscript:"superscript"}[t.relation]}const r=t?t.path:[],o=e.model.path,i=o[o.length-1];let a="";for(;r.length>o.length;)a+="out of "+n(t.parent(),r[r.length-1])+"; ",r.pop();if(!Kh(e.model))return Pg(e.options,"",qh(e.model));const s=n(e.model.parent(),i);0===i.offset&&(a+=(s?"start of "+s:"unknown")+": ");const l=e.model.sibling(Math.max(1,e.model.extent));l?a+=Pg(e.options,"",l):0!==i.offset&&(a+=s?"end of "+s:"unknown");return a}(e,n):"replacement"===t?o=Pg(e.options,"",e.model.sibling(0)):"line"===t?(e.accessibleNode.innerHTML=e.options.createHTML('<math xmlns="http://www.w3.org/1998/Math/MathML">'+Um(e.model.root,e.options)+"</math>"),o=Pg(e.options,"",e.model.root),e.keyboardDelegate.setAriaLabel("after: "+o)):o=r?Pg(e.options,t+" ",r):t;const i=/\u00a0/.test(e.ariaLiveText.textContent)?"   ":"   ";e.ariaLiveText.textContent=o+i}Jm({speak:(e,t,n)=>function(e,t,n){n=null!=n?n:{withHighlighting:!1};const r=function(e,t){let n=null;switch(t){case"all":n=e.model.root;break;case"selection":Kh(e.model)||(n=qh(e.model));break;case"left":{const t=e.model.siblings(),r=e.model.startOffset();if(r>=1){n=[];for(let e=1;e<=r;e++)n.push(t[e])}break}case"right":{const t=e.model.siblings(),r=e.model.endOffset()+1;if(r<=t.length-1){n=[];for(let e=r;e<=t.length-1;e++)n.push(t[e])}break}case"group":n=e.model.siblings();break;case"parent":{const t=e.model.parent();t&&"root"!==t.type&&(n=e.model.parent());break}}return n}(e,t);if(null===r)return e.options.speakHook(function(e){let t="";switch(e){case"all":console.log("Internal failure: speak all failed");break;case"selection":t="no selection";break;case"left":t="at start";break;case"right":t="at end";break;case"group":console.log("Internal failure: speak group failed");break;case"parent":t="no parent";break;default:console.log('unknown speak_ param value: "'+e+'"')}return t}(t),e.options),!1;const o={...e.options};(n.withHighlighting||"amazon"===o.speechEngine)&&(o.textToSpeechMarkup=window.sre&&"sre"===o.textToSpeechRules?"ssml_step":"ssml");const i=Dg(r,o);n.withHighlighting?(window.mathlive.readAloudMathField=e,Xm(e,{forHighlighting:!0}),e.options.readAloudHook&&e.options.readAloudHook(e.field,i,e.options)):e.options.speakHook&&e.options.speakHook(i,o);return!1}(e,t,n)},{target:"mathfield",category:"speech"});const Ig=()=>{};function Fg(e){if("string"==typeof e){const t=new Audio;return t.preload="none",t.src=e,t.volume=.5,t}return e}function qg(e){e instanceof HTMLAudioElement&&(e.pause(),e.removeAttribute("src"),e.load())}function jg(e,t){const n=Bg(e,Object.keys(e));return Object.keys(t).forEach(e=>{var r,o,i;switch(e){case"scriptDepth":if(Id(t.scriptDepth))n.scriptDepth=[t.scriptDepth[0],t.scriptDepth[1]];else{if("number"!=typeof t.scriptDepth)throw Error("Unexpected value for scriptDepth");n.scriptDepth=[t.scriptDepth,t.scriptDepth]}break;case"namespace":if(!/^[a-z]*[-]?$/.test(t.namespace))throw Error("namespace must be a string of lowercase characters only");/-$/.test(t.namespace)?n.namespace=t.namespace:n.namespace=t.namespace+"-";break;case"locale":n.locale="auto"===t.locale?null!==(r=null===navigator||void 0===navigator?void 0:navigator.language.slice(0,5))&&void 0!==r?r:"en":t.locale,Mg.locale=n.locale;break;case"strings":Mg.merge(t.strings),n.strings=Mg.strings;break;case"virtualKeyboardLayout":"auto"===t.virtualKeyboardLayout?n.virtualKeyboardLayout=null!==(o={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[Mg.locale.substring(0,2)])&&void 0!==o?o:"qwerty":n.virtualKeyboardLayout=t.virtualKeyboardLayout;break;case"virtualKeyboardMode":{const e=null===(i=window.matchMedia)||void 0===i?void 0:i.call(window,"(any-pointer: coarse)").matches;"auto"===t.virtualKeyboardMode?n.virtualKeyboardMode=e?"onfocus":"off":n.virtualKeyboardMode=t.virtualKeyboardMode}break;case"letterShapeStyle":"auto"===t.letterShapeStyle?"fr"===Mg.locale.substring(0,2)?n.letterShapeStyle="french":n.letterShapeStyle="tex":n.letterShapeStyle=t.letterShapeStyle;break;case"plonkSound":qg(n.plonkSound),n.plonkSound=Fg(t.plonkSound);break;case"keypressSound":if(qg(n.keypressSound),"string"==typeof t.keypressSound){const e=Fg(t.keypressSound);n.keypressSound={delete:e,return:e,spacebar:e,default:e}}else if(t.keypressSound instanceof HTMLAudioElement)n.keypressSound={delete:t.keypressSound,return:t.keypressSound,spacebar:t.keypressSound,default:t.keypressSound};else{if(!t.keypressSound.default)throw Error("Missing keypressSound.default");n.keypressSound={...t.keypressSound},n.keypressSound.return||(n.keypressSound.return=t.keypressSound.default),n.keypressSound.spacebar||(n.keypressSound.spacebar=t.keypressSound.default),n.keypressSound.delete||(n.keypressSound.delete=t.keypressSound.default)}break;case"onBlur":case"onFocus":case"onContentWillChange":case"onContentDidChange":case"onSelectionWillChange":case"onSelectionDidChange":case"onUndoStateWillChange":case"onUndoStateDidChange":case"onModeChange":case"onCommit":case"onVirtualKeyboardToggle":case"onReadAloudStatus":case"onError":if(null===t[e])n[e]=Ig;else if("function"!=typeof t[e])throw Error(e+" must be a function or null");n[e]=t[e];break;default:Id(t[e])?n[e]=[...t[e]]:"object"==typeof t[e]?n[e]={...t[e]}:n[e]=t[e]}}),void 0!==t.overrideDefaultInlineShortcuts&&(t.overrideDefaultInlineShortcuts?n.inlineShortcuts=t.inlineShortcuts:n.inlineShortcuts={...yh,...t.inlineShortcuts}),n}function Bg(e,t){let n;n="string"==typeof t?[t]:void 0===t?Object.keys(e):t;const r={};return n.forEach(t=>{Id(r[t])?r[t]=[...r[t]]:"object"==typeof r[t]?r[t]={...r[t]}:r[t]=e[t]}),"string"==typeof t?r[t]:r}function Kg(){return{namespace:"",substituteTextArea:void 0,readOnly:!1,createHTML:e=>e,fontsDirectory:"./fonts",defaultMode:"math",macros:xp,horizontalSpacingScale:1,letterShapeStyle:"auto",smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,ignoreSpacebarInMathMode:!0,locale:Mg.locale,strings:Mg.strings,keybindings:am,overrideDefaultInlineShortcuts:!1,inlineShortcuts:{},inlineShortcutTimeout:0,virtualKeyboardToggleGlyph:'<span style="width: 21px; margin-top: 4px;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg></span>',virtualKeyboardMode:"auto",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},customVirtualKeyboards:{},virtualKeyboardTheme:/android|cros/i.test(null===navigator||void 0===navigator?void 0:navigator.userAgent)?"material":"apple",keypressVibration:!0,keypressSound:null,plonkSound:null,textToSpeechRules:"mathlive",textToSpeechMarkup:"",textToSpeechRulesOptions:{},speechEngine:"local",speechEngineVoice:"Joanna",speechEngineRate:"100%",speakHook:Ig,readAloudHook:Ig,onAnnounce:Rg,onKeystroke:()=>!0,onMoveOutOf:()=>!0,onTabOutOf:()=>!0,onBlur:Ig,onFocus:Ig,onContentWillChange:Ig,onContentDidChange:Ig,onSelectionWillChange:Ig,onSelectionDidChange:Ig,onUndoStateWillChange:Ig,onUndoStateDidChange:Ig,onModeChange:Ig,onVirtualKeyboardToggle:Ig,onReadAloudStatus:Ig,onCommit:Ig,onError:()=>{}}}function Vg(e,t,n){"function"==typeof t&&(n=t,t=1/0),void 0===t&&(t=1/0);let r=0,o=!1;for(;!o;){const i=e.model.sibling(r);o=0===t||!i||"math"!==i.mode||!(/mord|textord|mpunct/.test(i.type)||"mop"===i.type&&/[a-zA-Z]+/.test(i.body))||Boolean(i.superscript)||Boolean(i.subscript)||n&&!n(i),o||(i.applyStyle({mode:"text"}),i.symbol=i.body,i.latex=""),r-=1,t-=1}Sh(e.model)}function Ug(e,t,n){"function"==typeof t&&(n=t,t=1/0),void 0===t&&(t=1/0);let r=0,o=!1;for(;!o;){const i=e.model.sibling(r);o=0===t||!i||"text"!==i.mode||" "===i.body||n&&!n(i),o||i.applyStyle({mode:"math"}),r-=1,t-=1}Hg(e),Sh(e.model)}function Hg(e){let t=0;for(;e.model.sibling(t)&&"math"===e.model.sibling(t).mode;)t-=1;if(e.model.sibling(t)&&"text"===e.model.sibling(t).mode&&" "===e.model.sibling(t).body&&(!e.model.sibling(t-1)||"math"===e.model.sibling(t-1).mode)){e.model.siblings().splice(t-1,1),Sh(e.model);const n=e.model.suppressChangeNotifications;e.model.suppressChangeNotifications=!0,Nh(e.model,e.model.anchorOffset()-1),e.model.suppressChangeNotifications=n}}function Wg(e,t,n){!function(e){const t=e.shiftKey&&e.altKey?3:e.altKey?2:e.shiftKey?1:0;if("Unidentified"===e.key)return;if("Dead"===e.key)return;const n=em.filter(n=>{var r;return(null===(r=n.mapping[e.code])||void 0===r?void 0:r[t])===e.key});0!==n.length&&(n.forEach(e=>{e.score+=1}),em.sort((e,t)=>t.score-e.score))}(n);const r=im();if(e.keyboardLayout!==r.id&&(e.keyboardLayout=r.id,e.keybindings=pm(e.options.keybindings,t=>{"function"==typeof e.options.onError&&e.options.onError({code:"invalid-keybinding",arg:t.join("\n")}),console.log(t.join("\n"))})),function(e,t){const n=e.keystrokeCaption;if(n&&e.keystrokeCaptionVisible){const r=e.element.getBoundingClientRect();n.style.left=r.left+"px",n.style.top=r.top-64+"px",n.innerHTML=e.options.createHTML("<span>"+(um(t)||t)+"</span>"+n.innerHTML),n.style.visibility="visible",setTimeout((function(){n.childNodes.length>0&&n.removeChild(n.childNodes[n.childNodes.length-1]),0===n.childNodes.length&&(n.style.visibility="hidden")}),3e3)}}(e,t),clearTimeout(e.keystrokeBufferResetTimer),e.options.onKeystroke&&!e.options.onKeystroke(e,t,n))return(null==n?void 0:n.preventDefault)&&(n.preventDefault(),n.stopPropagation()),!1;let o,i,a,s=!1;if("command"!==e.mode&&(!n||!n.ctrlKey&&!n.metaKey))if("[Backspace]"===t)e.keystrokeBuffer=e.keystrokeBuffer.slice(0,-1),e.keystrokeBufferStates.pop(),e.resetKeystrokeBuffer({defer:!0});else if(yg(n)){const t=wg(n),r=e.keystrokeBuffer+t;let a=0;for(;!o&&a<r.length;){let t;if(e.keystrokeBufferStates[a]){const n=new hg;n.root=Pf("math",jf(e.keystrokeBufferStates[a].latex,e.options.defaultMode,null,e.options.macros)),ig(n),n.selection=e.keystrokeBufferStates[a].selection,t=n.siblings()}else t=e.model.siblings();o=vh(t,r.slice(a),e.options.inlineShortcuts),a+=1}i=e.keystrokeBufferStates.length-(r.length-a),e.keystrokeBuffer+=t,e.keystrokeBufferStates.push(e.getUndoRecord()),function(e,t){const n=[],r=t.overrideDefaultInlineShortcuts;for(let o=0;o<=e.length-1;o++){const i=e.substring(o);r||Object.keys(yh).forEach(e=>{e.startsWith(i)&&!n.includes(e)&&n.push(e)});const a=(null==t?void 0:t.inlineShortcuts)?t.inlineShortcuts:null;a&&Object.keys(a).forEach(e=>{e.startsWith(i)&&n.push(e)})}return n}(r,e.options).length<=1?s=!0:e.resetKeystrokeBuffer({defer:!0})}else e.resetKeystrokeBuffer();if(e.options.smartMode){const r=e.mode;o?e.mode="math":function(e,t,n){if(e.smartModeSuppressed)return!1;if(e.model.endOffset()<e.model.siblings().length-1)return!1;if(!n||!yg(n))return!1;const r=wg(n);if(!Kh(e.model))return!("text"!==e.mode||!/[/_^]/.test(r));const o=function(e){let t="",n=0,r=!1;for(;!r;){const o=e.model.sibling(n);r=!(o&&("text"===o.mode&&!o.type||"math"===o.mode&&/mord|textord|mpunct/.test(o.type))),r||(t=o.body+t),n-=1}return t}(e)+r;if("text"===e.mode){if("Esc"===t||/[/\\]/.test(r))return!0;if(/[\^_]/.test(r))return/(^|\s)[a-zA-Z][^_]$/.test(o)&&Ug(e,1),!0;const n={")":"(","}":"{","]":"["}[r];if(n&&e.model.parent()&&"leftright"===e.model.parent().type&&e.model.parent().leftDelim===n)return!0;if(/(^|[^a-zA-Z])(a|I)[ ]$/.test(o))return!1;if(/[$€£₤₺¥¤฿¢₡₧₨₹₩₱]/u.test(r))return!0;if(/(^|[^a-zA-Z'’])[a-zA-Z][ ]$/.test(o))return Ug(e,1),!1;if(/[^0-9]\.[^0-9\s]$/.test(o)){Ug(e,1);const t=e.model.sibling(0);return t.body="⋅",t.variant="normal",t.symbol="\\cdot",t.latex="",!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(o))return Ug(e,1),!0;if(/\.[0-9]$/.test(o))return Ug(e,1),!0;if(/[(][0-9+\-.]$/.test(o))return Ug(e,1),!0;if(/[(][a-z][,;]$/.test(o))return Ug(e,2),!0;if(/[0-9+\-=><*|]$/.test(r))return Hg(e),!0}else{if("[Space]"===t)return Vg(e,void 0,e=>/[a-z][:,;.]$/.test(e.body)),!0;if(/[a-zA-Z]{3,}$/.test(o)&&!/(dxd|abc|xyz|uvw)$/.test(o))return Vg(e,void 0,e=>/[a-zA-Z]/.test(e.body)),!0;if(/(^|\W)(if|If)$/i.test(o))return Vg(e,1),!0;if(/(\u0393|\u0394|\u0398|\u039b|\u039E|\u03A0|\u03A3|\u03a5|\u03a6|\u03a8|\u03a9|[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5){3,}$/u.test(o)&&!/(αβγ)$/.test(o))return Vg(e,void 0,e=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039b|\u039E|\u03A0|\u03A3|\u03a5|\u03a6|\u03a8|\u03a9|[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5)/u.test(e.body)),!0;if("?"===r)return!0;if("."===r&&!/[0-9-+]\.$/.test(o))return!0}return!1}(e,t,n)&&(e.mode={math:"text",text:"math"}[e.mode],a=""),e.mode!==r&&"function"==typeof e.options.onModeChange&&e.options.onModeChange(e,e.mode)}if(o||a||(a=function(e,t,n){if(0===e.length)return"";for(let r=e.length-1;r>=0;r--)if(e[r].key===n&&(!e[r].ifMode||e[r].ifMode===t))return e[r].command;return""}(e.keybindings,e.mode,t)),!(o||a||"[Enter]"!==t&&"[Return]"!==t)&&"function"==typeof e.options.onCommit)return e.options.onCommit(e),(null==n?void 0:n.preventDefault)&&(n.preventDefault(),n.stopPropagation()),!1;if(!o&&!a)return!0;if(e.options.readOnly&&"insert"===a[0])return!0;zm(e.model,!1);const l=e.model.parent();if("moveAfterParent"===a&&l&&"leftright"===l.type&&e.model.endOffset()===e.model.siblings().length-1&&e.options.smartFence&&cg(e.model,".",e.style)&&(a="",Wm(e)),"math"===e.mode&&"[Spacebar]"===t&&!o){const t=e.model.sibling(1),n=e.model.sibling(-1);(t&&"text"===t.mode||n&&"text"===n.mode)&&ag(e.model," ",{mode:"text"})}if(a)e.executeCommand(a);else if(o){e.keyboardDelegate.cancelComposition();const t={...Oh(e.model),...e.style};if(!/^(\\{|\\}|\\[|\\]|\\@|\\#|\\$|\\%|\\^|\\_|\\backslash)$/.test(o)){const r=e.mode;ag(e.model,wg(n),{suppressChangeNotifications:!0,mode:e.mode,style:t}),e.snapshotAndCoalesce(),e.restoreToUndoRecord(e.keystrokeBufferStates[i]),e.mode=r}const r=e.model.suppressChangeNotifications;e.model.suppressChangeNotifications=!0,ag(e.model,o,{format:"latex",mode:e.mode,style:t,smartFence:!0}),Hg(e),o.endsWith(" ")&&(e.mode="text",ag(e.model," ",{mode:"text",style:t})),e.model.suppressChangeNotifications=r,Sh(e.model),xh(e.model),e.snapshot(),e.dirty=!0,e.model.announce("replacement"),s&&e.resetKeystrokeBuffer()}return e.scrollIntoView(),(null==n?void 0:n.preventDefault)&&(n.preventDefault(),n.stopPropagation()),!1}function Xg(e,t,n){if(e.options.readOnly)return void e.model.announce("plonk");if((n=null!=n?n:{}).focus&&e.focus(),n.feedback&&(e.options.keypressVibration&&(null===navigator||void 0===navigator?void 0:navigator.vibrate)&&navigator.vibrate(3),e.keypressSound&&(e.keypressSound.load(),e.keypressSound.play().catch(e=>console.warn(e)))),n.commandMode&&"command"!==e.mode&&e.switchMode("command"),zm(e.model,!1),n.simulateKeystroke){const n=t.charAt(0);if(!Wg(e,n,new KeyboardEvent("keypress",{key:n})))return}let r="",o=!1;const i={...Oh(e.model),...e.style},a=kf(t);for(const t of a)if("command"===e.mode){Xf(e.model),e.suggestionIndex=0;const n=Cm(e.model),i=jp(n+t);o=i.length>1,0===i.length?(ag(e.model,t,{mode:"command"}),/^\\[a-zA-Z\\*]+$/.test(n+t)&&zm(e.model,!0),Mm(e)):(ag(e.model,t,{mode:"command"}),i[0].match!==n+t&&zg(e.model,i[0].match,-i[0].match.length+n.length+1),r=i[0].match)}else if("math"===e.mode){const n={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[t];if(n){if("moveToSuperscript"===n){if(Gg(e)>=e.options.scriptDepth[1])return void e.model.announce("plonk")}else if("moveToSubscript"===n&&Jg(e)>=e.options.scriptDepth[0])return void e.model.announce("plonk");e.executeCommand(n)}else e.options.smartSuperscript&&"superscript"===e.model.relation()&&/[0-9]/.test(t)&&0===e.model.siblings().filter(e=>"first"!==e.type).length?(ag(e.model,t,{mode:"math",style:i}),Wh(e.model)):ag(e.model,t,{mode:"math",style:i,smartFence:e.options.smartFence})}else"text"===e.mode&&ag(e.model,t,{mode:"text",style:i});"command"!==e.mode&&e.snapshotAndCoalesce(),e.dirty=!0,e.scrollIntoView(),km(e,r,o)}function Gg(e){let t=0,n=0,r=e.model.ancestor(n),o=!1;for(;r;)(r.superscript||r.subscript)&&(t+=1),r.superscript?o=!0:r.subscript&&(o=!1),n+=1,r=e.model.ancestor(n);return o?t:0}function Jg(e){let t=0,n=0,r=e.model.ancestor(n),o=!1;for(;r;)(r.superscript||r.subscript)&&(t+=1),r.superscript?o=!1:r.subscript&&(o=!0),n+=1,r=e.model.ancestor(n);return o?t:0}let Zg;Jm({undo:e=>(Og(e),e.undo(),!0),redo:e=>(Og(e),e.redo(),!0),scrollIntoView:e=>(e.scrollIntoView(),!0),scrollToStart:e=>(e.field.scroll(0,0),!0),scrollToEnd:e=>{const t=e.field.getBoundingClientRect();return e.field.scroll(t.left-window.scrollX,0),!0},enterCommandMode:e=>(e.switchMode("command"),!0),toggleKeystrokeCaption:e=>(e.keystrokeCaptionVisible=!e.keystrokeCaptionVisible,e.keystrokeCaption.innerHTML="",e.keystrokeCaptionVisible||(e.keystrokeCaption.style.visibility="hidden"),!1),switchMode:(e,t)=>(e.switchMode(t),!0),insert:(e,t,n)=>e.insert(t,n),typedText:(e,t)=>(Xg(e,t),!0),commit:e=>("function"==typeof e.options.onCommit&&e.options.onCommit(e),!0)}),Jm({applyStyle:function(e,t){e.resetKeystrokeBuffer();const n=function(e){const t={};"string"==typeof e.mode&&(t.mode=e.mode.toLowerCase(),console.assert("math"===t.mode||"text"===t.mode||"command"===t.mode));"string"==typeof e.color&&(t.color=e.color);"string"==typeof e.backgroundColor&&(t.backgroundColor=e.backgroundColor);"string"==typeof e.fontFamily&&(t.fontFamily=e.fontFamily);"string"==typeof e.series&&(t.fontSeries=e.series);"string"==typeof e.fontSeries&&(t.fontSeries=e.fontSeries.toLowerCase());t.fontSeries&&(t.fontSeries={bold:"b",medium:"m",normal:"m"}[t.fontSeries]||t.fontSeries);"string"==typeof e.shape&&(t.fontShape=e.shape);"string"==typeof e.fontShape&&(t.fontShape=e.fontShape.toLowerCase());t.fontShape&&(t.fontShape={italic:"it",up:"n",upright:"n",normal:"n"}[t.fontShape]||t.fontShape);"string"==typeof e.size?t.fontSize=e.size:"number"==typeof e.size&&(t.fontSize="size"+Math.min(0,Math.max(10,e.size)));"string"==typeof e.fontSize&&(t.fontSize=e.fontSize.toLowerCase());t.fontSize&&(t.fontSize={tiny:"size1",scriptsize:"size2",footnotesize:"size3",small:"size4",normal:"size5",normalsize:"size5",large:"size6",Large:"size7",LARGE:"size8",huge:"size9",Huge:"size10"}[t.fontSize]||t.fontSize);return t}(t);if(n.mode){if(Kh(e.model))e.switchMode(n.mode);else{const t=e.mode,n="math"===(Ah(e.model)||e.options.defaultMode)?"text":"math";let r=e.getValue(e.selection,"ASCIIMath");if("math"===n&&/^"[^"]+"$/.test(r)&&(r=r.slice(1,-1)),e.insert(r,{mode:n,selectionMode:"item",format:"text"===n?"text":"ASCIIMath"}),e.mode=n,e.model.groupIsSelected()){const t=e.model.parent();!t||"group"!==t.type&&"root"!==t.type||(t.mode=n)}e.mode!==t&&"function"==typeof e.options.onModeChange&&e.options.onModeChange(e,e.mode)}delete n.mode}return Kh(e.model)?(e.style.fontSeries&&n.fontSeries===e.style.fontSeries&&(n.fontSeries="auto"),n.fontShape&&n.fontShape===e.style.fontShape&&(n.fontShape="auto"),n.color&&n.color===e.style.color&&(n.color="none"),n.backgroundColor&&n.backgroundColor===e.style.backgroundColor&&(n.backgroundColor="none"),n.fontSize&&n.fontSize===e.style.fontSize&&(n.fontSize="auto"),e.style={...e.style,...n}):(og(e.model,n),e.snapshot()),!0}},{target:"mathfield"}),Jm({copyToClipboard:e=>(e.focus(),Kh(e.model)&&e.select(),document.execCommand("copy"),!1),cutToClipboard:e=>(e.focus(),document.execCommand("cut"),!0),pasteFromClipboard:e=>(e.focus(),document.execCommand("paste"),!0)},{target:"mathfield",category:"clipboard"});let Yg=0;function Qg(e,t){const n=e;let r,o=!1,i=!1,a=!1;if(1!==t.buttons&&0!==t.buttons)return;let s=!1,l=!1;const c=t.touches?t.touches[0].clientX:t.clientX,u=t.touches?t.touches[0].clientY:t.clientY,d=Date.now(),p=setInterval(()=>{s?n.field.scroll({top:0,left:n.field.scrollLeft-16}):l&&n.field.scroll({top:0,left:n.field.scrollLeft+16})},32);function f(e){window.PointerEvent?(hm(n.field,"pointermove",h),hm(n.field,"pointerup pointercancel",f),n.field.releasePointerCapture(e.pointerId)):(hm(n.field,"touchmove",h),hm(n.field,"touchcancel touchend",f),hm(window,"mousemove",h),hm(window,"mouseup blur",f)),o=!1,clearInterval(p),e.preventDefault(),e.stopPropagation()}function h(t){const o=t.touches?t.touches[0].clientX:t.clientX,a=t.touches?t.touches[0].clientY:t.clientY,p="touch"===t.pointerType?20:5;if(Date.now()<d+500&&Math.abs(c-o)<p&&Math.abs(u-a)<p)return t.preventDefault(),void t.stopPropagation();const f=n.field.getBoundingClientRect();l=o>f.right,s=o<f.left;let h=r;window.PointerEvent?t.isPrimary||(h=ey(n,t.clientX,t.clientY,{bias:0})):t.touches&&2===t.touches.length&&(h=ey(n,t.touches[1].clientX,t.touches[1].clientY,{bias:0}));const m=ey(n,o,a,{bias:o<=c?o===c?0:-1:1});m&&Xh(n.model,h,m,{extendToWordBoundary:i})&&Wm(e),t.preventDefault(),t.stopPropagation()}Zg&&Math.abs(Zg.x-c)<5&&Math.abs(Zg.y-u)<5&&Date.now()<Zg.time+500?(Yg+=1,Zg.time=d):(Zg={x:c,y:u,time:d},Yg=1);const m=e.field.getBoundingClientRect();if(c>=m.left&&c<=m.right&&u>=m.top&&u<=m.bottom){e.hasFocus()||(a=!0,e.keyboardDelegate.focus()),e.resetKeystrokeBuffer(),e.smartModeSuppressed=!1;const s=e.field.querySelector(".ML__mathlive").getBoundingClientRect();r=c>s.right?[{relation:"body",offset:e.model.root.body.length-1}]:ey(e,c,u,{bias:0}),r&&(e.element.classList.add("tracking"),t.shiftKey?(Xh(e.model,e.model.path,r),r=eh(e.model.path),r[r.length-1].offset-=1):Ch(e.model,r,0),a=!0,e.style={},3===t.detail||Yg>2?(f(t),3!==t.detail&&3!==Yg||Bh(e.model)):o||(o=!0,window.PointerEvent?(fm(n.field,"pointermove",h),fm(n.field,"pointerup pointercancel",f),n.field.setPointerCapture(t.pointerId)):(fm(window,"blur",f),t.touches?(fm(t.target,"touchmove",h),fm(t.target,"touchcancel touchend",f)):(fm(window,"mousemove",h),fm(window,"mouseup",f))),2!==t.detail&&2!==Yg||(i=!0,jh(e.model))))}else Zg=null;a&&Wm(e),t.preventDefault()}function ey(e,t,n,r){var o;(r=null!=r?r:{}).bias=null!==(o=r.bias)&&void 0!==o?o:0;const i=function e(t,n,r){let o={element:null,distance:Number.POSITIVE_INFINITY},i=!0;if(t.getAttribute("data-atom-id")){o.element=t;const e=t.getBoundingClientRect(),a=n-(e.left+e.right)/2,s=r-(e.top+e.bottom)/2;o.distance=a*a+s*s,i=n>=e.left&&n<=e.right}if(i&&t.children)for(const i of t.children){const t=e(i,n,r);t.element&&t.distance<=o.distance&&(o=t)}return o}(e.field,t,n).element,a=i?i.getAttribute("data-atom-id"):null;if(!a)return;const s=Zh(e.model,e=>{if(!e.captureSelection)return e.id===a;let t=!1;return e.forEach(e=>{e.id===a&&(t=!0)}),t});if(!s||0===s.length)return;const l=Yf(s[0]).path;if(0===r.bias){const e=i.getBoundingClientRect();t<e.left+e.width/2&&!i.classList.contains("ML__placeholder")&&(l[l.length-1].offset=Math.max(0,l[l.length-1].offset-1))}else r.bias<0&&(l[l.length-1].offset=Math.min(e.model.siblings().length-1,Math.max(0,l[l.length-1].offset+r.bias)));return l}class ty{constructor(e){this.mathfield=e,this.element=document.createElement("div"),window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("touchend",this),window.addEventListener("touchcancel",this)}handleEvent(e){switch(e.type){case"mouseup":case"blur":case"touchend":case"touchcancel":py(this.mathfield)}}dispose(){gm(document.getElementById("mathlive-alternate-keys-panel")),this.element.remove()}}const ny={numeric:{tooltip:"keyboard.tooltip.numeric",layer:"math",label:"123",layers:["math"]},roman:{tooltip:"keyboard.tooltip.roman",layer:"lower-roman",label:"ABC",layers:["lower-roman","upper-roman"]},greek:{tooltip:"keyboard.tooltip.greek",layer:"lower-greek",label:"&alpha;&beta;&gamma;",classes:"tex-math",layers:["lower-greek","upper-greek"]},functions:{tooltip:"keyboard.tooltip.functions",layer:"functions",label:"<i>f</i>&thinsp;()",classes:"tex",layers:["functions"]},symbols:{tooltip:"keyboard.tooltip.symbols",layer:"symbols",label:"&infin;≠∈",classes:"tex",layers:["symbols"]},command:{tooltip:"keyboard.tooltip.command",command:"enterCommandMode",label:"<svg><use xlink:href='#svg-command' /></svg>",layers:["lower-command","upper-command","symbols-command"]},style:{tooltip:"keyboard.tooltip.style",layer:"style",label:"<b>b</b><i>i</i>𝔹"}},ry={"\\varphi ":["&Phi;","\\Phi "],"\\varsigma ":["&Sigma;","\\Sigma "],"\\epsilon ":["&#x0190;",'{\\char"0190}'],"\\rho ":["&#x3A1",'{\\char"3A1}'],"\\tau ":["&#x3A4;",'{\\char"3A4}'],"\\upsilon ":["&Upsilon;","\\Upsilon "],"\\theta ":["&Theta;","\\Theta "],"\\iota ":["&Iota;",'{\\char"399}'],"\\omicron ":["&#x039F;",'{\\char"39F}'],"\\pi ":["&Pi;","\\Pi "],"\\alpha ":["&Alpha;",'{\\char"391}'],"\\sigma ":["&Sigma;","\\Sigma "],"\\delta ":["&Delta;","\\Delta "],"\\phi ":["&#x03a6;","\\Phi "],"\\gamma ":["&Gamma;","\\Gamma "],"\\eta ":["&Eta;",'{\\char"397}'],"\\xi ":["&Xi;","\\Xi "],"\\kappa ":["&Kappa;",'{\\char"39A}'],"\\lambda ":["&Lambda;","\\Lambda "],"\\zeta ":["&Zeta;",'{\\char"396}'],"\\chi ":["&Chi;",'{\\char"3A7}'],"\\psi ":["&Psi;","\\Psi "],"\\omega ":["&Omega;","\\Omega "],"\\beta ":["&Beta;",'{\\char"392}'],"\\nu ":["&Nu;",'{\\char"39D}'],"\\mu ":["&Mu;",'{\\char"39C}']},oy={0:["\\emptyset","\\varnothing","\\infty",{latex:"#?_0",insert:"#@_0"},"\\circ","\\bigcirc","\\bullet"],2:["\\frac{1}{2}",{latex:"#?^2",insert:"#@^2"}],3:["\\frac{1}{3}",{latex:"#?^3",insert:"#@^3"}],".":[",",";","\\colon",{latex:":",aside:"ratio"},{latex:"\\cdotp",aside:"center dot",classes:"box"},{latex:"\\cdots",aside:"center ellipsis",classes:"box"},{latex:"\\ldotp",aside:"low dot",classes:"box"},{latex:"\\ldots",aside:"low ellipsis",classes:"box"},{latex:"\\vdots",aside:"",classes:"box"},{latex:"\\ddots",aside:"",classes:"box"},"\\odot","\\oslash","\\circledcirc"],"*":["\\cdot","\\ast","\\star","\\bigstar","\\ltimes","\\rtimes","\\rightthreetimes","\\leftthreetimes","\\intercal","\\prod",{latex:"\\prod_{n\\mathop=0}^{\\infty}",classes:"small"}],"+":["\\pm","\\mp","\\sum",{latex:"\\sum_{n\\mathop=0}^{\\infty}",classes:"small"},"\\dotplus","\\oplus"],"-":["\\pm","\\mp","\\ominus","\\vert #0  \\vert"],"/":["\\divideontimes","/","\\div"],"(":["\\left( #0\\right)","\\left[ #0\\right]","\\left\\{ #0\\right\\}","\\left\\langle #0\\right\\rangle","\\lfloor","\\llcorner","(","\\lbrack","\\lvert","\\lVert","\\lgroup","\\langle","\\lceil","\\ulcorner","\\lmoustache","\\lbrace"],")":["\\rfloor","\\lrcorner",")","\\rbrack","\\rvert","\\rVert","\\rgroup","\\rangle","\\rceil","\\urcorner","\\rmoustache","\\rbrace"],"=":["\\cong","\\asymp","\\equiv","\\differencedelta","\\varpropto","\\thickapprox","\\approxeq","\\thicksim","\\backsim","\\eqsim","\\simeq","\\Bumpeq","\\bumpeq","\\doteq","\\Doteq","\\fallingdotseq","\\risingdotseq","\\coloneq","\\eqcirc","\\circeq","\\triangleq","\\between"],"!=":["\\neq","\\ncong","","\\nsim"],"<":["\\leq","\\leqq","\\lneqq","\\ll","\\nless","\\nleq","\\precsim","\\lesssim","\\lessgtr","\\prec","\\preccurlyeq","\\lessdot","\\nprec"],">":["\\geq","\\geqq","\\gneqq","\\gg","\\ngtr","\\ngeq","\\succsim","\\gtrsim","\\gtrless","\\succ","\\succcurlyeq","\\gtrdot","\\nsucc"],set:["\\in","\\owns","\\subset","\\nsubset","\\supset","\\nsupset"],"!set":["\\notin","\\backepsilon"],subset:[],supset:[],infinity:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"],"numeric-pi":["\\prod","\\theta","\\rho","\\sin","\\cos","\\tan"],ee:["\\times 10^{#?}","\\ln","\\ln_{10}","\\log"],"^":["_{#?}"],int:[{latex:"\\int_{#?}^{#?}",classes:"small"},{latex:"\\int",classes:"small"},{latex:"\\smallint",classes:"small"},{latex:"\\iint",classes:"small"},{latex:"\\iiint",classes:"small"},{latex:"\\oint",classes:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",classes:"small"},{latex:"\\frac{\\partial}{\\partial x}",classes:"small"},"\\capitalDifferentialD","\\rd","\\partial"],nabla:["\\nabla\\times","\\nabla\\cdot","\\nabla^{2}"],"!":["!!","\\Gamma","\\Pi"],accents:["\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],B:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],D:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"}],g:[{latex:"\\gimel",aside:"gimel"}],G:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\N",aside:"set of natural numbers"}],p:[{latex:"\\P",aside:"set of primes"}],q:[{latex:"\\Q",aside:"set of rational numbers"}],r:[{latex:"\\R",aside:"set of real numbers"}],z:[{latex:"\\Z",aside:"set of integers"}],"x-var":["y","z","t","r",{latex:"f(#?)",classes:"small"},{latex:"g(#?)",classes:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"],"n-var":["i","j","p","k","a","u"],ii:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"],logic:[{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},{latex:"\\ni",aside:"such that"},{latex:"\\Colon",aside:"such that"},{latex:"\\implies",aside:"implies"},{latex:"\\impliedby",aside:"implied by"},{latex:"\\iff",aside:"if and only if"},{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"},{latex:"\\therefore",aside:"therefore"},{latex:"\\because",aside:"because"},{latex:"^\\biconditional",aside:"biconditional"},"\\leftrightarrow","\\Leftrightarrow","\\to","\\models","\\vdash","\\gets","\\dashv","\\roundimplies"],"set-operators":["\\cap","\\cup","\\setminus","\\smallsetminus","\\complement"],"set-relations":["\\in","\\notin","\\ni","\\owns","\\subset","\\supset","\\subseteq","\\supseteq","\\subsetneq","\\supsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>⁻³⧸₁₈ em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space<br>³⧸₁₈ em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space<br>⁴⧸₁₈ em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space<br>⁵⧸₁₈ em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:"⅓ em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',insert:"\\enspace",aside:"½ em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}],delete:[{label:'<span class="warning"><svg><use xlink:href="#svg-trash" /></svg></span>',command:'"deleteAll"'}],"->|":[]};let iy={};const ay={math:"\n        <div class='rows'>\n            <ul>\n                <li class='keycap tex' data-alt-keys='x-var'><i>x</i></li>\n                <li class='keycap tex' data-alt-keys='n-var'><i>n</i></li>\n                <li class='separator w5'></li>\n                <row name='numpad-1'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-insert='$$\\exponentialE$$' data-alt-keys='ee'>e</li>\n                <li class='keycap tex' data-insert='$$\\imaginaryI$$' data-alt-keys='ii'>i</li>\n                <li class='keycap tex' data-latex='\\pi' data-alt-keys='numeric-pi'></li>\n            </ul>\n            <ul>\n                <li class='keycap tex' data-key='<' data-alt-keys='<'>&lt;</li>\n                <li class='keycap tex' data-key='>' data-alt-keys='>'>&gt;</li>\n                <li class='separator w5'></li>\n                <row name='numpad-2'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='x2' data-insert='$$#@^{2}$$'><span><i>x</i>&thinsp;²</span></li>\n                <li class='keycap tex' data-alt-keys='^' data-insert='$$#@^{#?}$$'><span><i>x</i><sup>&thinsp;<small>&#x2b1a;</small></sup></span></li>\n                <li class='keycap tex' data-alt-keys='sqrt' data-insert='$$\\sqrt{#0}$$' data-latex='\\sqrt{#0}'></li>\n            </ul>\n            <ul>\n                <li class='keycap tex' data-alt-keys='(' >(</li>\n                <li class='keycap tex' data-alt-keys=')' >)</li>\n                <li class='separator w5'></li>\n                <row name='numpad-3'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex small' data-alt-keys='int' data-latex='\\int_0^\\infty'><span></span></li>\n                <li class='keycap tex' data-latex='\\forall' data-alt-keys='logic' ></li>\n                <li class='action font-glyph bottom right' data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            </ul>\n            <ul>\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"#cc2428\"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'></span></li>\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"#fff590\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span></li>\n                <li class='separator w5'></li>\n                <row name='numpad-4'/>\n                <li class='separator w5'></li>\n                <arrows/>\n            </ul>\n        </div>\n    ","lower-roman":"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <row name='lower-1' shift-layer='upper-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <row name='lower-2'  shift-layer='upper-roman''/>\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <row name='lower-3'  shift-layer='upper-roman''/>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='keycap' >;</li>\n                <li class='keycap' data-alt-keys=','>,</li>\n                <li class='keycap w50' data-key=' ' data-alt-keys='space'>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","upper-roman":"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <row name='upper-1'  shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <row name='upper-2' shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <row name='upper-3' shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='keycap' >;</li>\n                <li class='keycap' data-alt-keys='.'>;</li>\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",symbols:"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrace '>{</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrace '>}</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='set' data-insert='\\in '>&#x2208;</li>\n                <li class='keycap tex' data-alt-keys='!set' data-insert='\\notin '>&#x2209;</li>\n                <li class='keycap tex' data-insert='\\Re '>&#x211c;<aside>Real</aside></li>\n                <li class='keycap tex' data-insert='\\Im '>&#x2111;<aside>Imaginary</aside></li>\n                <li class='keycap w15' data-insert='\\ulcorner#0\\urcorner '><span><sup>&#x250c;</sup><span><span style='color:#ddd'>o</span><sup>&#x2510;</sup></span><aside>ceil</aside></li>\n                <li class='keycap tex' data-alt-keys='nabla' data-insert='\\nabla '>&#x2207;<aside>nabla</aside></li>\n                <li class='keycap tex' data-alt-keys='infinity' data-insert='\\infty '>&#x221e;</li>\n\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrack '>[</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrack '>]</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='subset' data-insert='\\subset '>&#x2282;</li>\n                <li class='keycap tex' data-alt-keys='supset' data-insert='\\supset '>&#x2283;</li>\n                <li class='keycap tex' data-key='!' data-alt-keys='!'>!<aside>factorial</aside></li>\n                <li class='keycap' data-insert='$$^{\\prime} $$'><span><sup><span><span style='color:#ddd'>o</span>&#x2032</sup></span><aside>prime</aside></li>\n                <li class='keycap w15' data-insert='\\llcorner#0\\lrcorner '><span><sub>&#x2514;</sub><span style='color:#ddd'>o</span><sub>&#x2518;</sub></span><aside>floor</aside></li>\n                <li class='keycap tex' data-insert='\\partial '>&#x2202;<aside>partial<br>derivative</aside></li>\n                <li class='keycap tex' data-insert='\\emptyset '>&#x2205;<aside>empty set</aside></li>\n\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\langle '>&#x27e8;</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rangle '>&#x27e9;</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-insert='\\subseteq '>&#x2286;</li>\n                <li class='keycap tex' data-insert='\\supseteq '>&#x2287;</li>\n                <li class='keycap tex' data-alt-keys='accents' data-insert='$$\\vec{#@}$$' data-latex='\\vec{#?}' data-aside='vector'></li>\n                <li class='keycap tex' data-alt-keys='accents' data-insert='$$\\bar{#@}$$' data-latex='\\bar{#?}' data-aside='bar'></li>\n                <li class='keycap tex' data-alt-keys='absnorm' data-insert='$$\\left| #0 \\right|$$' data-latex='\\left| #? \\right|' data-aside='abs'></li>\n                <li class='keycap tex' data-insert='\\ast '>&#x2217;<aside>asterisk</aside></li>\n\n                <li class='action font-glyph bottom right w15'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='keycap tex' data-insert=','>,</li>\n                <li class='keycap tex' data-insert='\\cdot '>&#x22c5;<aside>centered dot</aside></li>\n                <li class='keycap tex' data-insert='\\colon '>:<aside>colon</aside></li>\n                <li class='keycap tex' data-insert='\\circ '>&#x2218;<aside>circle</aside></li>\n                <li class='keycap tex' data-insert='\\approx '>&#x2248;<aside>approx.</aside></li>\n                <li class='keycap tex' data-insert='\\ne '>&#x2260;</li>\n                <li class='keycap tex' data-insert='\\pm '>&#x00b1;</li>\n                <arrows/>\n            </ul>\n        </div>","lower-greek":"\n        <div class='rows'>\n            <ul><li class='keycap tex' data-insert='\\varphi '><i>&#x03c6;</i><aside>phi var.</aside></li>\n                <li class='keycap tex' data-insert='\\varsigma '><i>&#x03c2;</i><aside>sigma var.</aside></li>\n                <li class='keycap tex' data-insert='\\epsilon '><i>&#x03f5;</i></li>\n                <li class='keycap tex' data-insert='\\rho '><i>&rho;</i></li>\n                <li class='keycap tex' data-insert='\\tau '><i>&tau;</i></li>\n                <li class='keycap tex' data-insert='\\upsilon '><i>&upsilon;</i></li>\n                <li class='keycap tex' data-insert='\\theta '><i>&theta;</i></li>\n                <li class='keycap tex' data-insert='\\iota '><i>&iota;</i></li>\n                <li class='keycap tex' data-insert='\\omicron '>&omicron;</i></li>\n                <li class='keycap tex' data-insert='\\pi '><i>&pi;</i></li>\n            </ul>\n            <ul><li class='keycap tex' data-insert='\\alpha ' data-shifted='&Alpha;' data-shifted-command='[\"insert\",\"{\\\\char\\\"391}\"]'><i>&alpha;</i></li>\n                <li class='keycap tex' data-insert='\\sigma '><i>&sigma;</i></li>\n                <li class='keycap tex' data-insert='\\delta '><i>&delta;</i></li>\n                <li class='keycap tex' data-insert='\\phi '><i>&#x03d5;</i></i></li>\n                <li class='keycap tex' data-insert='\\gamma '><i>&gamma;</i></li>\n                <li class='keycap tex' data-insert='\\eta '><i>&eta;</i></li>\n                <li class='keycap tex' data-insert='\\xi '><i>&xi;</i></li>\n                <li class='keycap tex' data-insert='\\kappa '><i>&kappa;</i></li>\n                <li class='keycap tex' data-insert='\\lambda '><i>&lambda;</i></li>\n            </ul>\n            <ul><li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='upper-greek'>&#x21e7;</li>\n                <li class='keycap tex' data-insert='\\zeta '><i>&zeta;</i></li>\n                <li class='keycap tex' data-insert='\\chi '><i>&chi;</i></li>\n                <li class='keycap tex' data-insert='\\psi '><i>&psi;</i></li>\n                <li class='keycap tex' data-insert='\\omega '><i>&omega;</i></li>\n                <li class='keycap tex' data-insert='\\beta '><i>&beta;</i></li>\n                <li class='keycap tex' data-insert='\\nu '><i>&nu;</i></li>\n                <li class='keycap tex' data-insert='\\mu '><i>&mu;</i></li>\n                <li class='action font-glyph bottom right w15'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <li class='keycap ' data-key=' '>&nbsp;</li>\n                <li class='keycap'>,</li>\n                <li class='keycap tex' data-insert='\\varepsilon '><i>&#x03b5;</i><aside>epsilon var.</aside></li>\n                <li class='keycap tex' data-insert='\\vartheta '><i>&#x03d1;</i><aside>theta var.</aside></li>\n                <li class='keycap tex' data-insert='\\varkappa '><i>&#x3f0;</i><aside>kappa var.</aside></li>\n                <li class='keycap tex' data-insert='\\varpi '><i>&#x03d6;<aside>pi var.</aside></i></li>\n                <li class='keycap tex' data-insert='\\varrho '><i>&#x03f1;</i><aside>rho var.</aside></li>\n                <arrows/>\n            </ul>\n        </div>","upper-greek":"\n        <div class='rows'>\n            <ul><li class='keycap tex' data-insert='\\Phi '>&Phi;<aside>phi</aside></li>\n                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"0190}'>&#x0190;<aside>epsilon</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A1}'>&#x3A1;<aside>rho</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A4}'>&#x3A4;<aside>tau</aside></li>\n                <li class='keycap tex' data-insert='\\Upsilon '>&Upsilon;<aside>upsilon</aside></li>\n                <li class='keycap tex' data-insert='\\Theta '>&Theta;<aside>theta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"399}'>&Iota;<aside>iota</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39F}'>&#x039F;<aside>omicron</aside></li>\n                <li class='keycap tex' data-insert='\\Pi '>&Pi;<aside>pi</aside></li></ul>\n            <ul><li class='keycap tex' data-insert='{\\char\"391}'>&#x391;<aside>alpha</aside></li>\n                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>\n                <li class='keycap tex' data-insert='\\Delta '>&Delta;<aside>delta</aside></li>\n                <li class='keycap tex' data-insert='\\Phi '>&#x03a6;<aside>phi</aside></li>\n                <li class='keycap tex' data-insert='\\Gamma '>&Gamma;<aside>gamma</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"397}'>&Eta;<aside>eta</aside></li>\n                <li class='keycap tex' data-insert='\\Xi '>&Xi;<aside>xi</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39A}'>&Kappa;<aside>kappa</aside></li>\n                <li class='keycap tex' data-insert='\\Lambda '>&Lambda;<aside>lambda</aside></li></ul>\n            <ul><li class='shift modifier font-glyph bottom left selected w15 layer-switch' data-layer='lower-greek'>&#x21e7;</li>\n                <li class='keycap tex' data-insert='{\\char\"396}'>&Zeta;<aside>zeta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A7}'>&Chi;<aside>chi</aside></li>\n                <li class='keycap tex' data-insert='\\Psi '>&Psi;<aside>psi</aside></li>\n                <li class='keycap tex' data-insert='\\Omega '>&Omega;<aside>omega</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"392}'>&Beta;<aside>beta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39D}'>&Nu;<aside>nu</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39C}'>&Mu;<aside>mu</aside></li>\n                <li class='action font-glyph bottom right w15' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            <ul>\n                <li class='separator w10'>&nbsp;</li>\n                <li class='keycap'>.</li>\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","lower-command":"\n        <div class='rows'>\n            <ul><row name='lower-1' class='tt' shift-layer='upper-command'/></ul>\n            <ul><row name='lower-2' class='tt' shift-layer='upper-command'/></ul>\n            <ul><row name='lower-3' class='tt' shift-layer='upper-command'/></ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols-command'>01#</li>\n                <li class='keycap tt' data-shifted='[' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"[\"]'>{</li>\n                <li class='keycap tt' data-shifted=']' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"]\"]'>}</li>\n                <li class='keycap tt' data-shifted='(' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"(\"]'>^</li>\n                <li class='keycap tt' data-shifted=')' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \")\"]'>_</li>\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","upper-command":"\n        <div class='rows'>\n            <ul><row name='upper-1' class='tt' shift-layer='lower-command'/></ul>\n            <ul><row name='upper-2' class='tt' shift-layer='lower-command'/></ul>\n            <ul><row name='upper-3' class='tt' shift-layer='lower-command'/></ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols-command'01#</li>\n                <li class='keycap tt'>[</li>\n                <li class='keycap tt'>]</li>\n                <li class='keycap tt'>(</li>\n                <li class='keycap tt'>)</li>\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","symbols-command":"\n        <div class='rows'>\n            <ul><li class='keycap tt'>1</li><li class='keycap tt'>2</li><li class='keycap tt'>3</li><li class='keycap tt'>4</li><li class='keycap tt'>5</li><li class='keycap tt'>6</li><li class='keycap tt'>7</li><li class='keycap tt'>8</li><li class='keycap tt'>9</li><li class='keycap tt'>0</li></ul>\n            <ul><li class='keycap tt'>!</li><li class='keycap tt'>@</li><li class='keycap tt'>#</li><li class='keycap tt'>$</li><li class='keycap tt'>%</li><li class='keycap tt'>^</li><li class='keycap tt'>&</li><li class='keycap tt'>*</li><li class='keycap tt'>+</li><li class='keycap tt'>=</li></ul>\n            <ul>\n                <li class='keycap tt'>\\</li>\n                <li class='keycap tt'>|</li>\n                <li class='keycap tt'>/</li>\n                <li class='keycap tt'>`</li>\n                <li class='keycap tt'>;</li>\n                <li class='keycap tt'>:</li>\n                <li class='keycap tt'>?</li>\n                <li class='keycap tt'>'</li>\n                <li class='keycap tt'>\"</li>\n                <li class='action font-glyph bottom right'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='lower-command'>abc</li>\n                <li class='keycap tt'>&lt;</li>\n                <li class='keycap tt'>&gt;</li>\n                <li class='keycap tt'>~</li>\n                <li class='keycap tt'>,</li>\n                <li class='keycap tt'>.</li>\n                <li class='keycap' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",functions:"\n        <div class='rows'>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\sin'></li>\n                <li class='fnbutton' data-insert='\\sin^{-1}'></li>\n                <li class='fnbutton' data-insert='\\ln'></li>\n                <li class='fnbutton' data-insert='\\exponentialE^{#?}'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{lcm}(#?)$$' data-latex='\\operatorname{lcm}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{ceil}(#?)$$' data-latex='\\operatorname{ceil}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\lim_{n\\to\\infty}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\int$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{abs}(#?)$$' data-latex='\\operatorname{abs}()'></li>\n            </ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\cos'></li>\n                <li class='fnbutton' data-insert='\\cos^{-1}'></li>\n                <li class='fnbutton' data-insert='\\ln_{10}'></li>\n                <li class='fnbutton' data-insert='$$10^{#?}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{gcd}(#?)$$' data-latex='\\operatorname{gcd}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{floor}(#?)$$' data-latex='\\operatorname{floor}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\sum_{n\\mathop=0}^{\\infty}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\int_{0}^{\\infty}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{sign}(#?)$$' data-latex='\\operatorname{sign}()'></li>\n            </ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\tan'></li>\n                <li class='fnbutton' data-insert='\\tan^{-1}'></li>\n                <li class='fnbutton' data-insert='$$\\log_{#?}$$'></li>\n                <li class='fnbutton' data-insert='$$\\sqrt[#?]{#0}$$'></li>\n                <li class='bigfnbutton' data-insert='$$#0 \\mod$$' data-latex='\\mod'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{round}(#?) $$' data-latex='\\operatorname{round}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\prod_{n\\mathop=0}^{\\infty}$$' data-latex='{\\scriptstyle \\prod_{n=0}^{\\infty}}'></li>\n                <li class='bigfnbutton' data-insert='$$\\frac{\\differentialD #0}{\\differentialD x}$$'></li>\n                <li class='action font-glyph bottom right' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton'>(</li>\n                <li class='fnbutton'>)</li>\n                <li class='fnbutton' data-insert='$$^{#?} $$' data-latex='x^{#?} '></li>\n                <li class='fnbutton' data-insert='$$_{#?} $$' data-latex='x_{#?} '></li>\n                <li class='keycap w20 ' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",style:"\n        <div class='rows'>\n            <ul>\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"#cc2428\"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428'></span></li>\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"#fff590\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590'></span></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size3\"}]' data-latex='\\scriptsize\\text{small}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size5\"}]' data-latex='\\scriptsize\\text{normal}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size9\"}]' data-latex='\\huge\\text{big}'></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-latex='\\langle' data-command='[\"insert\", \"\\\\langle\", {\"smartFence\":true}]'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"l\"}]' data-latex='\\fontseries{l}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"m\"}]' data-latex='\\fontseries{m}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"b\"}]' data-latex='\\fontseries{b}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"bx\"}]' data-latex='\\fontseries{bx}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"sb\"}]' data-latex='\\fontseries{sb}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"c\"}]' data-latex='\\fontseries{c}\\text{Ab}'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"up\"}]' data-latex='\\textup{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"it\"}]' data-latex='\\textit{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"sl\"}]' data-latex='\\textsl{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"sc\"}]' data-latex='\\textsc{Ab}'></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-insert='$$\\emph{#?} $$' data-latex='\\text{\\emph{emph}}'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmr\"}]' data-latex='\\textrm{Az}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmtt\"}]' data-latex='\\texttt{Az}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmss\"}]' data-latex='\\textsf{Az}'></li>\n\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"bb\"}]'  data-latex='\\mathbb{AZ}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"scr\"}]'  data-latex='\\mathscr{AZ}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cal\"}]' data-latex='\\mathcal{A1}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"frak\"}]' data-latex='\\mathfrak{Az}'></li>\n            </ul>\n        </div>"};function sy(e,t,n){return e=e.replace(/(^|[^\\])#@/g,"$1#?"),hp(pp(Nf({mathstyle:Xd.displaystyle,macros:n.options.macros},jf(e,"math",t,n.options.macros)),"ML__base"),"ML__mathlive").toMarkup()}function ly(e,t,n){var r;let o="<div class='left'>";const i=t.replace(/\s+/g," ").split(" ");if(i.length>1){const t={...ny,...null!==(r=e.options.customVirtualKeyboards)&&void 0!==r?r:{}};for(const e of i){if(!t[e]){console.error('Unknown virtual keyboard "'+e+'"');break}o+="<div class='",e===n?o+="selected ":t[e].command?o+="action ":o+="layer-switch ",o+=(t[e].classes||"")+"'",t[e].tooltip&&(o+="data-ML__tooltip='"+Cg(t[e].tooltip)+"' ",o+="data-placement='top' data-delay='1s'"),e!==n&&(t[e].command&&(o+="data-command='\""+t[e].command+"\"'"),t[e].layer&&(o+="data-layer='"+t[e].layer+"'")),o+=">"+t[e].label+"</div>"}}return o+="</div>",o+=`\n        <div class='right'>\n            <div class='action'\n                data-command='"copyToClipboard"'\n                data-ML__tooltip='${Cg("tooltip.copy to clipboard")}' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-copy' /></svg>\n            </div>\n            <div class='action disabled'\n                data-command='"undo"'\n                data-ML__tooltip='${Cg("tooltip.undo")}' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-undo' /></svg>\n            </div>\n            <div class='action disabled'\n                data-command='"redo"'\n                data-ML__tooltip='${Cg("tooltip.redo")}' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-redo' /></svg>\n            </div>\n        </div>\n    `,"<div class='keyboard-toolbar' role='toolbar'>"+o+"</div>"}function cy(e,t,n){var r;for(let o=0;o<t.length;++o){const i=t[o];let a;i.getAttribute("data-latex")?a=sy(i.getAttribute("data-latex").replace(/&quot;/g,'"'),{"?":'{\\color{#555}{\\scriptstyle \\char"2B1A}}'},e):i.getAttribute("data-insert")&&""===i.innerHTML?a=sy(i.getAttribute("data-insert").replace(/&quot;/g,'"'),{"?":'{\\color{#555}{\\scriptstyle \\char"2B1A}}'},e):i.getAttribute("data-content")&&(a=i.getAttribute("data-content").replace(/&quot;/g,'"')),i.getAttribute("data-aside")&&(a=(null!=a?a:"")+"<aside>"+i.getAttribute("data-aside").replace(/&quot;/g,'"')+"</aside>"),void 0!==a&&(i.innerHTML=e.options.createHTML(a)),i.getAttribute("data-classes")&&i.classList.add(i.getAttribute("data-classes"));const s=null===(r=i.getAttribute("data-insert"))||void 0===r?void 0:r.replace(/&quot;/g,'"');let l;if(s&&ry[s]&&(i.setAttribute("data-shifted",ry[s][0]),i.setAttribute("data-shifted-command",JSON.stringify(["insertAndUnshiftKeyboardLayer",ry[s][1]]))),l=i.getAttribute("data-command")?JSON.parse(i.getAttribute("data-command")):i.getAttribute("data-insert")?["insert",i.getAttribute("data-insert"),{focus:!0,feedback:!0,mode:"math",format:"latex",resetStyle:!0}]:i.getAttribute("data-latex")?["insert",i.getAttribute("data-latex"),{focus:!0,feedback:!0,mode:"math",format:"latex",resetStyle:!0}]:["typedText",i.getAttribute("data-key")||i.textContent,{focus:!0,feedback:!0,simulateKeystroke:!0}],n&&(l=[n,l]),i.getAttribute("data-alt-keys")){const e=iy[i.getAttribute("data-alt-keys")];e?l={default:l,pressAndHoldStart:["showAlternateKeys",i.getAttribute("data-alt-keys"),e],pressAndHoldEnd:"hideAlternateKeys"}:console.warn('Unknown alt key set: "'+i.getAttribute("data-alt-keys"))}wm(e,i,l)}}function uy(e,t){const n={qwerty:{"lower-1":"qwertyuiop","lower-2":" asdfghjkl ","lower-3":"^zxcvbnm~","upper-1":"QWERTYUIOP","upper-2":" ASDFGHJKL ","upper-3":"^ZXCVBNM~","numpad-1":"789/","numpad-2":"456*","numpad-3":"123-","numpad-4":"0.=+"},azerty:{"lower-1":"azertyuiop","lower-2":"qsdfghjklm","lower-3":"^ wxcvbn ~","upper-1":"AZERTYUIOP","upper-2":"QSDFGHJKLM","upper-3":"^ WXCVBN ~"},qwertz:{"lower-1":"qwertzuiop","lower-2":" asdfghjkl ","lower-3":"^yxcvbnm~","upper-1":"QWERTZUIOP","upper-2":" ASDFGHJKL","upper-3":"^YXCVBNM~"},dvorak:{"lower-1":"^  pyfgcrl ","lower-2":"aoeuidhtns","lower-3":"qjkxbmwvz~","upper-1":"^  PYFGCRL ","upper-2":"AOEUIDHTNS","upper-3":"QJKXBMWVZ~"},colemak:{"lower-1":" qwfpgjluy ","lower-2":"arstdhneio","lower-3":"^zxcvbkm~","upper-1":" QWFPGNLUY ","upper-2":"ARSTDHNEIO","upper-3":"^ZXCVBKM~"}},r=n[e.options.virtualKeyboardLayout]?n[e.options.virtualKeyboardLayout]:n.qwerty;let o,i=t;i=i.replace(/<arrows\/>/g,"\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToPreviousChar\"]'\n            data-shifted='<svg><use xlink:href=\"#svg-angle-double-left\" /></svg>'\n            data-shifted-command='[\"performWithFeedback\",\"extendToPreviousChar\"]'>\n            <svg><use xlink:href='#svg-arrow-left' /></svg>\n        </li>\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToNextChar\"]'\n            data-shifted='<svg><use xlink:href=\"#svg-angle-double-right\" /></svg>'\n            data-shifted-command='[\"performWithFeedback\",\"extendToNextChar\"]'>\n            <svg><use xlink:href='#svg-arrow-right' /></svg>\n        </li>\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToNextPlaceholder\"]'>\n        <svg><use xlink:href='#svg-tab' /></svg></li>");let a=i.match(/(<row\s+)(.*)((?:<\/row|\/)>)/);for(;a;){o="";const e=a[2].match(/[a-zA-Z][a-zA-Z0-9-]*=(['"])(.*?)\1/g),t={};for(const n of e){const e=n.match(/([a-zA-Z][a-zA-Z0-9-]*)=(['"])(.*?)\2/);t[e[1]]=e[3]}let s=r[t.name];if(s||(s=n.qwerty[t.name]),s)for(const e of s){let n=t.class||"";n&&(n=" "+n),"~"===e?(o+="<li class='action font-glyph bottom right ",o+=s.length-(s.match(/ /g)||[]).length/2==10?"w10":"w15",o+='\' data-shifted=\'<span class="warning"><svg><use xlink:href="#svg-trash" /></svg></span>\'\n                        data-shifted-command=\'"deleteAll"\'\n                        data-alt-keys=\'delete\' data-command=\'["performWithFeedback","deletePreviousChar"]\'\n                        >&#x232b;</li>'):" "===e?o+="<li class='separator w5'></li>":"^"===e?o+="<li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='"+t["shift-layer"]+"'>&#x21e7;</li>":"/"===e?o+="<li class='keycap"+n+"' data-alt-keys='/' data-insert='\\frac{#@}{#?}'>&divide;</li>":"*"===e?o+="<li class='keycap"+n+"' data-alt-keys='*' data-insert='\\times '>&times;</li>":"-"===e?o+="<li class='keycap"+n+"' data-alt-keys='-' data-key='-' data-alt-keys='-'>&#x2212;</li>":/tt/.test(n)?o+="<li class='keycap"+n+"' data-alt-keys='"+e+'\' data-command=\'["typedText","'+e+'",{"commandMode":true, "focus":true, "feedback":true}]\'>'+e+"</li>":o+="<li class='keycap"+n+"' data-alt-keys='"+e+"'>"+e+"</li>"}else console.warn("Unknown roman keyboard row: "+t.name);i=i.replace(new RegExp(a[1]+a[2]+a[3]),o),a=i.match(/(<row\s+)(.*)((?:<\/row|\/)>)/)}return i}function dy(){const e=document.getElementById("mathlive-alternate-keys-panel");return e&&(e.classList.remove("is-visible"),e.innerHTML="",gm(e)),!1}function py(e){var t;if(!ym(e))return!1;dy();const n=null===(t=e.virtualKeyboard)||void 0===t?void 0:t.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(n)for(let t=0;t<n.length;t++){const r=n[t],o=r.getAttribute("data-unshifted-content");o&&(r.innerHTML=e.options.createHTML(o));const i=r.getAttribute("data-unshifted-command");i&&r.setAttribute("data-"+e.options.namespace+"command",i)}return!1}function fy(e){var t;const n=null===(t=e.virtualKeyboard)||void 0===t?void 0:t.element.querySelector(".keyboard-toolbar");if(n){const t=n.querySelector("[data-command='\"undo\"']"),r=n.querySelector("[data-command='\"redo\"']");e.canRedo()?r.classList.remove("disabled"):r.classList.add("disabled"),e.canUndo()?t.classList.remove("disabled"):t.classList.add("disabled")}}function hy(e,t){var n;if("off"!==e.options.virtualKeyboardMode){"lower-command"!==t&&"upper-command"!==t&&"symbols-command"!==t&&Og(e),my(e),dy(),py(e);const r=null===(n=e.virtualKeyboard)||void 0===n?void 0:n.element.getElementsByClassName("keyboard-layer");let o=!1;for(let e=0;e<r.length;e++)if(r[e].dataset.layer===t){o=!0;break}if(o)for(let e=0;e<r.length;e++)r[e].dataset.layer===t?r[e].classList.add("is-visible"):r[e].classList.remove("is-visible");e.focus()}return!0}function my(e,t=""){return e.virtualKeyboardVisible=!1,yy(e,t),!1}function gy(e){return e.virtualKeyboardVisible=!0,yy(e),!1}function yy(e,t){var n,r,o;return e.virtualKeyboardVisible=!e.virtualKeyboardVisible,e.virtualKeyboardVisible?(e.focus(),(null===(n=e.virtualKeyboard)||void 0===n?void 0:n.element)?e.virtualKeyboard.element.classList.add("is-visible"):(e.virtualKeyboard=function(e,t){var n,r;let o='<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n\n            <symbol id="svg-command" viewBox="0 0 640 512">\n                <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>\n            </symbol>\n\n            <symbol id="svg-undo" viewBox="0 0 512 512">\n                <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>\n            </symbol>\n            <symbol id="svg-redo" viewBox="0 0 512 512">\n                <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>\n            </symbol>\n            <symbol id="svg-arrow-left" viewBox="0 0 192 512">\n                <path d="M25.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L64.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L25 264.5c-4.6-4.7-4.6-12.3.1-17z"/>\n            </symbol>\n            <symbol id="svg-arrow-right" viewBox="0 0 192 512">\n                    <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"/>\n            </symbol>\n            <symbol id="svg-tab" viewBox="0 0 448 512">\n                    <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>\n            </symbol>\n            <symbol id="svg-copy" viewBox="0 0 448 512">\n                <path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"/>\n            </symbol>\n            <symbol id="svg-angle-double-right" viewBox="0 0 320 512">\n                <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"/>\n            </symbol>\n            <symbol id="svg-angle-double-left" viewBox="0 0 320 512">\n                <path d="M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"/>\n            </symbol>\n            <symbol id="svg-trash" viewBox="0 0 448 512">\n                <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>\n            </symbol>\n        </svg>\n        ';Hf(null,'.ML__keyboard{--keyboard-background:rgba(209,213,217,0.97);--keyboard-text:#000;--keyboard-text-active:var(--primary,hsl(var(--hue,212),40%,50%));--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:#e5e5e5;--keyboard-alternate-text:#000;position:fixed;left:0;bottom:-267px;width:100vw;z-index:var(--keyboard-zindex,105);padding-top:5px;transform:translate(0);opacity:0;visibility:hidden;transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;margin:0;text-shadow:none;box-sizing:border-box;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.ML__keyboard.is-visible{transform:translateY(-267px);opacity:1;visibility:visible;transition-timing-function:cubic-bezier(.4,0,1,1)}.ML__keyboard .tex{font-family:KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .tt{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:30px;font-weight:400}.ML__keyboard.alternate-keys{visibility:hidden;max-width:286px;background-color:var(--keyboard-alternate-background);text-align:center;border-radius:6px;position:fixed;bottom:auto;top:0;box-sizing:content-box;transform:none;z-index:calc(var(--keyboard-zindex, 105) + 1);display:flex;flex-direction:row;justify-content:center;align-content:center;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:none}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys ul{list-style:none;margin:3px;padding:0;display:flex;flex-flow:row wrap-reverse;justify-content:center}.ML__keyboard.alternate-keys ul>li{display:flex;flex-flow:column;align-items:center;justify-content:center;font-size:30px;height:70px;width:70px;box-sizing:border-box;margin:0;background:transparent;border:1px solid transparent;border-radius:5px;pointer-events:all;color:var(--keyboard-alternate-text);fill:currentColor}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul>li{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul>li.active,.ML__keyboard.alternate-keys ul>li.pressed,.ML__keyboard.alternate-keys ul>li:hover{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);background:var(--keyboard-alternate-background-active);color:var(--keyboard-text-active)}.ML__keyboard.alternate-keys ul>li.small{font-size:18px}.ML__keyboard.alternate-keys ul>li.small-button{width:42px;height:42px;margin:2px;background:#fbfbfb}.ML__keyboard.alternate-keys ul>li.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul>li.box>div,.ML__keyboard.alternate-keys ul>li.box>span{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul>li .warning{min-height:60px;min-width:60px;background:#cd0030;color:#fff;padding:5px;display:flex;align-items:center;justify-content:center;border-radius:5px}.ML__keyboard.alternate-keys ul>li .warning.active,.ML__keyboard.alternate-keys ul>li .warning.pressed,.ML__keyboard.alternate-keys ul>li .warning:hover{background:red}.ML__keyboard.alternate-keys ul>li .warning svg{width:50px;height:50px}.ML__keyboard.alternate-keys ul>li aside{font-size:12px;line-height:12px;opacity:.78;padding-top:2px}.ML__keyboard>div.keyboard-layer{display:none;outline:none}.ML__keyboard>div.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard>div>div.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard>div>div.keyboard-toolbar{width:556px}}@media only screen and (max-width:767px){.ML__keyboard>div>div.keyboard-toolbar{width:365px;max-width:100vw}}.ML__keyboard>div>div.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard>div>div.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard>div>div.keyboard-toolbar>.left{position:relative;display:flex;justify-content:flex-start;flex-flow:row}.ML__keyboard>div>div.keyboard-toolbar>.right{display:flex;justify-content:flex-end;flex-flow:row}.ML__keyboard>div>div.keyboard-toolbar>div>div{display:flex;align-items:baseline;justify-content:center;pointer-events:all;color:var(--keyboard-text);fill:currentColor;background:0;font-size:110%;cursor:pointer;min-height:0;padding:4px 10px;margin:7px 4px 6px;box-shadow:none;border:none;border-bottom:2px solid transparent}.ML__keyboard>div>div.keyboard-toolbar>div>div.disabled.pressed svg,.ML__keyboard>div>div.keyboard-toolbar>div>div.disabled:hover svg,.ML__keyboard>div>div.keyboard-toolbar>div>div.disabled svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard>div>div.keyboard-toolbar>div>div{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard>div>div.keyboard-toolbar>div>div{padding-left:4px;padding-right:4px;font-size:90%}}.ML__keyboard>div>div.keyboard-toolbar>div>div.active,.ML__keyboard>div>div.keyboard-toolbar>div>div.pressed,.ML__keyboard>div>div.keyboard-toolbar>div>div:active,.ML__keyboard>div>div.keyboard-toolbar>div>div:hover{color:var(--keyboard-text-active)}.ML__keyboard>div>div.keyboard-toolbar>div>div.selected{color:var(--keyboard-text-active);border-bottom:2px solid var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard div .rows{border:0;border-collapse:separate;clear:both;margin:auto;display:flex;flex-flow:column;align-items:center}.ML__keyboard div .rows>ul{list-style:none;height:40px;margin:0 0 3px;padding:0}.ML__keyboard div .rows>ul>li{display:flex;flex-flow:column;align-items:center;justify-content:center;width:34px;margin-right:2px;height:40px;box-sizing:border-box;padding:8px 0;vertical-align:top;text-align:center;float:left;color:var(--keycap-text);fill:currentColor;font-size:20px;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;pointer-events:all;position:relative;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ML__keyboard div .rows>ul>li:last-child{margin-right:0}.ML__keyboard div .rows>ul>li.small{font-size:16px}.ML__keyboard div .rows>ul>li.tt{color:var(--keyboard-text-active)}.ML__keyboard div .rows>ul>li.bottom{justify-content:flex-end}.ML__keyboard div .rows>ul>li.left{align-items:flex-start;padding-left:4px}.ML__keyboard div .rows>ul>li.right{align-items:flex-end;padding-right:4px}.ML__keyboard div .rows>ul>li svg{width:20px;height:20px}.ML__keyboard div .rows>ul>li .warning{height:25px;width:25px;min-height:25px;min-width:25px;background:#cd0030;color:#fff;border-radius:100%;padding:5px;display:flex;align-items:center;justify-content:center;margin-bottom:-2px}.ML__keyboard div .rows>ul>li .warning svg{width:16px;height:16px}@media only screen and (max-width:768px){.ML__keyboard div .rows>ul>li .warning{height:16px;width:16px;min-height:16px;min-width:16px}.ML__keyboard div .rows>ul>li .warning svg{width:14px;height:14px}}.ML__keyboard div .rows>ul>li>.w0{width:0}.ML__keyboard div .rows>ul>li>.w5{width:16px}.ML__keyboard div .rows>ul>li>.w15{width:52px}.ML__keyboard div .rows>ul>li>.w20{width:70px}.ML__keyboard div .rows>ul>li>.w50{width:178px}.ML__keyboard div .rows>ul>li.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard div .rows>ul>li.if-wide{display:none}}.ML__keyboard div .rows>ul>li.tex-math{font-size:25px}.ML__keyboard div .rows>ul>li.pressed,.ML__keyboard div .rows>ul>li:hover{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard div .rows>ul>li.action.active,.ML__keyboard div .rows>ul>li.action:active,.ML__keyboard div .rows>ul>li.keycap.active,.ML__keyboard div .rows>ul>li.keycap:active{transform:translateY(-20px) scale(1.4);z-index:calc(var(--keyboard-zindex, 105) - 5);color:var(--keyboard-text-active)}.ML__keyboard div .rows>ul>li.modifier.active,.ML__keyboard div .rows>ul>li.modifier:active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard div .rows>ul>li.action.font-glyph,.ML__keyboard div .rows>ul>li.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard div .rows>ul>li.action.font-glyph,.ML__keyboard div .rows>ul>li.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard div .rows>ul>li.bigfnbutton,.ML__keyboard div .rows>ul>li.fnbutton{font-size:12px}}.ML__keyboard div .rows>ul>li.bigfnbutton{font-size:14px}@media only screen and (max-width:767px){.ML__keyboard div .rows>ul>li.bigfnbutton{font-size:9px}}.ML__keyboard div .rows>ul>li.action,.ML__keyboard div .rows>ul>li.modifier{background-color:var(--keycap-modifier-background);border-bottom-color:var(--keycap-modifier-border);border-color:var(--keycap-modifier-border) var(--keycap-modifier-border) var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard div .rows>ul>li.action.selected,.ML__keyboard div .rows>ul>li.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard div .rows>ul>li.action.selected.active,.ML__keyboard div .rows>ul>li.action.selected.pressed,.ML__keyboard div .rows>ul>li.action.selected:active,.ML__keyboard div .rows>ul>li.action.selected:hover,.ML__keyboard div .rows>ul>li.modifier.selected.active,.ML__keyboard div .rows>ul>li.modifier.selected.pressed,.ML__keyboard div .rows>ul>li.modifier.selected:active,.ML__keyboard div .rows>ul>li.modifier.selected:hover{color:#fff}.ML__keyboard div .rows>ul>li.keycap.w50{font-size:80%;padding-top:10px;font-weight:100}.ML__keyboard div .rows>ul>li small{color:#555}@media only screen and (max-width:767px){.ML__keyboard div .rows>ul>li small{font-size:9px}}.ML__keyboard div .rows>ul>li aside{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px;color:#666}@media only screen and (max-width:767px){.ML__keyboard div .rows>ul>li aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard div .rows>ul>li{width:calc(10vw - 2px);margin-right:2px}.ML__keyboard div .rows>ul>.w5{width:calc(5vw - 2px)}.ML__keyboard div .rows>ul>.w15{width:calc(15vw - 2px)}.ML__keyboard div .rows>ul>.w20{width:calc(20vw - 2px)}.ML__keyboard div .rows>ul>.w50{width:calc(50vw - 2px)}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard div .rows>ul>li{width:37px;margin-right:3px}.ML__keyboard div .rows>ul>.w5{width:17px}.ML__keyboard div .rows>ul>.w15{width:57px}.ML__keyboard div .rows>ul>.w20{width:77px}.ML__keyboard div .rows>ul>.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard div .rows>ul{height:52px}.ML__keyboard div .rows>ul>li{height:52px;width:51px;margin-right:4px}.ML__keyboard div .rows>ul>.w5{width:23.5px}.ML__keyboard div .rows>ul>.w15{width:78.5px}.ML__keyboard div .rows>ul>.w20{width:106px}.ML__keyboard div .rows>ul>.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard div .rows>ul{height:52px}.ML__keyboard div .rows>ul>li{height:52px;width:66px;margin-right:6px}.ML__keyboard div .rows>ul>.action,.ML__keyboard div .rows>ul>.modifier{font-size:80%}.ML__keyboard div .rows>ul>.w5{width:30px}.ML__keyboard div .rows>ul>.w15{width:102px}.ML__keyboard div .rows>ul>.w20{width:138px}.ML__keyboard div .rows>ul>.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme=light]) .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue,212),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue,212),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue,212),25%,39%);--keycap-background-active:hsl(var(--hue,212),35%,42%);--keycap-background-border:hsl(var(--hue,212),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue,212),35%,40%);--keycap-modifier-border:hsl(var(--hue,212),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue,212),35%,42%);--keyboard-alternate-background:hsl(var(--hue,212),19%,38%);--keyboard-alternate-background-active:hsl(var(--hue,212),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme=dark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue,212),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue,212),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue,212),25%,39%);--keycap-background-active:hsl(var(--hue,212),35%,42%);--keycap-background-border:hsl(var(--hue,212),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue,212),35%,40%);--keycap-modifier-border:hsl(var(--hue,212),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue,212),35%,42%);--keyboard-alternate-background:hsl(var(--hue,212),19%,38%);--keyboard-alternate-background-active:hsl(var(--hue,212),35%,42%);--keyboard-alternate-text:#d1d1d1}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,0.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.active,div.ML__keyboard.material.alternate-keys ul li.pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{border:1px solid transparent;background:#5f97fc;color:#fff;fill:currentColor}div.ML__keyboard.material .keyboard-toolbar>div>div{font-size:16px}div.ML__keyboard.material .keyboard-toolbar div.div.active,div.ML__keyboard.material .keyboard-toolbar div.div.pressed,div.ML__keyboard.material .keyboard-toolbar div div:active,div.ML__keyboard.material .keyboard-toolbar div div:hover{color:#5f97fc;fill:currentColor}div.ML__keyboard.material .keyboard-toolbar>div>.selected{color:#5f97fc;fill:currentColor;border-bottom:2px solid #5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material div>.rows>ul>.keycap{background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);fill:currentColor;transition:none}div.ML__keyboard.material div>.rows>ul>.keycap.tt{color:#5f97fc}div.ML__keyboard.material div>.rows>ul>.keycap[data-key=" "]{margin-top:10px;margin-bottom:10px;height:20px;background:#e0e0e0}div.ML__keyboard.material div>.rows>ul>.keycap[data-key=" "].active,div.ML__keyboard.material div>.rows>ul>.keycap[data-key=" "].pressed,div.ML__keyboard.material div>.rows>ul>.keycap[data-key=" "]:active,div.ML__keyboard.material div>.rows>ul>.keycap[data-key=" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]):hover{border:1px solid transparent;background:var(--keycap-background-active);box-shadow:none}div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).active,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).pressed,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]):active{background:var(--keyboard-alternate-background);color:var(--keyboard-alternate-text);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23)}@media only screen and (max-width:767px){div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).active,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).pressed,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;vertical-align:top;width:19.5px;margin-right:10px;margin-left:10px;transform:translateY(-20px) scale(2);transition:none;justify-content:flex-start;padding:2px 0 0;z-index:calc(var(--ML_keyboard-zindex, 105) - 5)}}@media only screen and (max-width:414px){div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).active,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).pressed,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material div>.rows>ul>.keycap:last-child.active,div.ML__keyboard.material div>.rows>ul>.keycap:last-child:active{margin-right:0;margin-left:14px}}div.ML__keyboard.material div div.rows ul li.action,div.ML__keyboard.material div div.rows ul li.modifier{background:transparent;border:0;color:#869096;fill:currentColor;font-size:16px;transition:none}div.ML__keyboard.material div div.rows ul li.action.selected,div.ML__keyboard.material div div.rows ul li.modifier.selected{color:#5f97fc;border-radius:0;border-bottom:2px solid #5f97fc}div.ML__keyboard.material div div.rows ul li.action.active,div.ML__keyboard.material div div.rows ul li.action.pressed,div.ML__keyboard.material div div.rows ul li.action:active,div.ML__keyboard.material div div.rows ul li.action:hover,div.ML__keyboard.material div div.rows ul li.modifier.active,div.ML__keyboard.material div div.rows ul li.modifier.pressed,div.ML__keyboard.material div div.rows ul li.modifier:active,div.ML__keyboard.material div div.rows ul li.modifier:hover{border:0;color:var(--keycap-text);background:var(--keycap-background-active);box-shadow:none}div.ML__keyboard.material div div.rows ul li.bigfnbutton,div.ML__keyboard.material div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material div div.rows ul li.fnbutton.selected{color:#5f97fc;fill:currentColor;border-radius:0;border-bottom:2px solid #5f97fc}div.ML__keyboard.material div div.rows ul li.bigfnbutton.active,div.ML__keyboard.material div div.rows ul li.bigfnbutton.pressed,div.ML__keyboard.material div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material div div.rows ul li.fnbutton.active,div.ML__keyboard.material div div.rows ul li.fnbutton.pressed,div.ML__keyboard.material div div.rows ul li.fnbutton:active,div.ML__keyboard.material div div.rows ul li.fnbutton:hover{border:0;color:#5f97fc;fill:currentColor;background:var(--keycap-background-active);box-shadow:none}@media (prefers-color-scheme:dark){body:not([theme=light]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue,212),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue,212),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue,212),35%,40%);--keycap-modifier-border:hsl(var(--hue,212),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue,212),35%,42%);--keyboard-alternate-background:hsl(var(--hue,212),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue,212),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme=dark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue,212),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue,212),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue,212),35%,40%);--keycap-modifier-border:hsl(var(--hue,212),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue,212),35%,42%);--keyboard-alternate-background:hsl(var(--hue,212),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue,212),35%,42%);--keyboard-alternate-text:#d1d1d1}'),oy["foreground-color"]=[];for(const e of Yp)oy["foreground-color"].push({classes:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; box-sizing: border-box; border: 3px solid '+e+'"></span>',command:'["applyStyle",{"color":"'+e+'"}]'});oy["background-color"]=[];for(const e of Zp)oy["background-color"].push({classes:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; background:'+e+'"></span>',command:'["applyStyle",{"backgroundColor":"'+e+'"}]'});iy={...oy},Object.keys(iy).forEach(e=>{iy[e]=iy[e].slice()});for(let e=0;e<26;e++){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e];iy[t]||(iy[t]=[]),iy[t].unshift({latex:"\\mathbb{"+t+"}",aside:"blackboard",insert:"\\mathbb{"+t+"}"}),iy[t].unshift({latex:"\\mathbf{"+t+"}",aside:"bold",insert:"\\mathbf{"+t+"}"}),iy[t].unshift({latex:"\\mathsf{"+t+"}",aside:"sans",insert:"\\mathsf{"+t+"}"}),iy[t].unshift({latex:"\\mathtt{"+t+"}",aside:"monospace",insert:"\\mathtt{"+t+"}"}),iy[t].unshift({latex:"\\mathcal{"+t+"}",aside:"calligraphy",insert:"\\mathcal{"+t+"}"}),iy[t].unshift({latex:"\\mathfrak{"+t+"}",aside:"fraktur",insert:"\\mathfrak{"+t+"}"})}for(let e=0;e<=26;e++){const t="abcdefghijklmnopqrstuvwxyz"[e];iy[t]||(iy[t]=[]),iy[t].unshift({latex:"\\mathsf{"+t+"}",aside:"sans",insert:"\\mathsf{"+t+"}"}),iy[t].unshift({latex:"\\mathbf{"+t+"}",aside:"bold",insert:"\\mathbf{"+t+"}"}),iy[t].unshift({latex:"\\mathtt{"+t+"}",aside:"monospace",insert:"\\mathtt{"+t+"}"}),iy[t].unshift({latex:"\\mathfrak{"+t+"}",aside:"fraktur",insert:"\\mathfrak{"+t+"}"})}for(let e=0;e<10;e++){const t="0123456789"[e];iy[t]||(iy[t]=[]),iy[t].unshift({latex:"\\mathbf{"+t+"}",aside:"bold",insert:"\\mathbf{"+t+"}"}),iy[t].unshift({latex:"\\mathsf{"+t+"}",aside:"sans",insert:"\\mathsf{"+t+"}"}),iy[t].unshift({latex:"\\mathtt{"+t+"}",aside:"monospace",insert:"\\mathtt{"+t+"}"}),iy[t].unshift({latex:"\\mathcal{"+t+"}",aside:"script",insert:"\\mathcal{"+t+"}"}),iy[t].unshift({latex:"\\mathfrak{"+t+"}",aside:"fraktur",insert:"\\mathfrak{"+t+"}"})}let i=e.options.virtualKeyboards;i||(i="all"),i=i.replace(/\ball\b/i,"numeric functions symbols roman  greek");const a={...ay,...null!==(n=e.options.customVirtualKeyboardLayers)&&void 0!==n?n:{}},s={...ny,...null!==(r=e.options.customVirtualKeyboards)&&void 0!==r?r:{}},l=i.replace(/\s+/g," ").split(" ");for(const t of l){if(!s[t]){console.error('Unknown virtual keyboard "'+t+'"');break}let n=s[t].layers||[];s[t].layer&&n.push(s[t].layer),n=Array.from(new Set(n));for(const r of n){if(!a[r]){console.error('Unknown virtual keyboard layer: "'+r+'"');break}if("object"==typeof a[r]){const e=a[r];let t="";if(e.styles&&(t+=`<style>${e.styles}</style>`),e.backdrop&&(t+=`<div class='${e.backdrop}'>`),e.container&&(t+=`<div class='${e.container}'>`),e.rows){t+="<div class='rows'>";for(const n of e.rows){t+="<ul>";for(const e of n)t+="<li",e.class&&(t+=` class="${e.class}"`),e.key&&(t+=` data-key="${e.key}"`),e.command&&("string"==typeof e.command?t+=` data-command='"${e.command}"'`:(t+=" data-command='",t+=JSON.stringify(e.command),t+="'")),e.insert&&(t+=` data-insert="${e.insert}"`),e.latex&&(t+=` data-latex="${e.latex}"`),e.aside&&(t+=` data-aside="${e.aside}"`),e.altKeys&&(t+=` data-alt-keys="${e.altKeys}"`),e.shifted&&(t+=` data-shifted="${e.shifted}"`),e.shiftedCommand&&(t+=` data-shifted-command="${e.shiftedCommand}"`),t+=`>${e.label?e.label:""}</li>`;t+="</ul>"}t+="</div>"}e.container&&(t+="</div>"),e.backdrop&&(t+="</div>"),a[r]=t}o+="<div tabindex=\"-1\" class='keyboard-layer' data-layer='"+r+"'>",o+=ly(e,i,t);o+=uy(e,a[r]),o+="</div>"}}const c=new ty(e);c.element.className="ML__keyboard",t?c.element.classList.add(t):e.options.virtualKeyboardTheme&&c.element.classList.add(e.options.virtualKeyboardTheme),c.element.innerHTML=e.options.createHTML(o),cy(e,[].slice.call(c.element.querySelectorAll(".keycap, .action, .fnbutton, .bigfnbutton")));const u=c.element.getElementsByClassName("layer-switch");for(let t=0;t<u.length;++t)u[t].classList.contains("shift")?wm(e,u[t],{pressed:["shiftKeyboardLayer","shift"],default:["switchKeyboardLayer",u[t].getAttribute("data-layer")],pressAndHoldEnd:"unshiftKeyboardLayer"}):wm(e,u[t],{default:["switchKeyboardLayer",u[t].getAttribute("data-layer")]});const d=c.element.getElementsByClassName("keyboard-layer");return Array.from(d).forEach(e=>{e.addEventListener("mousedown",e=>{e.preventDefault(),e.stopPropagation()}),e.addEventListener("touchstart",e=>{e.preventDefault(),e.stopPropagation()},{passive:!1})}),d[0].classList.add("is-visible"),c}(e,t),fm(e.virtualKeyboard.element,"touchstart:passive mousedown",()=>{e.focus()}),document.body.appendChild(e.virtualKeyboard.element)),window.setTimeout(()=>{var t;null===(t=e.virtualKeyboard)||void 0===t||t.element.classList.add("is-visible")},1)):(null===(r=e.virtualKeyboard)||void 0===r?void 0:r.element)&&e.virtualKeyboard.element.classList.remove("is-visible"),(null===(o=e.virtualKeyboard)||void 0===o?void 0:o.element)&&"function"==typeof e.options.onVirtualKeyboardToggle&&e.options.onVirtualKeyboardToggle(e,e.virtualKeyboardVisible,e.virtualKeyboard.element),!1}Jm({showAlternateKeys:(e,t,n)=>{var r,o;const i=mm("mathlive-alternate-keys-panel","ML__keyboard alternate-keys");(null===(r=e.virtualKeyboard)||void 0===r?void 0:r.element.classList.contains("material"))&&i.classList.add("material"),n.length>=7?i.style.width="286px":4===n.length||2===n.length?i.style.width="146px":1===n.length?i.style.width="86px":i.style.width="146px",i.style.height="auto";let a="";for(const e of n)a+="<li","string"==typeof e?a+=' data-latex="'+e.replace(/"/g,"&quot;")+'"':(e.latex&&(a+=' data-latex="'+e.latex.replace(/"/g,"&quot;")+'"'),e.content&&(a+=' data-content="'+e.content.replace(/"/g,"&quot;")+'"'),e.insert&&(a+=' data-insert="'+e.insert.replace(/"/g,"&quot;")+'"'),e.command&&(a+=" data-command='"+e.command.replace(/"/g,"&quot;")+"'"),e.aside&&(a+=' data-aside="'+e.aside.replace(/"/g,"&quot;")+'"'),e.classes&&(a+=' data-classes="'+e.classes+'"')),a+=">",a+=e.label||"",a+="</li>";a="<ul>"+a+"</ul>",i.innerHTML=e.options.createHTML(a),cy(e,[].slice.call(i.getElementsByTagName("li")),"performAlternateKeys");const s=(null===(o=e.virtualKeyboard)||void 0===o?void 0:o.element.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys="'+t+'"]')).getBoundingClientRect();if(s){s.top-i.clientHeight<0&&(i.style.width="auto",n.length<=6?i.style.height="56px":n.length<=12?i.style.height="108px":i.style.height="205px");const e=(s.top-i.clientHeight+5).toString()+"px",t=Math.max(0,Math.min(window.innerWidth-i.offsetWidth,(s.left+s.right-i.offsetWidth)/2))+"px";i.style.transform="translate("+t+","+e+")",i.classList.add("is-visible")}return!1}},{target:"virtual-keyboard"}),Jm({shiftKeyboardLayer:e=>{var t;const n=null===(t=e.virtualKeyboard)||void 0===t?void 0:t.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(n)for(let t=0;t<n.length;t++){const r=n[t];let o=r.getAttribute("data-shifted");if(o||/^[a-z]$/.test(r.innerHTML)){r.setAttribute("data-unshifted-content",r.innerHTML),o||(o=r.innerHTML.toUpperCase()),r.innerHTML=e.options.createHTML(o);const t=r.getAttribute("data-"+e.options.namespace+"command");if(t){r.setAttribute("data-unshifted-command",t);const n=r.getAttribute("data-shifted-command");if(n)r.setAttribute("data-"+e.options.namespace+"command",n);else{const n=JSON.parse(t);Id(n)&&(n[1]=n[1].toUpperCase()),r.setAttribute("data-"+e.options.namespace+"command",JSON.stringify(n))}}}}return!1}},{target:"virtual-keyboard"}),Jm({hideAlternateKeys:()=>dy(),performAlternateKeys:(e,t)=>(dy(),e.executeCommand(t)),switchKeyboardLayer:(e,t)=>hy(e,t),unshiftKeyboardLayer:e=>py(e),insertAndUnshiftKeyboardLayer:(e,t)=>(e.insert(t),py(e),!0)},{target:"virtual-keyboard"}),Jm({toggleVirtualKeyboardAlt:e=>{var t,n;let r=!1;return(null===(t=e.virtualKeyboard)||void 0===t?void 0:t.element)&&(r=null===(n=e.virtualKeyboard)||void 0===n?void 0:n.element.classList.contains("material"),e.virtualKeyboard.dispose(),delete e.virtualKeyboard),my(e,r?"":"material"),!1},toggleVirtualKeyboardShift:e=>{var t,n;e.options.virtualKeyboardLayout={qwerty:"azerty",azerty:"qwertz",qwertz:"dvorak",dvorak:"colemak",colemak:"qwerty"}[e.options.virtualKeyboardLayout];const r=null!==(n=null===(t=e.virtualKeyboard)||void 0===t?void 0:t.element.querySelector("div.keyboard-layer.is-visible").id)&&void 0!==n?n:"";return e.virtualKeyboard&&(e.virtualKeyboard.dispose(),delete e.virtualKeyboard),my(e),r&&hy(e,r),!1}},{target:"virtual-keyboard"}),Jm({toggleVirtualKeyboard:(e,t)=>yy(e,t),hideVirtualKeyboard:e=>gy(e),showVirtualKeyboard:(e,t)=>my(e,t)},{target:"virtual-keyboard"});var vy='.ML__sr-only{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__base{visibility:inherit;display:inline-block;position:relative;cursor:text}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-weight:700;font-style:italic}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{color:#007cb2;background:#edd1b0}.ML__mathlive{display:inline-block;line-height:0;direction:ltr;text-align:left;text-indent:0;text-rendering:auto;font-family:KaTeX_Main;font-style:normal;font-size-adjust:none;letter-spacing:normal;word-wrap:normal;word-spacing:normal;white-space:nowrap;text-shadow:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:-webkit-min-content;width:-moz-min-content;width:min-content;transform:translateZ(0)}.ML__mathlive .reset-textstyle.scriptstyle{font-size:.7em}.ML__mathlive .reset-textstyle.scriptscriptstyle{font-size:.5em}.ML__mathlive .reset-scriptstyle.textstyle{font-size:1.42857em}.ML__mathlive .reset-scriptstyle.scriptscriptstyle{font-size:.71429em}.ML__mathlive .reset-scriptscriptstyle.textstyle{font-size:2em}.ML__mathlive .reset-scriptscriptstyle.scriptstyle{font-size:1.4em}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .vlist{display:inline-block}.ML__mathlive .vlist>span{display:block;height:0;position:relative;line-height:0}.ML__mathlive .vlist>span>span{display:inline-block}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .mfrac>span{text-align:center}.ML__mathlive .mfrac .frac-line{width:100%}.ML__mathlive .mfrac .frac-line:after{content:"";display:block;margin-top:-.04em;min-height:.04em;background:currentColor;box-sizing:content-box;transform:translate(0)}.ML__mathlive .rspace.negativethinspace{margin-right:-.16667em}.ML__mathlive .rspace.thinspace{margin-right:.16667em}.ML__mathlive .rspace.negativemediumspace{margin-right:-.22222em}.ML__mathlive .rspace.mediumspace{margin-right:.22222em}.ML__mathlive .rspace.thickspace{margin-right:.27778em}.ML__mathlive .rspace.sixmuspace{margin-right:.333333em}.ML__mathlive .rspace.eightmuspace{margin-right:.444444em}.ML__mathlive .rspace.enspace{margin-right:.5em}.ML__mathlive .rspace.twelvemuspace{margin-right:.666667em}.ML__mathlive .rspace.quad{margin-right:1em}.ML__mathlive .rspace.qquad{margin-right:2em}.ML__mathlive .mspace{display:inline-block}.ML__mathlive .mspace.negativethinspace{margin-left:-.16667em}.ML__mathlive .mspace.thinspace{width:.16667em}.ML__mathlive .mspace.negativemediumspace{margin-left:-.22222em}.ML__mathlive .mspace.mediumspace{width:.22222em}.ML__mathlive .mspace.thickspace{width:.27778em}.ML__mathlive .mspace.sixmuspace{width:.333333em}.ML__mathlive .mspace.eightmuspace{width:.444444em}.ML__mathlive .mspace.enspace{width:.5em}.ML__mathlive .mspace.twelvemuspace{width:.666667em}.ML__mathlive .mspace.quad{width:1em}.ML__mathlive .mspace.qquad{width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{width:0;position:relative}.ML__mathlive .llap>.inner,.ML__mathlive .rlap>.inner{position:absolute}.ML__mathlive .llap>.fix,.ML__mathlive .rlap>.fix{display:inline-block}.ML__mathlive .llap>.inner{right:0}.ML__mathlive .rlap>.inner{left:0}.ML__mathlive .rule{display:inline-block;border:0 solid;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;min-height:thin;content:"";display:block;margin-top:-1px}.ML__mathlive .stretchy{display:block;position:absolute;width:100%;left:0;overflow:hidden}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{display:block;position:absolute;width:100%;height:inherit;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;position:absolute;width:50.2%;overflow:hidden}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;position:absolute;left:0;width:25.1%;overflow:hidden}.ML__mathlive .slice-2-of-3{display:inline-flex;position:absolute;left:25%;width:50%;overflow:hidden}.ML__mathlive .slice-3-of-3{display:inline-flex;position:absolute;right:0;width:25.1%;overflow:hidden}.ML__mathlive .slice-1-of-1{display:inline-flex;position:absolute;width:100%;left:0;overflow:hidden}.ML__mathlive .sqrt{display:inline-block}.ML__mathlive .sqrt>.sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__mathlive .sqrt .sqrt-line{height:.04em;width:100%}.ML__mathlive .sqrt .sqrt-line:before{content:"";display:block;margin-top:-.04em;min-height:.04em;background:currentColor}.ML__mathlive .sqrt .sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em;transform:translate(0)}.ML__mathlive .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.ML__mathlive .fontsize-ensurer,.ML__mathlive .sizing{display:inline-block}.ML__mathlive .fontsize-ensurer.reset-size1.size1,.ML__mathlive .sizing.reset-size1.size1{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size1.size2,.ML__mathlive .sizing.reset-size1.size2{font-size:1.4em}.ML__mathlive .fontsize-ensurer.reset-size1.size3,.ML__mathlive .sizing.reset-size1.size3{font-size:1.6em}.ML__mathlive .fontsize-ensurer.reset-size1.size4,.ML__mathlive .sizing.reset-size1.size4{font-size:1.8em}.ML__mathlive .fontsize-ensurer.reset-size1.size5,.ML__mathlive .sizing.reset-size1.size5{font-size:2em}.ML__mathlive .fontsize-ensurer.reset-size1.size6,.ML__mathlive .sizing.reset-size1.size6{font-size:2.4em}.ML__mathlive .fontsize-ensurer.reset-size1.size7,.ML__mathlive .sizing.reset-size1.size7{font-size:2.88em}.ML__mathlive .fontsize-ensurer.reset-size1.size8,.ML__mathlive .sizing.reset-size1.size8{font-size:3.46em}.ML__mathlive .fontsize-ensurer.reset-size1.size9,.ML__mathlive .sizing.reset-size1.size9{font-size:4.14em}.ML__mathlive .fontsize-ensurer.reset-size1.size10,.ML__mathlive .sizing.reset-size1.size10{font-size:4.98em}.ML__mathlive .fontsize-ensurer.reset-size2.size1,.ML__mathlive .sizing.reset-size2.size1{font-size:.71428571em}.ML__mathlive .fontsize-ensurer.reset-size2.size2,.ML__mathlive .sizing.reset-size2.size2{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size2.size3,.ML__mathlive .sizing.reset-size2.size3{font-size:1.14285714em}.ML__mathlive .fontsize-ensurer.reset-size2.size4,.ML__mathlive .sizing.reset-size2.size4{font-size:1.28571429em}.ML__mathlive .fontsize-ensurer.reset-size2.size5,.ML__mathlive .sizing.reset-size2.size5{font-size:1.42857143em}.ML__mathlive .fontsize-ensurer.reset-size2.size6,.ML__mathlive .sizing.reset-size2.size6{font-size:1.71428571em}.ML__mathlive .fontsize-ensurer.reset-size2.size7,.ML__mathlive .sizing.reset-size2.size7{font-size:2.05714286em}.ML__mathlive .fontsize-ensurer.reset-size2.size8,.ML__mathlive .sizing.reset-size2.size8{font-size:2.47142857em}.ML__mathlive .fontsize-ensurer.reset-size2.size9,.ML__mathlive .sizing.reset-size2.size9{font-size:2.95714286em}.ML__mathlive .fontsize-ensurer.reset-size2.size10,.ML__mathlive .sizing.reset-size2.size10{font-size:3.55714286em}.ML__mathlive .fontsize-ensurer.reset-size3.size1,.ML__mathlive .sizing.reset-size3.size1{font-size:.625em}.ML__mathlive .fontsize-ensurer.reset-size3.size2,.ML__mathlive .sizing.reset-size3.size2{font-size:.875em}.ML__mathlive .fontsize-ensurer.reset-size3.size3,.ML__mathlive .sizing.reset-size3.size3{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size3.size4,.ML__mathlive .sizing.reset-size3.size4{font-size:1.125em}.ML__mathlive .fontsize-ensurer.reset-size3.size5,.ML__mathlive .sizing.reset-size3.size5{font-size:1.25em}.ML__mathlive .fontsize-ensurer.reset-size3.size6,.ML__mathlive .sizing.reset-size3.size6{font-size:1.5em}.ML__mathlive .fontsize-ensurer.reset-size3.size7,.ML__mathlive .sizing.reset-size3.size7{font-size:1.8em}.ML__mathlive .fontsize-ensurer.reset-size3.size8,.ML__mathlive .sizing.reset-size3.size8{font-size:2.1625em}.ML__mathlive .fontsize-ensurer.reset-size3.size9,.ML__mathlive .sizing.reset-size3.size9{font-size:2.5875em}.ML__mathlive .fontsize-ensurer.reset-size3.size10,.ML__mathlive .sizing.reset-size3.size10{font-size:3.1125em}.ML__mathlive .fontsize-ensurer.reset-size4.size1,.ML__mathlive .sizing.reset-size4.size1{font-size:.55555556em}.ML__mathlive .fontsize-ensurer.reset-size4.size2,.ML__mathlive .sizing.reset-size4.size2{font-size:.77777778em}.ML__mathlive .fontsize-ensurer.reset-size4.size3,.ML__mathlive .sizing.reset-size4.size3{font-size:.88888889em}.ML__mathlive .fontsize-ensurer.reset-size4.size4,.ML__mathlive .sizing.reset-size4.size4{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size4.size5,.ML__mathlive .sizing.reset-size4.size5{font-size:1.11111111em}.ML__mathlive .fontsize-ensurer.reset-size4.size6,.ML__mathlive .sizing.reset-size4.size6{font-size:1.33333333em}.ML__mathlive .fontsize-ensurer.reset-size4.size7,.ML__mathlive .sizing.reset-size4.size7{font-size:1.6em}.ML__mathlive .fontsize-ensurer.reset-size4.size8,.ML__mathlive .sizing.reset-size4.size8{font-size:1.92222222em}.ML__mathlive .fontsize-ensurer.reset-size4.size9,.ML__mathlive .sizing.reset-size4.size9{font-size:2.3em}.ML__mathlive .fontsize-ensurer.reset-size4.size10,.ML__mathlive .sizing.reset-size4.size10{font-size:2.76666667em}.ML__mathlive .fontsize-ensurer.reset-size5.size1,.ML__mathlive .sizing.reset-size5.size1{font-size:.5em}.ML__mathlive .fontsize-ensurer.reset-size5.size2,.ML__mathlive .sizing.reset-size5.size2{font-size:.7em}.ML__mathlive .fontsize-ensurer.reset-size5.size3,.ML__mathlive .sizing.reset-size5.size3{font-size:.8em}.ML__mathlive .fontsize-ensurer.reset-size5.size4,.ML__mathlive .sizing.reset-size5.size4{font-size:.9em}.ML__mathlive .fontsize-ensurer.reset-size5.size5,.ML__mathlive .sizing.reset-size5.size5{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size5.size6,.ML__mathlive .sizing.reset-size5.size6{font-size:1.2em}.ML__mathlive .fontsize-ensurer.reset-size5.size7,.ML__mathlive .sizing.reset-size5.size7{font-size:1.44em}.ML__mathlive .fontsize-ensurer.reset-size5.size8,.ML__mathlive .sizing.reset-size5.size8{font-size:1.73em}.ML__mathlive .fontsize-ensurer.reset-size5.size9,.ML__mathlive .sizing.reset-size5.size9{font-size:2.07em}.ML__mathlive .fontsize-ensurer.reset-size5.size10,.ML__mathlive .sizing.reset-size5.size10{font-size:2.49em}.ML__mathlive .fontsize-ensurer.reset-size6.size1,.ML__mathlive .sizing.reset-size6.size1{font-size:.41666667em}.ML__mathlive .fontsize-ensurer.reset-size6.size2,.ML__mathlive .sizing.reset-size6.size2{font-size:.58333333em}.ML__mathlive .fontsize-ensurer.reset-size6.size3,.ML__mathlive .sizing.reset-size6.size3{font-size:.66666667em}.ML__mathlive .fontsize-ensurer.reset-size6.size4,.ML__mathlive .sizing.reset-size6.size4{font-size:.75em}.ML__mathlive .fontsize-ensurer.reset-size6.size5,.ML__mathlive .sizing.reset-size6.size5{font-size:.83333333em}.ML__mathlive .fontsize-ensurer.reset-size6.size6,.ML__mathlive .sizing.reset-size6.size6{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size6.size7,.ML__mathlive .sizing.reset-size6.size7{font-size:1.2em}.ML__mathlive .fontsize-ensurer.reset-size6.size8,.ML__mathlive .sizing.reset-size6.size8{font-size:1.44166667em}.ML__mathlive .fontsize-ensurer.reset-size6.size9,.ML__mathlive .sizing.reset-size6.size9{font-size:1.725em}.ML__mathlive .fontsize-ensurer.reset-size6.size10,.ML__mathlive .sizing.reset-size6.size10{font-size:2.075em}.ML__mathlive .fontsize-ensurer.reset-size7.size1,.ML__mathlive .sizing.reset-size7.size1{font-size:.34722222em}.ML__mathlive .fontsize-ensurer.reset-size7.size2,.ML__mathlive .sizing.reset-size7.size2{font-size:.48611111em}.ML__mathlive .fontsize-ensurer.reset-size7.size3,.ML__mathlive .sizing.reset-size7.size3{font-size:.55555556em}.ML__mathlive .fontsize-ensurer.reset-size7.size4,.ML__mathlive .sizing.reset-size7.size4{font-size:.625em}.ML__mathlive .fontsize-ensurer.reset-size7.size5,.ML__mathlive .sizing.reset-size7.size5{font-size:.69444444em}.ML__mathlive .fontsize-ensurer.reset-size7.size6,.ML__mathlive .sizing.reset-size7.size6{font-size:.83333333em}.ML__mathlive .fontsize-ensurer.reset-size7.size7,.ML__mathlive .sizing.reset-size7.size7{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size7.size8,.ML__mathlive .sizing.reset-size7.size8{font-size:1.20138889em}.ML__mathlive .fontsize-ensurer.reset-size7.size9,.ML__mathlive .sizing.reset-size7.size9{font-size:1.4375em}.ML__mathlive .fontsize-ensurer.reset-size7.size10,.ML__mathlive .sizing.reset-size7.size10{font-size:1.72916667em}.ML__mathlive .fontsize-ensurer.reset-size8.size1,.ML__mathlive .sizing.reset-size8.size1{font-size:.28901734em}.ML__mathlive .fontsize-ensurer.reset-size8.size2,.ML__mathlive .sizing.reset-size8.size2{font-size:.40462428em}.ML__mathlive .fontsize-ensurer.reset-size8.size3,.ML__mathlive .sizing.reset-size8.size3{font-size:.46242775em}.ML__mathlive .fontsize-ensurer.reset-size8.size4,.ML__mathlive .sizing.reset-size8.size4{font-size:.52023121em}.ML__mathlive .fontsize-ensurer.reset-size8.size5,.ML__mathlive .sizing.reset-size8.size5{font-size:.57803468em}.ML__mathlive .fontsize-ensurer.reset-size8.size6,.ML__mathlive .sizing.reset-size8.size6{font-size:.69364162em}.ML__mathlive .fontsize-ensurer.reset-size8.size7,.ML__mathlive .sizing.reset-size8.size7{font-size:.83236994em}.ML__mathlive .fontsize-ensurer.reset-size8.size8,.ML__mathlive .sizing.reset-size8.size8{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size8.size9,.ML__mathlive .sizing.reset-size8.size9{font-size:1.19653179em}.ML__mathlive .fontsize-ensurer.reset-size8.size10,.ML__mathlive .sizing.reset-size8.size10{font-size:1.43930636em}.ML__mathlive .fontsize-ensurer.reset-size9.size1,.ML__mathlive .sizing.reset-size9.size1{font-size:.24154589em}.ML__mathlive .fontsize-ensurer.reset-size9.size2,.ML__mathlive .sizing.reset-size9.size2{font-size:.33816425em}.ML__mathlive .fontsize-ensurer.reset-size9.size3,.ML__mathlive .sizing.reset-size9.size3{font-size:.38647343em}.ML__mathlive .fontsize-ensurer.reset-size9.size4,.ML__mathlive .sizing.reset-size9.size4{font-size:.43478261em}.ML__mathlive .fontsize-ensurer.reset-size9.size5,.ML__mathlive .sizing.reset-size9.size5{font-size:.48309179em}.ML__mathlive .fontsize-ensurer.reset-size9.size6,.ML__mathlive .sizing.reset-size9.size6{font-size:.57971014em}.ML__mathlive .fontsize-ensurer.reset-size9.size7,.ML__mathlive .sizing.reset-size9.size7{font-size:.69565217em}.ML__mathlive .fontsize-ensurer.reset-size9.size8,.ML__mathlive .sizing.reset-size9.size8{font-size:.83574879em}.ML__mathlive .fontsize-ensurer.reset-size9.size9,.ML__mathlive .sizing.reset-size9.size9{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size9.size10,.ML__mathlive .sizing.reset-size9.size10{font-size:1.20289855em}.ML__mathlive .fontsize-ensurer.reset-size10.size1,.ML__mathlive .sizing.reset-size10.size1{font-size:.20080321em}.ML__mathlive .fontsize-ensurer.reset-size10.size2,.ML__mathlive .sizing.reset-size10.size2{font-size:.2811245em}.ML__mathlive .fontsize-ensurer.reset-size10.size3,.ML__mathlive .sizing.reset-size10.size3{font-size:.32128514em}.ML__mathlive .fontsize-ensurer.reset-size10.size4,.ML__mathlive .sizing.reset-size10.size4{font-size:.36144578em}.ML__mathlive .fontsize-ensurer.reset-size10.size5,.ML__mathlive .sizing.reset-size10.size5{font-size:.40160643em}.ML__mathlive .fontsize-ensurer.reset-size10.size6,.ML__mathlive .sizing.reset-size10.size6{font-size:.48192771em}.ML__mathlive .fontsize-ensurer.reset-size10.size7,.ML__mathlive .sizing.reset-size10.size7{font-size:.57831325em}.ML__mathlive .fontsize-ensurer.reset-size10.size8,.ML__mathlive .sizing.reset-size10.size8{font-size:.69477912em}.ML__mathlive .fontsize-ensurer.reset-size10.size9,.ML__mathlive .sizing.reset-size10.size9{font-size:.8313253em}.ML__mathlive .fontsize-ensurer.reset-size10.size10,.ML__mathlive .sizing.reset-size10.size10{font-size:1em}.ML__mathlive .delimsizing.size1{font-family:KaTeX_Size1}.ML__mathlive .delimsizing.size2{font-family:KaTeX_Size2}.ML__mathlive .delimsizing.size3{font-family:KaTeX_Size3}.ML__mathlive .delimsizing.size4{font-family:KaTeX_Size4}.ML__mathlive .delimsizing.mult .delim-size1{font-family:KaTeX_Size1;vertical-align:top}.ML__mathlive .delimsizing.mult .delim-size4{font-family:KaTeX_Size4;vertical-align:top}.ML__mathlive .nulldelimiter{width:.12em}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .op-limits .vlist>span{text-align:center}.ML__mathlive .op-over-under{position:relative}.ML__mathlive .op-over-under>.vlist>span:first-child,.ML__mathlive .op-over-under>.vlist>span:last-child{text-align:center}.ML__mathlive .accent>.vlist>span{text-align:center}.ML__mathlive .accent .accent-body>span{font-family:KaTeX_Main;width:0}.ML__mathlive .accent .accent-body.accent-vec>span{position:relative;left:.326em}.ML__mathlive .mtable .vertical-separator{display:inline-block;margin:0 -.025em;border-right:.05em solid}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m>.vlist{text-align:center}.ML__mathlive .mtable .col-align-c>.vlist{text-align:center}.ML__mathlive .mtable .col-align-l>.vlist{text-align:left}.ML__mathlive .mtable .col-align-r>.vlist{text-align:right}.ML__error{background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-repeat:repeat-x;background-size:3px 3px;background-position:0 98%}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret,hsl(var(--hue,212),40%,49%));text-decoration:underline var(--caret,hsl(var(--hue,212),40%,49%))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{opacity:.7;padding-left:.4ex;padding-right:.4ex;padding-top:.4ex}';const by={"\\imaginaryI":"ⅈ","\\imaginaryJ":"ⅉ","\\pi":"π","\\exponentialE":"ℯ","﹢":"+","＋":"+","−":"-","-":"-","﹣":"-","－":"-","\\times":"*","\\cdot":"*","⨉":"*","️✖":"*","️×":"*",".":"*","÷":"/","⁄":"/","／":"/","!":"factorial","\\mp":"minusplus","\\ne":"!=","\\coloneq":":=","\\questeq":"?=","\\approx":"approx","\\cong":"congruent","\\sim":"similar","\\equiv":"equiv","\\pm":"plusminus","\\land":"and","\\wedge":"and","\\lor":"or","\\vee":"or","\\oplus":"xor","\\veebar":"xor","\\lnot":"not","\\neg":"not","\\exists":"exists","\\nexists":"!exists","\\forall":"forAll","\\backepsilon":"suchThat","\\therefore":"therefore","\\because":"because","\\nabla":"nabla","\\circ":"circle","\\ominus":"ominus","\\odot":"odot","\\otimes":"otimes","\\zeta":"Zeta","\\Gamma":"Gamma","\\min":"min","\\max":"max","\\mod":"mod","\\lim":"lim","\\sum":"sum","\\prod":"prod","\\int":"integral","\\iint":"integral2","\\iiint":"integral3","\\Re":"Re","\\gothicCapitalR":"Re","\\Im":"Im","\\gothicCapitalI":"Im","\\binom":"nCr","\\partial":"partial","\\differentialD":"differentialD","\\capitalDifferentialD":"capitalDifferentialD","\\Finv":"Finv","\\Game":"Game","\\wp":"wp","\\ast":"ast","\\star":"star","\\asymp":"asymp","\\to":"to","\\gets":"gets","\\in":"elementof","\\notin":"!elementof","\\ni":"ownedby","\\owns":"ownedby","\\subset":"subset","\\supset":"superset","\\complement":"complement","\\rightarrow":"shortLogicalImplies","\\leftarrow":"shortLogicalImpliedBy","\\leftrightarrow":"shortLogicalEquivalent","\\longrightarrow":"logicalImplies","\\longleftarrow":"logicalImpliedBy","\\longleftrightarrow":"logicalEquivalent","\\Rightarrow":"shortImplies","\\Leftarrow":"shortImpliedBy","\\Leftrightarrow":"shortEquivalent","\\implies":"implies","\\Longrightarrow":"implies","\\impliedby":"impliedBy","\\Longleftarrow":"impliedBy","\\iff":"equivalent","\\Longleftrightarrow":"equivalent"},wy={"+":"add","*":"multiply","-":"subtract","/":"divide","=":"equal",":=":"assign","!=":"ne","?=":"questeq",approx:"approx",congruent:"congruent",similar:"similar",equiv:"equiv","<":"lt",">":"gt","<=":"le",">=":"ge","≤":"le","≥":"ge",">>":"gg","<<":"ll","**":"pow","++":"increment","--":"decrement"},_y={equal:"%0 = %1",ne:"%0 \\ne %1",questeq:"%0 \\questeq %1",approx:"%0 \\approx %1",congruent:"%0 \\cong %1",similar:"%0 \\sim %1",equiv:"%0 \\equiv %1",assign:"%0 := %1",lt:"%0 < %1",gt:"%0 > %1",le:"%0 \\le %1",ge:"%0 \\ge %1",sin:"\\sin%_%^ %0",cos:"\\cos%_%^ %0",tan:"\\tan%_%^ %0",cot:"\\cot%_%^ %0",sec:"\\sec%_%^ %0",csc:"\\csc%_%^ %0",sinh:"\\sinh %0",cosh:"\\cosh %0",tanh:"\\tanh %0",csch:"\\csch %0",sech:"\\sech %0",coth:"\\coth %0",arcsin:"\\arcsin %0",arccos:"\\arccos %0",arctan:"\\arctan %0",arccot:"\\arcctg %0",arcsec:"\\arcsec %0",arccsc:"\\arccsc %0",arsinh:"\\arsinh %0",arcosh:"\\arcosh %0",artanh:"\\artanh %0",arcsch:"\\arcsch %0",arsech:"\\arsech %0",arcoth:"\\arcoth %0",ln:"\\ln%_%^ %",log:"\\log%_%^ %",lg:"\\lg %",lb:"\\lb %",sum:"\\sum%_%^ %0",prod:"\\prod%_%^ %0",Zeta:"\\zeta%_%^ %",Gamma:"\\Gamma %",min:"\\min%_%^ %",max:"\\max%_%^ %",mod:"\\mod%_%^ %",lim:"\\lim%_%^ %",binom:"\\binom %",nabla:"\\nabla %",curl:"\\nabla\\times %0",div:"\\nabla\\cdot %0",floor:"\\lfloor %0 \\rfloor%_%^",ceil:"\\lceil %0 \\rceil%_%^",abs:"\\left| %0 \\right|%_%^",norm:"\\lVert %0 \\rVert%_%^",ucorner:"\\ulcorner %0 \\urcorner%_%^",lcorner:"\\llcorner %0 \\lrcorner%_%^",angle:"\\langle %0 \\rangle%_%^",group:"\\lgroup %0 \\rgroup%_%^",moustache:"\\lmoustache %0 \\rmoustache%_%^",brace:"\\lbrace %0 \\rbrace%_%^","sqrt[]":"\\sqrt[%^]{%0}",sqrt:"\\sqrt{%0}",lcm:"\\operatorname{lcm}%",gcd:"\\operatorname{gcd}%",erf:"\\operatorname{erf}%",erfc:"\\operatorname{erfc}%",randomReal:"\\operatorname{randomReal}%",randomInteger:"\\operatorname{randomInteger}%",and:"%0 \\land %1",or:"%0 \\lor %1",xor:"%0 \\oplus %1",not:"%0 \\lnot %1",circle:"%0 \\circ %1",ast:"%0 \\ast %1",star:"%0 \\star %1",asymp:"%0 \\asymp %1","/":"\\frac{%0}{%1}",Re:"\\Re{%0}",Im:"\\Im{%0}",factorial:"%0!",factorial2:"%0!!"},ky={degree:880,nabla:740,curl:740,partial:740,differentialD:740,capitalDifferentialD:740,"**":720,odot:710,not:680,div:660,solidus:660,"/":660,setminus:650,"%":640,otimes:410,union:350,intersection:350,"*":390,ast:390,".":390,oplus:300,ominus:300,"+":275,"-":275,"+-":275,"-+":275,circle:265,circledast:265,circledcirc:265,star:265,"..":263,to:262,in:262,"|":261,congruent:265,equiv:260,"=":260,"!=":255,"?=":255,similar:250,approx:247,"<":245,">":243,">=":242,"≥":242,"<=":241,complement:240,subset:240,superset:240,elementof:240,"!elementof":240,exists:230,"!exists":230,forall:230,and:200,xor:195,or:190,suchThat:110,":":100,assign:80,":=":80,therefore:70,because:70,shortLogicalImplies:52,shortImplies:51,logicalImplies:50,implies:49,shortLogicalImpliedBy:48,shortImpliedBy:47,logicalImpliedBy:46,impliedBy:45,shortLogicalEquivalent:44,shortEquivalent:43,logicalEquivalent:42,equivalent:41,",":40,";":30};function xy(e,t){return Id(e.arg)?e.arg[t]:void 0}function Sy(e){return e&&ky[e]||-1}function My(e){return/=|=>/.test(e)?"right":"left"}function Cy(e){if("f"===e||"g"===e)return!0;const t=_y[e];return!!t&&!!/%[^01_^]?/.test(t)}function zy(e){e=(e||"").trim();let t=by[e];if(!t)if(/^\\[^{}]+$/.test(e)){const n=qp(e,"math",{});t=n&&n.value||e.slice(1)}else t=e;return t}function Oy(e){if(!e)return null;const t=zy(Dy(e)),n=[Sy(t),My(t)];return n[0]<=0?null:n}function Ey(e){return null!==Oy(e)}const Ly={"\\lfloor\\rfloor":"floor","\\lceil\\rceil":"ceil","\\vert\\vert":"abs","\\lvert\\rvert":"abs","||":"abs","\\Vert\\Vert":"norm","\\lVert\\rVert":"norm","\\ulcorner\\urcorner":"ucorner","\\llcorner\\lrcorner":"lcorner","\\langle\\rangle":"angle","\\lgroup\\rgroup":"group","\\lmoustache\\rmoustache":"moustache","\\lbrace\\rbrace":"brace"},Ay={"!":"factorial","\\dag":"dagger","\\dagger":"dagger","\\ddagger":"dagger2","\\maltese":"maltese","\\backprime":"backprime","\\backdoubleprime":"backprime2","\\prime":"prime","\\doubleprime":"prime2","\\$":"$","\\%":"%","\\_":"_","\\degree":"degree"},Ty={"+":"add","-":"add","*":"multiply","=":"equal",",":"list",";":"list2",and:"and",or:"or",xor:"xor",union:"union",shortLogicalEquivalent:"logicalEquivalent",logicalEquivalent:"logicalEquivalent",shortEquivalent:"equivalent",equivalent:"equivalent"},Ny={",":"list",";":"list2"};function Dy(e){if("string"==typeof e)return e;if(Id(e)){let t="";for(const n of e)t+=Dy(n);return t}if(e.symbol&&!/^\\math(op|bin|rel|open|punct|ord|inner)/.test(e.symbol))return e.symbol;if("leftright"===e.type)return"";if("string"==typeof e.body)return e.body;if(Id(e.body)){let t="";for(const n of e.body)t+=Dy(n);return t}return""}function Py(e){return"string"==typeof e.sym?function(e){let t=_y[e];return t?t.replace("%1","").replace("%0","").replace("%",""):(e.length>1&&(t="\\"+e),t||(t=$p("math",e)),t)}(e.sym)||e.sym:""}function $y(e){return parseFloat(e.num)}function Ry(e){return"object"==typeof e&&void 0!==e.num}function Iy(e){let t=0;return Ry(e)&&(t="object"==typeof e.num?void 0!==e.num.re?iv(e.num.re):0:parseFloat(e.num)),t}function Fy(e){let t=0;return Ry(e)&&"object"==typeof e.num&&(t=void 0!==e.num.im?iv(e.num.im):0),t}function qy(e){return e&&void 0!==e.sup}function jy(e){return e&&void 0!==e.sub}function By(e,t,n){let r=!1;const o=e.atoms[e.index];return o&&o.type===t&&(r=void 0===n||Dy(o)===n),r}function Ky(e,...t){const n={fn:e,arg:void 0};if(t){const e=[];for(const n of t)n&&e.push(n);e.length>0&&(n.arg=e)}return n}function Vy(e){return"number"==typeof e?{num:e.toString()}:"string"==typeof e?{num:e}:"object"==typeof e?(console.assert("string"==typeof e.re||"string"==typeof e.im),{num:e}):void 0}function Uy(e){if(Ry(e)){const t=Iy(e),n=Fy(e);return 0!==n?(0!==t&&(e.num.re=(-t).toString()),e.num.im=(-n).toString()):e.num=(-t).toString(),e}return Ky("negate",e)}function Hy(e){const t=e.atoms[e.index+1];return t&&"msubsup"===t.type}function Wy(e,t){let n=e.atoms[e.index];return!n||void 0===n.superscript&&void 0===n.subscript?n=null:e.index+=1,n||(n=e.atoms[e.index+1],n&&"msubsup"===n.type&&(n.superscript||n.subscript)?e.index+=2:n=null),n?(void 0!==n.subscript&&(e.ast.sub=tv(n.subscript,t)),void 0!==n.superscript&&("msubsup"===n.type?/['\u2032]|\\prime/.test(Dy(n.superscript))?(e.index+=1,n=e.atoms[e.index+1],n&&"msubsup"===n.type&&/['\u2032]|\\prime/.test(Dy(n.superscript))?e.ast.sup={sym:"″"}:(e.ast.sup={sym:"′"},e.index-=1)):/['\u2033]|\\doubleprime/.test(Dy(n.superscript))?e.ast.sup={sym:"″"}:e.ast&&(e.ast.sup=tv(n.superscript,t)):e.ast.sup=tv(n.superscript,t))):e.index+=1,e}function Xy(e,t){const n=e.ast;if(Jy(e,"!!"))return e.index+=1,e.ast=Ky("factorial2",n),e=Xy(e=Wy(e,t),t);if(Jy(e,"++"))return e.index+=1,e.ast=Ky("increment",n),e=Xy(e=Wy(e,t),t);if(Jy(e,"--"))return e.index+=1,e.ast=Ky("decrement",n),e=Xy(e=Wy(e,t),t);const r=e.atoms[e.index];return(null==r?void 0:r.symbol)&&Ay[r.symbol]&&(e.ast=Ky(Ay[r.symbol],n),e=Xy(e=Wy(e,t),t)),e}function Gy(e,t,n,r){if(e.index=e.index||0,0===e.atoms.length||e.index>=e.atoms.length)return e.ast=void 0,e;const o=e.minPrec;e.minPrec=0;let i=e.atoms[e.index];if(t){if("mopen"===i.type&&Dy(i)===t)e.index+=1,i=(e=Yy(e,r)).atoms[e.index],i&&"mclose"===i.type&&Dy(i)===n&&(Hy(e)&&(e.ast={group:e.ast}),e=Xy(e=Wy(e,r),r));else if("textord"===i.type&&Dy(i)===t)e.index+=1,i=(e=Yy(e,r)).atoms[e.index],i&&"textord"===i.type&&Dy(i)===n&&(e.index+=1,e=Xy(e=Wy(e,r),r));else if("\\lVert"===t&&"textord"===i.type&&"|"===i.symbol){if(i=e.atoms[e.index+1],i&&"textord"===i.type&&"|"===i.symbol){e.index+=2,i=(e=Yy(e,r)).atoms[e.index];const t=e.atoms[e.index+1];i&&"textord"===i.type&&"|"===i.symbol&&t&&"textord"===t.type&&"|"===t.symbol&&(e.index+=2,e=Xy(e=Wy(e,r),r))}}else if("sizeddelim"===i.type&&i.delim===t)e.index+=1,i=(e=Yy(e,r)).atoms[e.index],i&&"sizeddelim"===i.type&&i.delim===n&&(e.index+=1,e=Xy(e=Wy(e,r),r));else{if("leftright"!==i.type||i.leftDelim!==t||"?"!==i.rightDelim&&i.rightDelim!==n)return;e.ast=tv(i.body,r),Hy(e)&&(e.ast={group:e.ast}),e=Xy(e=Wy(e,r),r)}return e.minPrec=o,e}{let a=!0;if("mopen"===i.type?(t=i.symbol,n=Sp[t]):"sizeddelim"===i.type?(t=i.delim,n=Sp[t]):"leftright"===i.type?(a=!1,t=i.leftDelim,"?"===(n=i.rightDelim)&&(n=Sp[t])):"textord"===i.type&&(t=i.symbol,n=Sp[t]),t&&n){if("|"===t&&"|"===n){const r=e.atoms[e.index+1];r&&"textord"===r.type&&"|"===r.symbol&&(t="\\lVert",n="\\rVert")}if(e=Gy(e,t,n,r))return a&&(e.index+=1),e.ast={fn:Ly[t+n]||t+n,arg:[e.ast]},e.minPrec=o,e}}}function Jy(e,t){return e.index=e.index||0,!(e.atoms.length<=1||e.index>=e.atoms.length-1)&&t===Dy(e.atoms[e.index])+Dy(e.atoms[e.index+1])}function Zy(e){if(e.index=e.index||0,!(e.atoms.length<=1||e.index>=e.atoms.length-1)){if(!By(e,"textord","\\nabla")){const t=e.atoms[e.index].symbol+e.atoms[e.index+1].symbol,n=/^(>=|<=|>>|<<|:=|!=)$/.test(t)?t:"";return n&&(e.index+=1),n}return e.index+=1,By(e,"mbin","\\times")?(e.index+=1,e.ast="curl",e):By(e,"mbin","\\cdot")?(e.index+=1,e.ast="div",e):void(e.index-=1)}}function Yy(e,t){if(e.index=e.index||0,e.ast=void 0,0===e.atoms.length||e.index>=e.atoms.length)return e;e.minPrec=e.minPrec||0;let n=function e(t,n){if(t.index=t.index||0,t.ast=void 0,0===t.atoms.length||t.index>=t.atoms.length)return t;let r=t.atoms[t.index];if("text"===r.mode){let e="";for(;t.atoms[t.index]&&"text"===t.atoms[t.index].mode;)e+=t.atoms[t.index].body,t.index+=1;return t.ast={text:e},t}const o=zy(Dy(r));if(Zy(t))t.ast=Ky(t.ast,e(t,n).ast);else{if("root"===r.type)return t.index=0,t.atoms=r.body,e(t,n);if("mbin"===r.type&&"-"===o)t.index+=1,(t=e(t,n)).ast=Uy(t.ast);else if("mbin"===r.type&&"+"===o)t.index+=1,(t=e(t,n)).ast=Ky("add",t.ast);else if("mord"===r.type&&/^[0-9.]$/.test(r.symbol)){let o="",i=!1,a=/^[0-9.eEdD]$/;for(;t.index<t.atoms.length&&!i&&(By(t,"spacing")||(By(t,"mord")||By(t,"mpunct",",")||By(t,"mbin"))&&a.test(t.atoms[t.index].symbol));)if("spacing"===t.atoms[t.index].type)t.index+=1;else if(void 0!==t.atoms[t.index].superscript||void 0!==t.atoms[t.index].subscript)i=!0;else{let e=t.atoms[t.index].symbol;"d"===e||"D"===e?(e="e",a=/^[0-9+-.]$/):"e"===e||"E"===e?Hy(t)?(e="",t.index-=1,i=!0):(e="E",a=/^[0-9+-.]$/):a===/^[0-9+-.]$/&&(a=/^[0-9]$/),o+=","===e?"":e,t.index+=1}if(t.ast=o?Vy(o):void 0,r=t.atoms[t.index],r&&"genfrac"===r.type&&!isNaN(t.ast.num)){const r=t.ast;(t=e(t,n)).ast=Ky("add",r,t.ast)}if(r&&"group"===r.type&&r.symbol&&r.symbol.startsWith("\\nicefrac")){const r=t.ast;(t=e(t,n)).ast=Ky("add",r,t.ast)}r&&"msubsup"===r.type&&(t=Wy(t,n)),t=Xy(t,n)}else if("genfrac"===r.type||"surd"===r.type)t.ast=Qy(r,n),t=Xy(t=Wy(t,n),n);else if("mord"===r.type||"mbin"===r.type){if(Cy(o)&&!Ey(r)){t.ast={fn:o};const r=(t=Wy(t,n)).ast,i=e(t,n).ast;i&&/^(list0|list|list2)$/.test(i.fn)?r.arg=i.arg:i&&(r.arg=[i]),t.ast=r}else t.ast=Qy(r,n),"ⅈ"===t.ast.sym&&(t.ast=Vy({im:"1"})),t=Wy(t,n);t=Xy(t,n)}else if("textord"===r.type){if(!Ey(r)&&!Sp[r.symbol||r.body])if(Cy(o)){t.ast={fn:o};const r=(t=Wy(t,n)).ast;t.index+=1,r.arg=[e(t,n).ast],t.ast=r,t=Xy(t,n)}else t.ast=Qy(r,n),void 0===r.superscript&&(t.index+=1),t=Xy(t=Wy(t,n),n)}else if("mop"===r.type){if((/^\\(mathop|operatorname|operatorname\*)/.test(r.symbol)||Cy(o))&&!Ey(r))if(t.ast={fn:/^\\(mathop|operatorname|operatorname\*)/.test(r.symbol)?Dy(r.body):o},qy((t=Wy(t,n)).ast)){const r={sin:"arcsin",cos:"arccos",tan:"arctan",cot:"arccot",sec:"arcsec",csc:"arccsc",sinh:"arsinh",cosh:"arcosh",tanh:"artanh",csch:"arcsch",sech:"arsech",coth:"arcoth"};if(-1===$y(t.ast.sup)&&r[o])t.ast=Ky(r[o],e(t,n).ast);else{const r=t.ast;r.arg=[e(t,n).ast],t.ast=r}}else{const r=t.ast,o=e(t,n).ast;o&&/^(list0|list|list2)$/.test(o.fn)?r.arg=o.arg:o&&(r.arg=[o]),t.ast=r}}else if("array"===r.type)t.index+=1,t.ast=Qy(r,n);else if("group"===r.type)t.index+=1,t.ast=Qy(r,n);else{if("mclose"===r.type)return t;if("error"===r.type)return t.index+=1,t.ast={error:r.symbol},t}}if(void 0===t.ast){const e=Gy(t,"(",")",n)||Gy(t,null,null,n);e?t=e:Ey(r)||("placeholder"===r.type?t.ast=Vy(0):(t.ast={text:"?"},t.ast.error="Unexpected token '"+r.type+"'",r.latex?t.ast.latex=r.latex:r.body&&r.toLatex&&(t.ast.latex=r.toLatex())),t.index+=1)}if(r=t.atoms[t.index],r&&("mord"===r.type||"surd"===r.type||"mop"===r.type||"mopen"===r.type||"sizeddelim"===r.type||"leftright"===r.type)){if("sizeddelim"===r.type)for(const e in Sp)if(r.delim===Sp[e])return t.index+=1,t;if(("mord"===r.type||"mop"===r.type)&&Ey(r))return t;const o=t.ast;t.ast={},(null==(t=e(t,n))?void 0:t.ast)&&o?Cy(o.fn)&&void 0===o.arg||Id(o.arg)&&0===o.arg.length?"list2"===t.ast.fn||"list"===t.ast.fn?t.ast=Ky(o.fn,t.ast.arg):t.ast=Ky("multiply",o,t.ast):"multiply"===t.ast.fn?t.ast.arg.unshift(o):0===Fy(o)&&0!==Iy(o)&&1===Fy(t.ast)&&0===Iy(t.ast)?t.ast=Vy({im:Iy(o).toString()}):t.ast=Ky("multiply",o,t.ast):t.ast=o}return t}(e,t).ast,r=!1;const o=e.minPrec;for(;!r;){const i=e.atoms[e.index],a=Zy(e);let s,l;if(r=!i||"text"===i.mode||!a&&!Ey(i),r||([s,l]=a?[Sy(a),My(a)]:Oy(i),r=s<o),!r){const o=a||zy(Dy(i));if(e.minPrec="left"===l?s+1:s,e.index+=1,"|"===o)if(void 0!==i.subscript||e.atoms[e.index]&&void 0!==e.atoms[e.index].subscript&&"msubsup"===e.atoms[e.index].type){e.ast={};const r=Wy(e,t).ast.sub;if(n=Ky("bind",n),r&&"equal"===r.fn&&n.arg)n.arg.push(xy(r,0)),n.arg.push(xy(r,1));else if(r&&n.arg&&("list"===r.fn||"list2"===r.fn)){let e={sym:"x"};for(let t=0;t<r.arg.length;t++)"equal"===r.arg[t].fn?(e=xy(r.arg[t],0),n.arg.push(e),n.arg.push(xy(r.arg[t],1))):(n.arg.push(e),n.arg.push(r.arg[t]))}else r&&(n.arg.push({sym:"x"}),n.arg.push(r))}else r=!0;else{const r=Yy(e,t).ast;let i=Ny[o];i&&n&&n.fn!==i&&(n=Ky(i,n)),"-"===o?(null==n?void 0:n.arg)&&"add"===n.fn?void 0!==r&&n.arg.push(Uy(r)):n=n&&"subtract"===n.fn?Ky("add",xy(n,0),Uy(xy(n,1)),Uy(r)):!Ry(n)||qy(n)||!Ry(r)||qy(r)||void 0!==r.num.re&&"0"!==r.num.re||void 0===r.num.im?Ky("subtract",n,r):{num:{re:n.num,im:(-parseFloat(r.num.im)).toString()}}:(i=Ty[o],"add"===i&&n&&"subtract"===n.fn?n=Ky("add",xy(n,0),Uy(xy(n,1)),r):i&&n&&n.fn===i&&!qy(n)?void 0!==r&&(r.fn===i&&!qy(r)&&r.arg?n.arg=[...n.arg,...r.arg]:n.arg&&n.arg.push(r)):i&&r&&r.arg&&r.fn===i?(r.arg.unshift(n),n=r):n="multiply"===i&&Ry(n)&&!qy(n)&&r&&10===$y(r)&&Ry(r.sup)?Vy($y(n)*Math.pow(10,$y(r.sup))):"add"===i&&Ry(n)&&!qy(n)&&r&&0!==Fy(r)&&!qy(r)?{num:{re:n.num,im:r.num.im}}:Ky(i||wy[o]||o,n,r))}}}return e.ast=n,e}function Qy(e,t){var n,r,o;let i,a,s,l,c={},u="",d={"double-struck":"double-struck",calligraphic:"script",script:"script",fraktur:"fraktur","sans-serif":"sans-serif",monospace:"monospace"}[e.variant+(e.variantStyle&&"up"!==e.variantStyle?"-"+e.variantStyle:"")],p="";"b"===e.fontSeries&&(p+="bold"),"it"===e.fontShape&&(p+="italic");const f=e.symbol;switch(e.type){case"root":case"group":(null===(n=e.symbol)||void 0===n?void 0:n.startsWith("\\nicefrac"))?(i=e.symbol.slice(9).match(/({.*}|[^}])({.*}|[^}])/),i?(a=1===i[1].length?i[1]:i[1].substr(1,i[1].length-2),a=jf(a,"math",null,t.macros),s=1===i[2].length?i[2]:i[2].substr(1,i[2].length-2),s=jf(s,"math",null,t.macros),c=Ky("divide",tv(a,t),tv(s,t))):c={fn:"divide"}):c={group:tv(e.body,t)};break;case"genfrac":c=Ky("divide",tv(e.numer,t),"placeholder"===(null===(o=null===(r=e.denom)||void 0===r?void 0:r[0])||void 0===o?void 0:o.type)?Vy(1):tv(e.denom,t));break;case"surd":c=e.index?Ky("pow",tv(e.body,t),Ky("divide",Vy(1),tv(e.index,t))):Ky("sqrt",tv(e.body,t));break;case"rule":case"overlap":case"overunder":break;case"mord":case"textord":case"mbin":i=f?f.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):void 0,i?u=String.fromCodePoint(parseInt(i[1],16)):(u=zy(Dy(e)),u.length>0&&"\\"===u.charAt(0)&&"string"==typeof e.body&&(u=e.body)),l=Dp(u,d,p).replace(/[\\]/g,"\\\\").replace(/["]/g,'\\"').replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t"),l!==u?(c={sym:l},d="normal"):c={sym:u};break;case"minner":case"mop":break;case"box":c=tv(e.body,t);break;case"enclose":break;case"array":if("cardinality"===e.environmentName)c=Ky("card",tv(e.array,t));else if(/array|matrix|pmatrix|bmatrix/.test(e.environmentName)){c={fn:"array",args:[]};for(const n of e.array)c.args.push(n.map(e=>tv(e,t)))}else if("cases"===e.environmentName){c={fn:"cases",args:[]};for(const n of e.array)if(n[0]){const e=[];e.push(tv(n[0],t));let r=tv(n[1],t);r&&"text"===r.fn&&r.arg&&/^(if|when|for)$/i.test(r.arg[0].trim())&&(r=r.arg.filter(e=>"string"!=typeof e)),e.push(null!=r?r:{}),c.args.push(e)}}break;case"spacing":case"space":case"mathstyle":break;default:c=void 0,console.warn('Unhandled atom "'+e.type+'" in "'+(e.symbol||e.body)+'"')}return c&&d&&"normal"!==d&&(c.variant=d),c&&"string"==typeof e.cssClass&&(c.class=e.cssClass),c&&"string"==typeof e.cssId&&(c.id=e.cssId),c}function ev(e){if(!e)return[];let t;if(Id(e)){t=[];for(const n of e){const e=ev(n);t=t.concat(e)}}else{if("spacing"===e.type||"first"===e.type)return[];"box"===e.type?t=ev(e.body):(e.body&&Id(e.body)&&(e.body=ev(e.body)),e.superscript&&Id(e.superscript)&&(e.superscript=ev(e.superscript)),e.subscript&&Id(e.subscript)&&(e.subscript=ev(e.subscript)),e.index&&Id(e.index)&&(e.index=ev(e.index)),e.denom&&Id(e.denom)&&(e.denom=ev(e.denom)),e.numer&&Id(e.numer)&&(e.numer=ev(e.numer)),e.array&&Id(e.array)&&(e.array=e.array.map(e=>e.map(e=>ev(e)))),t=[e])}return t}function tv(e,t){return function(e,t){e.index=e.index||0,e.ast=void 0;const n=[];for(;e.atoms[e.index];)if("text"===e.atoms[e.index].mode){let t="";for(;e.atoms[e.index]&&"text"===e.atoms[e.index].mode;)t+=e.atoms[e.index].body,e.index+=1;n.push(Ky("text",t))}else{const r=Yy(e,t).ast;if(!r)return;n.push(r)}return n.length>1?Ky("sequence",...n):n[0]||void 0}({atoms:ev(e)},t)}function nv(e,t){return tv(e,t)}function rv(e,...t){e=e||".. ";let n="";if(t.length>0){"."!==e[0]&&(n+=e[0]);let r="";for(const o of t)n+=r+o,r=e[2];"."!==e[1]&&(n+=e[1])}return n}function ov(e,t){const n=e.length;e=e.substr(0,t.precision-2);for(let n=0;n<e.length-16;n++){const r=e.substr(0,n);for(let o=0;o<17;o++){const i=e.substr(n,o+1),a=Math.floor((e.length-r.length)/i.length);if(a>1&&(r+i.repeat(a+1)).startsWith(e))return"0"===i?r.replace(/(\d{3})/g,"$1"+t.groupSeparator):r.replace(/(\d{3})/g,"$1"+t.groupSeparator)+t.beginRepeatingDigits+i.replace(/(\d{3})/g,"$1"+t.groupSeparator)+t.endRepeatingDigits}}return n!==e.length&&(e+="\\ldots"),e.replace(/(\d{3})/g,"$1"+t.groupSeparator)}function iv(e){return parseFloat(parseFloat(e).toPrecision(15))}function av(e,t){let n,r="";if("number"==typeof t.precision){if("number"!=typeof e){let n="",r="";if("-"===e[0]?(n="-",e=e.substr(1)):"+"===e[0]&&(e=e.substr(1)),e.indexOf(".")>=0){const o=e.match(/(\d*).(\d*)([e|E]([-+]?[0-9]*))?/),i=o[1],a=o[2].substring(0,Math.min(t.precision-i.length,o[2].length));if(r=o[4]||"","0"===i){let r=0;for(;"0"===a[r]&&r<a.length;)r+=1;let o="";if(r<=4)o="0"+t.decimalMarker,o+=a.substr(0,r),o+=ov(e.substr(o.length),t);else if(r+1>=t.precision)o="0",n="";else{o=e[r];const n=ov(e.substr(r+1),t);n&&(o+=t.decimalMarker+n)}"0"!==o&&(e.length-1>t.precision&&!o.endsWith("}")&&!o.endsWith("\\ldots")&&(o+="\\ldots"),r>4&&(o+=t.exponentProduct,t.exponentMarker?o+=t.exponentMarker+(1-r).toString():o+="10^{"+(1-r).toString()+"}")),e=o}else{e=i.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator);const n=ov(a,t);n&&(e+=t.decimalMarker+n)}}else if(e.length>t.precision){const n=e.length;let r=e[0];const o=ov(e.substr(2),t);o&&(r+=t.decimalMarker+o,"}"!==r[r.length-1]&&(r+="\\ldots")),"1"!==r?r+=t.exponentProduct:r="",t.exponentMarker?r+=t.exponentMarker+(n-2).toString():r+="10^{"+(n-2).toString()+"}",e=r}else e=e.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator);return r&&(r=t.exponentMarker?t.exponentMarker+r:t.exponentProduct+" 10^{"+r+"}"),n+e+r}n=iv(e)}if("engineering"===t.scientificNotation)if(0===n)r="0";else{const e=Math.abs(n);let o=Math.round(Math.log10(e));o-=o%3,e<1e3&&(o=0);const i=e/Math.pow(10,o);let a="";const s=i.toString().match(/^(.*)\.(.*)$/);(null==s?void 0:s[1])&&s[2]&&(a=s[1]+t.decimalMarker+s[2]),t.groupSeparator&&(a=ov(i.toExponential(),t));let l="";l=0===o?"":t.exponentMarker?t.exponentMarker+o:t.exponentProduct+" 10^{"+o+"}",r=(n<0?"-":"")+a+l}else{const n="string"==typeof e?e:e.toString();let o,i,a,s=n.match(/^(.*)[e|E]([-+]?[0-9]*)$/i);o=n,a="",(null==s?void 0:s[1])&&s[2]&&(o=s[1],i=t.exponentMarker?t.exponentMarker+s[2]:t.exponentProduct+" 10^{"+s[2]+"}"),s=o.match(/^(.*)\.(.*)$/),(null==s?void 0:s[1])&&s[2]&&(o=s[1],a=s[2]),t.groupSeparator&&(o=o.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator),a=ov(a,t)),a&&(a=t.decimalMarker+a),r=o+a+(i||"")}return r}function sv(e,t){const n=Object.assign({precision:14,decimalMarker:".",groupSeparator:"\\, ",product:"\\cdot ",exponentProduct:"\\cdot ",exponentMarker:"",arcSeparator:"\\,",scientificNotation:"auto",beginRepeatingDigits:"\\overline{",endRepeatingDigits:"}"},t);let r="";if(void 0===e)return"";if("string"==typeof e)r=e;else if(e.latex)r=e.latex;else if(Ry(e)){const t=$y(e);if(t===-1/0)r="-\\infty ";else if(t===1/0)r="\\infty ";else if("object"!=typeof e.num||"string"!=typeof e.num.re&&"string"!=typeof e.num.im)r=isNaN(t)?"\\text{NaN}":av(e.num,n);else{const t=Iy(e),o=Fy(e);isNaN(t)||isNaN(o)?r="\\text{NaN}":Math.abs(o)<=Number.EPSILON&&Math.abs(t)<=Number.EPSILON?r="0":(Math.abs(t)>Number.EPSILON&&(r=av(t,n)),Math.abs(o)>Number.EPSILON&&(Math.abs(t)>Number.EPSILON&&(r+=o>0?"+":""),r+=(1!==Math.abs(o)?av(o,n):"")+"\\imaginaryI "))}qy(e)&&(r+="^{"+sv(e.sup,n)+"}"),jy(e)&&(r+="_{"+sv(e.sub,n)+"}")}else if(e.group)r=sv(e.group,n),Ry(e.group)||Py(e.group)?0!==Fy(e.group)&&(r=rv(e.fence||"(),",r)):r=rv(e.fence||"(),",r),qy(e)&&(r+="^{"+sv(e.sup,n)+"}"),jy(e)&&(r+="_{"+sv(e.sub,n)+"}");else if(e.fn)if("bind"===e.fn){if(r=sv(xy(e,0),n)+"|_{",e.arg&&2===e.arg.length)r+=sv(xy(e,1));else{let t="";for(let n=1;n<e.arg.length;n+=2)r+=t+sv(xy(e,n))+" = "+sv(xy(e,n+1)),t=", "}r+="}"}else if("divide"===e.fn)r="\\frac{"+sv(xy(e,0),n)+"}{"+sv(xy(e,1),n)+"}";else if("negate"===e.fn)r="-"+sv(xy(e,0),n);else if("subtract"===e.fn)r=sv(xy(e,0),n)+" - "+sv(xy(e,1),n);else if("add"!==e.fn&&"multiply"!==e.fn||!Id(e.arg))if("list"===e.fn||"list2"===e.fn){const t=[];if(e.arg)for(const r of e.arg)t.push(sv(r,n));r=t.join("list2"===e.fn?"; ":", ")}else if("sequence"===e.fn)r=Cf(e.arg.map(e=>sv(e,n)));else if("text"===e.fn)r="\\text{"+(e.arg[0]||"")+"}";else if("pow"===e.fn&&Id(e.arg)&&e.arg.length>=2)r=sv(xy(e,0),n),Ry(xy(e,0))||Py(xy(e,0))||(r=rv(e.fence||"(),",r)),r+="^{"+sv(xy(e,1),n)+"}";else if("equal"===e.fn&&e.arg&&e.arg.length>2)r=e.arg.map(e=>sv(e,n)).join(" = ");else{const t=function(e){let t=_y[e];return t||(t=e.length>1?"\\operatorname{"+e+"}%^%_ %":e+"%^%_ %"),t}(e.fn);r=t;let o="";if(/%(?![01_^])/.test(t)&&Id(e.arg)&&e.arg.length>1)r+=rv(e.fence||"(),",...e.arg.map(e=>sv(e,n)));else if(Id(e.arg)&&e.arg.length>0){const i=sv(xy(e,0),n),a=sv(xy(e,1),n),s=[...e.arg];/%0/.test(t)&&(r=r.replace("%0",i),s.shift()),/%1/.test(t)&&(r=r.replace("%1",a),s.shift()),s.length>0&&(o=rv(e.fence||"(),",...s.map(e=>sv(e,n))))}else o=rv(e.fence||"(),","");r=qy(e)?r.replace("%^","^{"+sv(e.sup,n)+"}"):r.replace("%^",""),r=jy(e)?r.replace("%_","_{"+sv(e.sub,n)+"}"):r.replace("%_",""),r=r.replace(/%(?![01_^])/,o),r=r.replace("%0","").replace("%1","")}else{const t=[];for(const r of e.arg)"add"===r.fn||"subtract"===r.fn?t.push(rv("() ",sv(r,n))):0!==Iy(o=r)&&0!==Fy(o)||qy(e)&&0!==Fy(r)&&1!==Fy(r)?t.push(rv("() ",sv(r,n))):t.push(sv(r,n));if("multiply"===e.fn)r=!e.arg||2!==e.arg.length||!Ry(e.arg[0])&&"divide"!==e.arg[0].fn||Ry(e.arg[1])&&(0!==Iy(e.arg[1])||1!==Fy(e.arg[1]))?t.join(" \\times "):t[0]+t[1];else if(e.arg&&1===e.arg.length)r="negate"===e.arg[0].fn||Ry(e.arg[0])&&$y(e.arg[0])<0?t[0]:"+"+t[0];else{r=t[0];for(let n=1;n<e.arg.length;n++)"negate"===e.arg[n].fn||Ry(e.arg[n])&&$y(e.arg[n])<0?r+=t[n]:r+=" + "+t[n]}}else if("string"==typeof e.sym){r=Py(e);let t=r.match(/^&#x([0-9a-f]+);$/i);if((null==t?void 0:t[1])?r=String.fromCodePoint(parseInt(t[1],16)):(t=r.match(/^&#([0-9]+);$/i),(null==t?void 0:t[1])&&(r=String.fromCodePoint(parseInt(t[1])))),"string"==typeof e.variant){r="\\"+{normal:"mathrm","double-struck":"mathbb",bold:"mathbf",fraktur:"mathfrak",script:"mathscr","sans-serif":"mathsf",monospace:"mathtt"}[e.variant]+"{"+r+"}"}qy(e)&&(r+="^{"+sv(e.sup,n)+"}"),jy(e)&&(r+="_{"+sv(e.sub,n)+"}")}else"string"==typeof e.text&&(r="\\text{"+e.text+"}");var o;return"string"==typeof e.error&&(r="\\bbox[#F56165]{"+r+"}"),r}class lv{constructor(e,t){var n;this.stylesheets=[],this.eventHandlingInProgress="",this.options=jg(Kg(),t),this.element=e,e.mathfield=this,this.originalContent=e.innerHTML;let r=this.element.textContent;r&&(r=r.trim()),Uf(this.options.fontsDirectory,this.options.onError),this.stylesheets.push(Hf(e,vy)),this.stylesheets.push(Hf(e,'@-webkit-keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__caret:after{content:"";border:none;border-radius:2px;border-right:2px solid var(--caret,hsl(var(--hue,212),40%,49%));margin-right:-2px;position:relative;left:-1px;-webkit-animation:ML__caret-blink 1.05s step-end infinite forwards;animation:ML__caret-blink 1.05s step-end infinite forwards}.ML__text-caret:after{content:"";border:none;border-radius:1px;border-right:1px solid var(--caret,hsl(var(--hue,212),40%,49%));margin-right:-1px;position:relative;left:0;-webkit-animation:ML__caret-blink 1.05s step-end infinite forwards;animation:ML__caret-blink 1.05s step-end infinite forwards}.ML__command-caret:after{content:"_";border:none;margin-right:-1ex;position:relative;color:var(--caret,hsl(var(--hue,212),40%,49%));-webkit-animation:ML__caret-blink 1.05s step-end infinite forwards;animation:ML__caret-blink 1.05s step-end infinite forwards}.ML__fieldcontainer{display:flex;flex-flow:row;justify-content:space-between;align-items:flex-end;min-height:39px;touch-action:none;width:100%;--hue:212;--secondary:hsl(var(--hue,212),19%,26%);--on-secondary:hsl(var(--hue,212),19%,26%)}.ML__fieldcontainer__field{align-self:center;position:relative;overflow:hidden;line-height:0;padding:2px;width:100%}.ML__virtual-keyboard-toggle{display:flex;align-self:center;align-items:center;flex-shrink:0;flex-direction:column;justify-content:center;width:34px;height:34px;padding:0;margin-right:4px;cursor:pointer;box-sizing:border-box;border-radius:50%;border:1px solid transparent;transition:background .2s cubic-bezier(.64,.09,.08,1);color:var(--primary,hsl(var(--hue,212),40%,50%));fill:currentColor;background:transparent}.ML__virtual-keyboard-toggle:hover{background:hsl(var(--hue,212),25%,35%);color:#fafafa;fill:currentColor;border-radius:50%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)}.ML__popover{visibility:hidden;min-width:160px;background-color:rgba(97,97,97,.95);color:#fff;text-align:center;border-radius:6px;position:fixed;z-index:1;display:flex;flex-direction:column;justify-content:center;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:all .2s cubic-bezier(.64,.09,.08,1)}.ML__popover:after{content:"";position:absolute;top:-5px;left:calc(50% - 3px);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;font-size:1rem;border-bottom:5px solid rgba(97,97,97,.9)}.ML__popover--reverse-direction:after{top:auto;bottom:-5px;border-top:5px solid rgba(97,97,97,.9);border-bottom:0}.ML__textarea__textarea{transform:scale(0);resize:none;outline:none;border:none;position:absolute;clip:rect(0 0 0 0);width:1px;height:1px;font-size:1em;font-family:KaTeX_Main}.ML__focused .ML__text{background:hsla(var(--hue,212),40%,50%,.1)}.ML__smart-fence__close{opacity:.5}.ML__selection{background:var(--highlight-inactive,#ccc);box-sizing:border-box}.ML__focused .ML__selection{background:var(--highlight,hsl(var(--hue,212),97%,85%))!important;color:var(--on-highlight)}.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret>.ML__close,.ML__contains-caret>.ML__open,.sqrt.ML__contains-caret>.sqrt-sign,.sqrt.ML__contains-caret>.vlist>span>.sqrt-line{color:var(--caret,hsl(var(--hue,212),40%,49%))}.ML__command{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;letter-spacing:-1px;font-weight:400;line-height:1em;color:var(--primary,hsl(var(--hue,212),40%,50%))}:not(.ML__command)+.ML__command{margin-left:.25em}.ML__command+:not(.ML__command){padding-left:.25em}.ML__suggestion{opacity:.5}.ML__virtual-keyboard-toggle.pressed{background:hsla(0,0%,70%,.5)}.ML__virtual-keyboard-toggle:focus{outline:none;border-radius:50%;border:2px solid var(--primary,hsl(var(--hue,212),40%,50%))}.ML__virtual-keyboard-toggle.active,.ML__virtual-keyboard-toggle.active:hover{background:hsla(0,0%,70%,.5);color:#000;fill:currentColor}.ML__scroller{position:fixed;z-index:1;top:0;height:100vh;width:200px}[data-ML__tooltip]{position:relative}[data-ML__tooltip][data-placement=top]:after{top:inherit;bottom:100%}[data-ML__tooltip]:after{position:absolute;display:none;content:attr(data-ML__tooltip);top:110%;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:200px;padding:8px;background:#616161;color:#fff;text-align:center;z-index:2;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);border-radius:2px;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;font-size:12px;opacity:0;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1)}@media only screen and (max-width:767px){[data-ML__tooltip]:after{padding:8px 16px;font-size:14px}}:not(.tracking) [data-ML__tooltip]:hover{position:relative}:not(.tracking) [data-ML__tooltip]:hover:after{visibility:visible;display:inline-table;opacity:1;transform:scale(1)}[data-ML__tooltip][data-delay]:after{transition-delay:0s}[data-ML__tooltip][data-delay]:hover:after{transition-delay:1s}'));let o="";this.options.substituteTextArea?"string"==typeof this.options.substituteTextArea?o+=this.options.substituteTextArea:o+="<span></span>":/android|ipad|ipod|iphone/i.test(null===navigator||void 0===navigator?void 0:navigator.userAgent)?o+="<span class='ML__textarea'>\n                <span class='ML__textarea__textarea'\n                    tabindex=\"-1\" role=\"textbox\"\n                    style='display:inline-block;height:1px;width:1px' >\n                </span>\n            </span>":o+=`<span class="ML__textarea"><textarea class="ML__textarea__textarea" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" aria-hidden="true" tabindex="${null!==(n=e.tabIndex)&&void 0!==n?n:0}"></textarea></span>`,o+='<span class="ML__fieldcontainer"><span class="ML__fieldcontainer__field"></span>',"manual"===this.options.virtualKeyboardMode?(o+=`<div part='virtual-keyboard-toggle' class="ML__virtual-keyboard-toggle" role="button" data-ML__tooltip="${Cg("tooltip.toggle virtual keyboard")}">`,this.options.virtualKeyboardToggleGlyph?o+=this.options.virtualKeyboardToggleGlyph:o+='<span style="width: 21px; margin-top: 4px;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg></span>',o+="</div>"):o+="<span ></span>",o+="</span>",o+='\n        <div class="ML__sr-only">\n            <span aria-live="assertive" aria-atomic="true"></span>\n            <span></span>\n        </div>\n    ',this.element.innerHTML=this.options.createHTML(o);let i,a=0;i="function"==typeof this.options.substituteTextArea?this.options.substituteTextArea():this.element.children[a++].firstElementChild,this.field=this.element.children[a].children[0],this.field.addEventListener("wheel",e=>{e.preventDefault(),e.stopPropagation();const t=void 0===e.deltaX?e.detail:-e.deltaX;isFinite(t)&&this.field.scroll({top:0,left:this.field.scrollLeft-5*t})},{passive:!1}),this.virtualKeyboardToggle=this.element.children[a++].children[1],wm(this,this.virtualKeyboardToggle,{default:"toggleVirtualKeyboard",alt:"toggleVirtualKeyboardAlt",shift:"toggleVirtualKeyboardShift"}),this.ariaLiveText=this.element.children[a].children[0],this.accessibleNode=this.element.children[a++].children[1],this.popover=mm("mathlive-popover-panel","ML__popover"),this.stylesheets.push(Hf(null,"div.ML__popover.is-visible{visibility:inherit;-webkit-animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);animation:ML__fade-in .15s cubic-bezier(0,0,.2,1)}@-webkit-keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}.ML__popover__content{border-radius:6px;padding:2px;cursor:pointer;min-height:100px;display:flex;flex-direction:column;justify-content:center;margin-left:8px;margin-right:8px}.ML__popover__content a{color:#5ea6fd;padding-top:.3em;margin-top:.4em;display:block}.ML__popover__content a:hover{color:#5ea6fd;text-decoration:underline}.ML__popover__content.active,.ML__popover__content.pressed,.ML__popover__content:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-size:1.6rem}.ML__popover__prev-shortcut{height:31px;opacity:.1;cursor:pointer;margin-left:8px;margin-right:8px;padding-top:4px;padding-bottom:2px}.ML__popover__next-shortcut:hover,.ML__popover__prev-shortcut:hover{opacity:.3}.ML__popover__next-shortcut.active,.ML__popover__next-shortcut.pressed,.ML__popover__prev-shortcut.active,.ML__popover__prev-shortcut.pressed{opacity:1}.ML__popover__next-shortcut>span,.ML__popover__prev-shortcut>span{padding:5px;border-radius:50%;width:20px;height:20px;display:inline-block}.ML__popover__prev-shortcut>span>span{margin-top:-2px;display:block}.ML__popover__next-shortcut>span>span{margin-top:2px;display:block}.ML__popover__next-shortcut:hover>span,.ML__popover__prev-shortcut:hover>span{background:hsla(0,0%,100%,.1)}.ML__popover__next-shortcut{height:34px;opacity:.1;cursor:pointer;margin-left:8px;margin-right:8px;padding-top:2px;padding-bottom:4px}.ML__popover__shortcut{font-size:.8em;margin-top:.25em}.ML__popover__note,.ML__popover__shortcut{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:.7;padding-top:.25em}.ML__popover__note{font-size:.8rem;line-height:1em;padding-left:.5em;padding-right:.5em}.ML__shortcut-join{opacity:.5}")),this.keystrokeCaption=mm("mathlive-keystroke-caption-panel","ML__keystroke-caption"),this.stylesheets.push(Hf(null,".ML__keystroke-caption{visibility:hidden;background:var(--secondary);border-color:var(--secondary-border);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);text-align:center;border-radius:6px;padding:16px;position:absolute;z-index:1;display:flex;flex-direction:row;justify-content:center;--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7}@media (prefers-color-scheme:dark){body:not([theme=light]) .ML__keystroke-caption{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}}body[theme=dark] .ML__keystroke-caption{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}.ML__keystroke-caption>span{min-width:14px;margin:0 8px 0 0;padding:4px;background-color:var(--keystroke);color:var(--on-keystroke);fill:currentColor;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;border-radius:6px;border:2px solid var(--keystroke-border)}")),this.keystrokeCaptionVisible=!1,this.virtualKeyboardVisible=!1,this.keystrokeBuffer="",this.keystrokeBufferStates=[],this.keystrokeBufferResetTimer=null,this.suggestionIndex=0,this.mode=this.options.defaultMode,this.smartModeSuppressed=!1,this.style={},this.blurred=!0,fm(this.element,"focus",this),fm(this.element,"blur",this),this.keyboardDelegate=function(e,t){let n,r=null,o=null,i=!1,a=!1,s=!1;function l(e){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e()})}function c(){if(e.selectionStart!==e.selectionEnd)return;const n=e.value;e.value="",n.length>0&&t.typedText(n)}const u=e;return u.addEventListener("keydown",n=>{i||"Process"===n.key||"CapsLock"===n.code||/(Control|Meta|Alt|Shift)(Left|Right)/.test(n.code)?r=null:(r=n,o=null,t.keystroke(vg(n),n)||(r=null,e.value=""))},!0),u.addEventListener("keypress",e=>{i||i||(r&&o&&t.keystroke(vg(r),r),o=e,l(c))},!0),u.addEventListener("keyup",()=>{i||r&&!o&&c()},!0),u.addEventListener("paste",n=>{e.focus(),e.value="",t.paste(n)},!0),u.addEventListener("cut",()=>{t.cut()},!0),u.addEventListener("copy",e=>{t.copy(e)},!0),u.addEventListener("blur",e=>{s||a||(s=!0,r=null,o=null,t.blur&&t.blur(),s=!1)},!0),u.addEventListener("focus",e=>{s||a||(a=!0,t.focus&&t.focus(),a=!1)},!0),u.addEventListener("compositionstart",n=>{i=!0,e.value="",t.compositionStart&&t.compositionStart(n.data)},!0),u.addEventListener("compositionupdate",e=>{i&&t.compositionUpdate&&t.compositionUpdate(e.data)},!0),u.addEventListener("compositionend",n=>{e.value="",i&&(i=!1,t.compositionEnd&&t.compositionEnd(n.data))},!0),u.addEventListener("input",e=>{if(!i&&"insertCompositionText"!==e.inputType)return"insertFromPaste"===e.inputType?(e.preventDefault(),void e.stopPropagation()):void l(c)}),{cancelComposition:()=>{const n=t.blur,r=t.focus;t.blur=null,t.focus=null,e.blur(),e.focus(),t.blur=n,t.focus=r},blur:()=>{"function"==typeof e.blur&&e.blur()},focus:()=>{"function"==typeof e.blur&&e.focus()},hasFocus:()=>bg(document)===e,setValue:t=>{t?(e.value=t,bg(document)===e&&e.select&&e.select()):(e.value="",e.setAttribute("aria-label",""))},setAriaLabel:t=>{e.setAttribute("aria-label","after: "+t)},moveTo:(t,n)=>{e.style.top=n+"px",e.style.left=t+"px"}}}(i,{typedText:e=>Xg(this,e),cut:()=>{return e=this,setTimeout(function(){e.$clearSelection(),Wm(e)}.bind(e),0),!0;var e},copy:e=>{return n=e,Kh((t=this).model)?(n.clipboardData.setData("text/plain","$$"+t.getValue("latex-expanded")+"$$"),n.clipboardData.setData("application/json",t.getValue("json")),n.clipboardData.setData("application/xml",t.getValue("mathML"))):(n.clipboardData.setData("text/plain","$$"+t.getValue(t.selection,"latex-expanded")+"$$"),n.clipboardData.setData("application/json",t.getValue(t.selection,"json")),n.clipboardData.setData("application/xml",t.getValue(t.selection,"mathML"))),void n.preventDefault();var t,n},paste:e=>function(e,t){let n="";const r=t.clipboardData.getData("application/json");if(r)try{n=_v(r,{})}catch(e){n=""}return n||(n=t.clipboardData.getData("text/plain")),n&&(ag(e.model,n,{smartFence:e.options.smartFence,mode:"math"}),Wm(e),t.preventDefault(),t.stopPropagation()),!0}(this,e),keystroke:(e,t)=>Wg(this,e,t),focus:()=>this.onFocus(),blur:()=>this.onBlur(),compositionStart:e=>this.onCompositionStart(e),compositionUpdate:e=>this.onCompositionUpdate(e),compositionEnd:e=>this.onCompositionEnd(e)}),window.PointerEvent?fm(this.field,"pointerdown",this):fm(this.field,"touchstart:active mousedown",this),fm(window,"resize",this),this.model=new hg({mode:this.options.defaultMode,macros:this.options.macros,removeExtraneousParentheses:this.options.removeExtraneousParentheses},{onContentDidChange:e=>this.options.onContentDidChange(this),onSelectionDidChange:e=>this._onSelectionDidChange(),onContentWillChange:()=>this.options.onContentWillChange(this),onSelectionWillChange:()=>this.options.onSelectionWillChange(this),onError:this.options.onError},{announce:(e,t,n,r)=>{var o,i;return null===(i=(o=this.options).onAnnounce)||void 0===i?void 0:i.call(o,this,t,n,r)},moveOut:(e,t)=>this.options.onMoveOutOf(this,t),tabOut:(e,t)=>this.options.onTabOutOf(this,t)},this),this.undoManager=new _g(this.model),ag(this.model,r,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",mode:"math",suppressChangeNotifications:!0,macros:this.options.macros}),this.undoManager.startRecording(),this.undoManager.snapshot(this.options),this.model.setListeners({onContentDidChange:e=>this.options.onContentDidChange(this),onSelectionDidChange:e=>this._onSelectionDidChange(),onContentWillChange:()=>this.options.onContentWillChange(this),onSelectionWillChange:()=>this.options.onSelectionWillChange(this),onError:this.options.onError}),this.model.setHooks({announce:(e,t,n,r)=>{var o,i;return null===(i=(o=this.options).onAnnounce)||void 0===i?void 0:i.call(o,this,t,n,r)},moveOut:(e,t)=>this.options.onMoveOutOf(this,t),tabOut:(e,t)=>this.options.onTabOutOf(this,t)}),this.options.locale.startsWith(im().locale)||om(this.options.locale),this.keybindings=pm(this.options.keybindings,e=>{"function"==typeof this.options.onError&&this.options.onError({code:"invalid-keybinding",arg:e.join("\n")}),console.log(e.join("\n"))}),Wm(this)}$setConfig(e){cv("$setConfig"),this.setOptions(e)}setOptions(e){this.options=jg(this.options,e),this.model.setListeners({onContentDidChange:e=>this.options.onContentDidChange(this),onSelectionDidChange:e=>this._onSelectionDidChange(),onContentWillChange:()=>this.options.onContentWillChange(this),onSelectionWillChange:()=>this.options.onSelectionWillChange(this),onError:this.options.onError}),this.model.setHooks({announce:(e,t,n,r)=>{var o,i;return null===(i=(o=this.options).onAnnounce)||void 0===i?void 0:i.call(o,this,t,n,r)},moveOut:(e,t)=>this.options.onMoveOutOf(this,t),tabOut:(e,t)=>this.options.onTabOutOf(this,t)}),this.options.locale.startsWith(im().locale)||om(this.options.locale),this.keybindings=pm(this.options.keybindings,e=>{"function"==typeof this.options.onError&&this.options.onError({code:"invalid-keybinding",arg:e.join("\n")}),console.log(e.join("\n"))}),this.options.readOnly||this.onBlur();const t=this.model.root.toLatex();ag(this.model,t,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",mode:"math",suppressChangeNotifications:!0,macros:this.options.macros}),Wm(this)}getConfig(e){return cv("$getConfig"),Bg(this.options,e)}getOptions(e){return Bg(this.options,e)}getOption(e){return Bg(this.options,e)}handleEvent(e){switch(e.type){case"focus":this.eventHandlingInProgress||(this.eventHandlingInProgress="focus",this.onFocus(),this.eventHandlingInProgress="");break;case"blur":this.eventHandlingInProgress||(this.eventHandlingInProgress="blur",this.onBlur(),this.eventHandlingInProgress="");break;case"touchstart":case"mousedown":case"pointerdown":Qg(this,e);break;case"resize":this.resizeTimer&&window.cancelAnimationFrame(this.resizeTimer),this.resizeTimer=window.requestAnimationFrame(()=>ym(this)&&this.onResize());break;default:console.warn("Unexpected event type",e.type)}}$revertToOriginalContent(){cv("$revertToOriginalContent"),this.dispose(),this.element.innerHTML=this.options.createHTML(this.originalContent)}dispose(){this.element.innerHTML="$$"+this.getValue()+"$$",delete this.element.mathfield,delete this.accessibleNode,delete this.ariaLiveText,delete this.field,delete this.keyboardDelegate,this.virtualKeyboardToggle.remove(),delete this.virtualKeyboardToggle,gm(this.popover),delete this.popover,gm(this.keystrokeCaption),delete this.keystrokeCaption,this.virtualKeyboard&&(this.virtualKeyboard.dispose(),delete this.virtualKeyboard),hm(this.element,"pointerdown",this),hm(this.element,"touchstart:active mousedown",this),hm(this.element,"focus",this),hm(this.element,"blur",this),hm(window,"resize",this),delete this.element,this.stylesheets.forEach(e=>e.release())}resetKeystrokeBuffer(e){(e=null!=e?e:{defer:!1}).defer?this.options.inlineShortcutTimeout&&(this.keystrokeBufferResetTimer=setTimeout(()=>{this.resetKeystrokeBuffer()},this.options.inlineShortcutTimeout)):(this.keystrokeBuffer="",this.keystrokeBufferStates=[],clearTimeout(this.keystrokeBufferResetTimer))}_onSelectionDidChange(){!function(e){const t=Lh(e);if(t){const n=e.siblings(),r=e.anchorOffset()+1;for(let e=t.start;e<r;e++)n[e]&&(n[e].isSuggestion=!1)}}(this.model);const e=Kh(this.model)?"":Pf("math",qh(this.model)).toLatex(!1);this.keyboardDelegate.setValue(e);{const e=this.mode;this.mode=Ah(this.model)||this.options.defaultMode,this.mode!==e&&"function"==typeof this.options.onModeChange&&this.options.onModeChange(this,this.mode),"command"===e&&"command"!==this.mode&&(Mm(this),Em(this.model))}xm(this,{deferred:!0}),"function"==typeof this.options.onSelectionDidChange&&this.options.onSelectionDidChange(this)}onFocus(){this.options.readOnly||this.blurred&&(this.blurred=!1,this.keyboardDelegate.focus(),"onfocus"===this.options.virtualKeyboardMode&&my(this),xm(this),this.options.onFocus&&this.options.onFocus(this),this.valueOnFocus=this.getValue(),Wm(this))}onBlur(){this.blurred||(this.blurred=!0,this.ariaLiveText.textContent="",/onfocus|manual/.test(this.options.virtualKeyboardMode)&&gy(this),Og(this,{discard:!0}),Wm(this),"function"==typeof this.options.onBlur&&this.options.onBlur(this),"function"==typeof this.options.onCommit&&this.getValue()!==this.valueOnFocus&&this.options.onCommit(this))}onCompositionStart(e){rg(this.model),requestAnimationFrame(()=>{Xm(this);const e=vm(this.field);e&&this.keyboardDelegate.moveTo(e.x,e.y)})}onCompositionUpdate(e){!function(e,t){const n=Mh(e);if("composition"===n.type)n.body=t;else{const r=n.caret;n.caret="";const o=new Df(n.mode,"composition",t);o.caret=r,e.siblings().splice(e.anchorOffset()+1,0,o),e.path[e.path.length-1].offset+=1}}(this.model,e),Wm(this)}onCompositionEnd(e){var t;"composition"===Mh(t=this.model).type&&(t.siblings().splice(t.anchorOffset(),1),t.path[t.path.length-1].offset-=1),Xg(this,e,{simulateKeystroke:!0})}onResize(){this.element.classList.remove("ML__isNarrowWidth","ML__isWideWidth","ML__isExtendedWidth"),window.innerWidth>=1024?this.element.classList.add("ML__isExtendedWidth"):window.innerWidth>=768?this.element.classList.add("ML__isWideWidth"):this.element.classList.add("ML__isNarrowWidth"),xm(this)}$perform(e){return cv("$perform"),this.executeCommand(e)}executeCommand(e){return function(e,t){var n;if(!t)return!1;let r,o=[],i=!1,a=!1;if(Id(t)?(r=t[0],o=t.slice(1)):r=t,r=r.replace(/-\w/g,e=>e[1].toUpperCase()),"model"===(null===(n=Gm[r])||void 0===n?void 0:n.target)){if(/^(delete|transpose|add)/.test(r)&&"deletePreviousChar"!==r&&e.resetKeystrokeBuffer(),/^(delete|transpose|add)/.test(r)&&"command"!==e.mode&&(e.popUndoStack(),e.snapshot()),Gm[r].fn(e.model,...o),/^(delete|transpose|add)/.test(r)&&"command"!==e.mode&&e.snapshot(),/^(delete)/.test(r)&&"command"===e.mode){const t=jp(Cm(e.model));0===t.length?Mm(e):km(e,t[0].match,t.length>1)}a=!0,i=!0}else{if(!Gm[r])throw Error('Unknown command "'+r+'"');a=Gm[r].fn(e,...o),i=!0}return Kh(e.model)&&!/^(transpose|paste|complete|((moveToNextChar|moveToPreviousChar|extend).*))_$/.test(r)||(e.resetKeystrokeBuffer(),e.style={}),a&&Wm(e),i}(this,e)}atomToString(e,t){let n="";if("latex"===(t=t||"latex")||"latex-expanded"===t)n=e.toLatex("latex-expanded"===t);else if("mathML"===t)n=Um(e,this.options);else if("spoken"===t)n=Dg(e,this.options);else if("spoken-text"===t){const t=this.options.textToSpeechMarkup;this.options.textToSpeechMarkup="",n=Dg(e,this.options),this.options.textToSpeechMarkup=t}else if("spoken-ssml"===t||"spoken-ssml-withHighlighting"===t){const t=this.options.textToSpeechMarkup;this.options.textToSpeechMarkup="ssml",n=Dg(e,this.options),this.options.textToSpeechMarkup=t}else if("json"===t){console.log("deprecated format. Use MathJSON");const t=nv(e);n=JSON.stringify(t)}else if("json-2"===t){console.log("deprecated format. Use MathJSON");const t=nv(e);n=JSON.stringify(t,null,2)}else"ASCIIMath"===t?n=Sg(e):console.warn("Unknown format :",t);return n}get lastPosition(){return this.model.lastPosition}get selection(){return this.model.selection}set selection(e){this.model.selection=e}$text(e){return this.atomToString(this.model.root,e)}getValue(e,t,n){if(void 0===e)return this.atomToString(this.model.root,"latex");let r,o;if("string"==typeof e)return r=e,this.atomToString(this.model.root,r);"number"!=typeof e||"number"!=typeof t&&void 0!==t?Array.isArray(e)?(o=e,r=t):(o=[e],r=t):(o=[{start:e,end:null!=t?t:-1}],r=null!=n?n:"latex");const i=new ug(this.model.root);return o.map(e=>{let t="";if(!(e=Jf(i,e)).collapsed){const n=i.at(e.start).depth;for(let o=e.start+1;o<=e.end;o++)i.at(o).depth===n&&(t+=this.atomToString(i.at(o).atom,r))}return t}).join("")}setValue(e,t){e!==this.getValue()&&(t=null!=t?t:{mode:"math"},ag(this.model,e,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",mode:"math",suppressChangeNotifications:t.suppressChangeNotifications,macros:this.options.macros}),this.undoManager.snapshot(this.options),Wm(this))}find(e){const t=[],n=new ug(this.model.root),r=n.lastPosition;for(let o=0;o<r;o++){const i=n.at(o).depth;for(let a=o;a<r;a++){let r="";for(let e=o+1;e<=a;e++)n.at(e).depth===i&&(r+=this.atomToString(n.at(e).atom,"latex"),console.log(`value(${o+1}, ${a}) = "${r}" = '${this.getValue(o,a)}'`));r===e&&t.push(Jf(n,{start:o,end:a}))}}return t}$selectedText(e){cv("$selectedText");const t=qh(this.model);return t?this.atomToString(Pf("math",t),e):""}$selectionIsCollapsed(){return cv("$selectionIsCollapsed"),Kh(this.model)}$selectionDepth(){return cv("$selectionDepth"),this.model.path.length}$selectionAtStart(){return cv("$selectionAtStart"),!1}$selectionAtEnd(){return cv("$selectionAtEnd"),!1}$latex(e,t){if(cv("$latex"),"string"==typeof e){return e!==this.model.root.toLatex()&&(t=null!=t?t:{mode:"math"},ag(this.model,e,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",mode:"math",suppressChangeNotifications:t.suppressChangeNotifications,macros:this.options.macros}),this.undoManager.snapshot(this.options),Wm(this)),e}return this.model.root.toLatex()}$el(){return cv("$el"),this.element}scrollIntoView(){var e;this.dirty&&Xm(this);let t=null===(e=vm(this.field))||void 0===e?void 0:e.x;const n=this.field.getBoundingClientRect();if(void 0===t){const e=bm(this.field);null!==e&&(t=e.right+n.left-this.field.scrollLeft)}if(void 0!==t){const e=t-window.scrollX;e<n.left?this.field.scroll({top:0,left:e-n.left+this.field.scrollLeft-20,behavior:"smooth"}):e>n.right&&this.field.scroll({top:0,left:e-n.right+this.field.scrollLeft+20,behavior:"smooth"})}}$insert(e,t){return cv("$insert"),this.insert(e,t)}insert(e,t){if("string"==typeof e&&e.length>0){if((t=null!=t?t:{mode:"math"}).focus&&this.focus(),t.feedback&&(this.options.keypressVibration&&(null===navigator||void 0===navigator?void 0:navigator.vibrate)&&navigator.vibrate(3),this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play())),"\\\\"===e)eg(this.model);else if("&"===e)tg(this.model);else{const n=this.style;ag(this.model,e,{mode:this.mode,style:Oh(this.model),...t}),t.resetStyle&&(this.style=n)}return this.undoManager.snapshot(this.options),Wm(this),!0}return!1}switchMode(e,t="",n=""){this.mode!==e&&(this.resetKeystrokeBuffer(),this.smartModeSuppressed=/text|math/.test(this.mode)&&/text|math/.test(e),t&&this.insert(t,{format:"latex",mode:{math:"text",text:"math"}[e]}),zm(this.model,!1),"command"===e?(Xf(this.model),Mm(this),this.suggestionIndex=0,this.virtualKeyboardVisible&&hy(this,"lower-command"),ag(this.model,"",{mode:"math"})):this.mode=e,n&&this.insert(n,{format:"latex",mode:e}),"function"==typeof this.options.onModeChange&&this.options.onModeChange(this,this.mode),Wm(this))}$hasFocus(){return cv("$hasFocus"),this.hasFocus()}hasFocus(){return document.hasFocus()&&this.keyboardDelegate.hasFocus()}focus(){this.hasFocus()||(this.keyboardDelegate.focus(),this.model.announce("line"))}blur(){this.hasFocus()&&this.keyboardDelegate.blur()}$focus(){return cv("$focus"),this.focus()}$blur(){return cv("$blur"),this.blur()}$select(){Bh(this.model)}select(){Bh(this.model)}$clearSelection(){cv("$clearSelection"),rg(this.model)}applyStyle(e){og(this.model,e)}$applyStyle(e){og(this.model,e)}$keystroke(e,t){return cv("$keystroke"),Wg(this,e,t)}$typedText(e){cv("$typedText"),Xg(this,e)}getCaretPoint(){const e=vm(this.field);return e?{x:e.x,y:e.y}:null}setCaretPoint(e,t){const n=this.model.clone(),r=ey(this,e,t,{bias:0}),o=Ch(this.model,r,0);return this.model.announce("move",n),Wm(this),o}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(){this.undoManager.snapshot({...this.options,onUndoStateDidChange:(e,t)=>{fy(this),this.options.onUndoStateDidChange(e,t)}})}snapshotAndCoalesce(){this.undoManager.snapshotAndCoalesce({...this.options,onUndoStateDidChange:(e,t)=>{fy(this),this.options.onUndoStateDidChange(e,t)}})}getUndoRecord(){return this.undoManager.save()}restoreToUndoRecord(e){this.undoManager.restore(e,{...this.options,suppressChangeNotifications:!0})}undo(){return this.undoManager.undo({...this.options,onUndoStateDidChange:(e,t)=>{fy(this),this.options.onUndoStateDidChange(e,t)}})}redo(){return this.undoManager.redo({...this.options,onUndoStateDidChange:(e,t)=>{fy(this),this.options.onUndoStateDidChange(e,t)}})}}function cv(e){console.warn(`Method "${e}" is deprecated`)}function uv(e,t,n){var r;if(!window)return;if(!n&&window.mathlive&&(n=window.mathlive.config),"amazon"!==n.speechEngine)return console.warn("Use Amazon TTS Engine for synchronized highlighting"),void(n.speakHook&&n.speakHook(t,n));if(!window.AWS)return void console.warn("AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");const o=new window.AWS.Polly({apiVersion:"2016-06-10"}),i={OutputFormat:"json",VoiceId:n.speechEngineVoice||"Joanna",Engine:"standard",Text:t,TextType:"ssml",SpeechMarkTypes:["ssml"]};window.mathlive=null!==(r=window.mathlive)&&void 0!==r?r:{},window.mathlive.readAloudElement=e;const a=n.onReadAloudStatus||window.mathlive.onReadAloudStatus;o.synthesizeSpeech(i,(e,n)=>{if(e)return void console.warn("polly.synthesizeSpeech() error:",e,e.stack);if(!n||!n.AudioStream)return void console.log("polly.synthesizeSpeech():"+n);const r=new TextDecoder("utf-8").decode(new Uint8Array(n.AudioStream));window.mathlive.readAloudMarks=r.split("\n").map(e=>e?JSON.parse(e):{}),window.mathlive.readAloudTokens=[];for(const e of window.mathlive.readAloudMarks)e.value&&window.mathlive.readAloudTokens.push(e.value);window.mathlive.readAloudCurrentMark="",i.OutputFormat="mp3",i.SpeechMarkTypes=[],o.synthesizeSpeech(i,(function(e,n){if(e)return void console.warn("polly.synthesizeSpeech(",t,") error:",e,e.stack);if(!n||!n.AudioStream)return;const r=new Uint8Array(n.AudioStream),o=new Blob([r.buffer],{type:"audio/mpeg"}),i=URL.createObjectURL(o);window.mathlive.readAloudAudio?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudAudio=new Audio,window.mathlive.readAloudAudio.addEventListener("ended",()=>{const e=window.mathlive.readAloudMathField;a&&a(e,"ended"),e?(Xm(e),window.mathlive.readAloudElement=null,window.mathlive.readAloudMathField=null,window.mathlive.readAloudTokens=[],window.mathlive.readAloudMarks=[],window.mathlive.readAloudCurrentMark=""):function e(t){if(t.classList.remove("ML__highlight"),t.children)for(const n of t.children)e(n)}(window.mathlive.readAloudElement)}),window.mathlive.readAloudAudio.addEventListener("timeupdate",()=>{let e="";const t=1e3*window.mathlive.readAloudAudio.currentTime+100;for(const n of window.mathlive.readAloudMarks)n.time<t&&(e=n.value);window.mathlive.readAloudCurrentMark!==e&&(window.mathlive.readAloudCurrentToken=e,e&&e===window.mathlive.readAloudFinalToken?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudCurrentMark=e,function e(t,n){var r;n&&(null===(r=t.dataset)||void 0===r?void 0:r.atomId)!==n?(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&Array.from(t.children).forEach(t=>{e(t,n)})):(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&Array.from(t.children).forEach(t=>{e(t)}))}(window.mathlive.readAloudElement,window.mathlive.readAloudCurrentMark)))})),window.mathlive.readAloudAudio.src=i,a&&a(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play()}))})}function dv(e,t,n=3e3,r="$0"){t.forEach(t=>{bp[t]&&(bp[t].frequency=n,bp[t].category=e,bp[t].template=r.replace(/\$0/g,t)),_p[t]&&(_p[t]={..._p[t],frequency:n,category:e,template:r.replace(/\$0/g,t)})})}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function pv(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function fv(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var hv;dv("Trigonometry",["\\cos","\\sin","\\tan"],4e3),dv("Trigonometry",["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\lg","\\lb","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th"],2e3),dv("Functions",["\\ln","\\log","\\exp","\\lim"],4e3),dv("Functions",["\\dim","\\ker","\\deg","\\det","\\mod","\\min","\\max"],3e3),dv("Functions",["\\hom"],1200),dv("Decoration",["\\rule"],200,"$0{2em}{1em}"),dv("Decoration",["\\color","\\textcolor"],200,"{$0{m0}A}{$0{m1}B}{$0{m2}C }{$0{m3}a}{$0{m4}b}{$0{m5}c}{$0{m6}8}"),dv("Decoration",["\\overline","\\underline"],3e3,"$0{\\placeholder{}}"),dv("Decoration",["\\enclose"],1200,'\\enclose{updiagonalstrike,roundedbox}[1px solid red, mathbackground="#fbc0bd"]{x=0}'),dv("Decoration",["\\fcolorbox"],1200,'\\fcolorbox{#cd0030}{#ffd400}{\\unicode{"2B1A}}'),dv("Decoration",["\\colorbox"],1200,'\\colorbox{#fbc0bd}{\\unicode{"2B1A}}'),dv("Decoration",["\\boxed","\\cancel","\\bcancel","\\xcancel"],1200,"$0{\\placeholder{}}"),dv("Decoration",["\\bbox"],1200,'\\bbox[#ffd400, solid 2px #ffd400]{\\unicode{"2B1A}}'),dv("Styling",["\\mathbb"],4e3,"$0{Don Knuth}"),dv("Styling",["\\textbf","\\textup","\\textit","\\textrm","\\textsf","\\texttt","\\textnormal","\\textmd","\\textsl","\\textsc","\\mathsf","\\mathtt","\\mathrm","\\mathfrak","\\mathcal","\\mathscr","\\mathbf","\\mathmd","\\mathit","\\text","\\mbox","\\Bbb","\\bold","\\bm","\\boldsymbol"],3e3,"$0{Don Knuth}"),dv("Styling",["\\frak","\\tt","\\bf","\\it","\\rmfamily","\\sffamily","\\ttfamily","\\class","\\cssId"],1200,"{$0 Don Knuth}"),dv("Styling",["\\bfseries","\\mdseries","\\upshape","\\slshape","\\scshape"],1200,"\\text{$0 Don Knuth}"),dv("Styling",["\\class","\\cssId"],1200,"$0{testIdentifier}{Don Knuth}"),dv("Styling",["\\fontseries"],1200,"\\text{$0{b}Don Knuth}"),dv("Styling",["\\fontfamily"],1200,"\\text{$0{cmtt}Don Knuth}"),dv("Styling",["\\fontshape"],1200,"\\text{$0{sc}Don Knuth}"),dv("Styling",["\\selectfont"],1200,"\\text{$0}"),dv("Styling",["\\emph"],1200,"Don$0{Knuth}"),dv("Styling",["\\em"],1200,"Don{$0 Knuth}"),dv("Layout",["\\mathop","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathord","\\mathinner","\\operatorname","\\operatorname*"],1200,"x=$0{arg}=0"),dv("Layout",["\\middle"],1200,"\\left\\{x$0|x>0\\right\\}"),dv("Layout",["\\overset","\\underset","\\stackrel","\\stackbin"],1200,"$0{arg}{x=0}"),dv("Layout",["\\rlap","\\mathrlap"],1200,"$0{/}0"),dv("Layout",["\\llap","\\mathllap"],1200,"o$0{/}"),dv("Fractions",["\\frac"],4e3,"$0{\\placeholder{}}{\\placeholder{}}"),dv("Fractions",["\\binom","\\dfrac","\\tfrac","\\dbinom","\\tbinom","\\pdiff","\\cfrac"],1200,"$0{\\placeholder{}}{\\placeholder{}}"),dv("Fractions",["\\over","\\atop","\\choose"],1200,'\\unicode{"2B1A} $0 \\unicode{"2B1A}'),dv("Fractions",["\\overwithdelims","\\atopwithdelims"],1200,'{\\unicode{"2B1A} $0{\\lbrace}{\\rbrace} \\unicode{"2B1A}}'),dv("Extensible Operators",["\\sum","\\prod","\\bigcap","\\bigcup","\\int"],4e3),dv("Extensible Operators",["\\bigoplus","\\smallint","\\iint","\\oint"],3e3),dv("Extensible Operators",["\\bigwedge","\\bigvee","\\coprod","\\bigsqcup","\\bigotimes","\\bigodot","\\biguplus","\\intop","\\sqcup","\\sqcap","\\uplus","\\wr","\\Cap","\\Cup","\\doublecap","\\doublecup","\\amalg","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"],1200),dv("Accents",["\\vec"],4e3),dv("Accents",["\\bar","\\ddot","\\acute","\\tilde","\\check"],3e3,"$0{\\placeholder{}}"),dv("Accents",["\\^","\\`","\\'"],1200,"$0{e}"),dv("Accents",["\\c"],1200,"$0{c}"),dv("Accents",["\\~"],1200,"$0{n}"),dv("Accents",["\\mathring","\\hat","\\dot","\\breve","\\grave"],1200,"$0{\\placeholder{}}"),dv("Extensible Symbols",["\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftharpoon","\\overrightharpoon","\\overleftrightarrow","\\overbrace","\\overlinesegment","\\overgroup","\\widehat","\\widecheck","\\widetilde"],3e3,"$0{ABC}"),dv("Extensible Symbols",["\\underrightarrow","\\underleftarrow","\\underleftrightarrow","\\underbrace","\\underlinesegment","\\undergroup","\\utilde"],3e3,"$0{ABC}"),dv("Sizing",["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],1200,"$0{x=0}"),dv("Sizing",["\\big","\\Big","\\bigg","\\Bigg"],1200,"$0($0)"),dv("Sizing",["\\bigl","\\Bigl","\\biggl","\\Biggl"],1200,"$0("),dv("Sizing",["\\bigr","\\Bigr","\\biggr","\\Biggr"],1200,"$0)"),dv("Sizing",["\\bigm","\\Bigm","\\biggm","\\Biggm"],1200,"$0|"),dv("Letterlike Symbols",["\\nabla","\\partial","\\doubleStruckCapitalN","\\N","\\doubleStruckCapitalR","\\R","\\doubleStruckCapitalQ","\\Q","\\doubleStruckCapitalC","\\C","\\doubleStruckCapitalZ","\\Z","\\exponentialE","\\forall","\\exists","\\nexists","\\$","\\%","\\And","\\degree"],4e3),dv("Letterlike Symbols",["\\doubleStruckCapitalP","\\P","\\ell","\\hbar","\\hslash","\\imath","\\jmath","\\imaginaryI","\\imaginaryJ","\\differentialD","\\rd","\\capitalDifferentialD","\\rD","\\differencedelta","\\mid","@","\\Re","\\Im"],3e3),dv("Letterlike Symbols",["\\top","\\bot","\\scriptCapitalE","\\scriptCapitalH","\\scriptCapitalL","\\gothicCapitalC","\\gothicCapitalH","\\gothicCapitalI","\\gothicCapitalR","\\Bbbk","\\Finv","\\Game","\\wp","\\eth","\\mho","\\pounds","\\yen","\\euro"],1200),dv("Crosses",["\\dagger","\\dag"],4e3),dv("Crosses",["\\ddag","\\ddagger","\\maltese","\\textdagger","\\textdaggerdbl"],1200),dv("Various",["\\checkmark","\\diagup","\\diagdown","\\angle","\\measuredangle","\\sphericalangle","\\prime","\\doubleprime","\\backprime","\\backdoubleprime","\\sharp","\\flat","\\natural","\\&","\\#","\\clubsuit","\\spadesuit","\\diamondsuit","\\heartsuit","\\backslash","\\infty","/","\\_","\\/","|","'"],1200),dv("Various",["\\unicode"],1200,'$0{"2B1A}'),dv("Arrows",["\\longrightarrow","\\rightarrow","\\Longrightarrow","\\Rightarrow"],4e3),dv("Arrows",["\\longmapsto","\\mapsto","\\Longleftrightarrow","\\rightleftarrows","\\leftarrow","\\curvearrowleft","\\uparrow","\\downarrow","\\hookrightarrow","\\rightharpoonup","\\rightleftharpoons"],3e3),dv("Arrows",["\\Leftarrow","\\longleftrightarrow","\\longleftarrow","\\Longleftarrow","\\searrow","\\nearrow","\\swarrow","\\nwarrow","\\Uparrow","\\Downarrow","\\updownarrow","\\Updownarrow","\\hookleftarrow","\\leftharpoonup","\\leftharpoondown","\\rightharpoondown","\\leftrightarrows","\\dashrightarrow","\\dashleftarrow","\\leftleftarrows","\\Lleftarrow","\\twoheadleftarrow","\\leftarrowtail","\\looparrowleft","\\leftrightharpoons","\\circlearrowleft","\\Lsh","\\upuparrows","\\downharpoonleft","\\multimap","\\leftrightsquigarrow","\\twoheadrightarrow","\\rightarrowtail","\\looparrowright","\\curvearrowright","\\circlearrowright","\\Rsh","\\downdownarrows","\\upharpoonright","\\downharpoonright","\\rightsquigarrow","\\leadsto","\\Rrightarrow","\\restriction"],1200),dv("Arrows",["\\upharpoonleft","\\rightrightarrows"],0),dv("Negated Arrows",["\\nrightarrow","\\nRightarrow","\\nleftrightarrow","\\nLeftrightarrow","\\nleftarrow","\\nLeftarrow"],1200),dv("Extensible Symbols",["\\xrightarrow","\\xleftarrow","\\xRightarrow","\\xLeftarrow","\\xleftharpoonup","\\xleftharpoondown","\\xrightharpoonup","\\xrightharpoondown","\\xlongequal","\\xtwoheadleftarrow","\\xtwoheadrightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xrightleftharpoons","\\xleftrightharpoons","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],1200,"$0[below]{above}=0"),dv("Negated Relations",["\\nless","\\nleqslant","\\lneq","\\lneqq","\\nleqq","\\unlhd","\\unrhd","\\lvertneqq","\\lnsim","\\lnapprox","\\nprec","\\npreceq","\\precnsim","\\precnapprox","\\nsim","\\nshortmid","\\nmid","\\nvdash","\\nvDash","\\ngtr","\\ngeqslant","\\ngeqq","\\gneq","\\gneqq","\\gvertneqq","\\gnsim","\\nsucc","\\succnsim","\\ncong","\\nshortparallel","\\nparallel","\\nVDash","\\nVdash","\\precneqq","\\succneqq","\\gnapprox","\\succnapprox","\\nsucceq"],1200),dv("Hebrew",["\\aleph","\\beth","\\daleth","\\gimel"],1200),dv("Fences",["\\lbrace","\\rbrace","\\vert","\\Vert","\\{","\\}","(",")","[","]"],4e3),dv("Fences",["\\langle","\\rangle","\\lfloor","\\rfloor","\\lceil","\\rceil","\\mvert","\\|","\\mVert"],3e3),dv("Fences",["\\lvert","\\rvert","\\lVert","\\rVert","\\lbrack","\\rbrack","\\ulcorner","\\urcorner","\\llcorner","\\lrcorner","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],1200),dv("Relations",["=","\\ne","\\neq","<",">","\\leqslant","\\geqslant","\\approx"],4e3),dv("Relations",["\\lt","\\gt","\\le","\\ge","\\leq","\\geq","\\gg","\\cong","\\equiv","\\prec","\\preceq","\\succ","\\perp","\\parallel","\\propto","\\smile","\\frown","\\sim","\\gtrsim"],3e3),dv("Relations",["\\coloneq","\\succeq","\\approxeq","\\thickapprox","\\lessapprox","\\gtrapprox","\\precapprox","\\succapprox","\\thicksim","\\succsim","\\precsim","\\backsim","\\eqsim","\\backsimeq","\\simeq","\\lesssim","\\nleq","\\ngeq","\\smallsmile","\\smallfrown","\\bowtie","\\asymp","\\leqq","\\eqslantless","\\ll","\\lll","\\lessgtr","\\lesseqgtr","\\lesseqqgtr","\\risingdotseq","\\fallingdotseq","\\preccurlyeq","\\curlyeqprec","\\vDash","\\Vvdash","\\bumpeq","\\Bumpeq","\\geqq","\\eqslantgtr","\\ggg","\\gtrless","\\gtreqless","\\gtreqqless","\\succcurlyeq","\\curlyeqsucc","\\Vdash","\\shortmid","\\shortparallel","\\between","\\pitchfork","\\varpropto","\\backepsilon","\\llless","\\gggtr","\\lhd","\\rhd","\\Join","\\doteq","\\doteqdot","\\Doteq","\\eqcirc","\\circeq","\\lessdot","\\gtrdot","\\measeq","\\eqdef","\\questeq"],1200),dv("Logic",["\\leftrightarrow","\\Leftrightarrow","\\to"],4e3),dv("Logic",["\\models","\\vdash"],3e3),dv("Logic",["\\therefore","\\because","\\implies","\\gets","\\dashv","\\impliedby","\\biconditional","\\roundimplies"],1200),dv("Operators",["+","-","*","\\cdot"],4e3),dv("Operators",["\\sqrt"],4e3,"$0{\\placeholder{}}"),dv("Operators",["\\pm","\\mp","\\times","\\div","\\surd"],3e3),dv("Operators",["\\ltimes","\\rtimes","\\leftthreetimes","\\rightthreetimes","\\intercal","\\dotplus","\\centerdot","\\doublebarwedge","\\divideontimes","\\divides"],1200),dv("Logic",["\\wedge","\\vee","\\neg"],4e3),dv("Logic",["\\lnot"],3e3),dv("Logic",["\\land","\\lor","\\barwedge","\\veebar","\\nor","\\curlywedge","\\curlyvee"],1200),dv("Greek",["\\alpha","\\beta","\\gamma","\\delta","\\epsilon","\\varepsilon","\\zeta","\\eta","\\theta","\\vartheta","\\iota","\\kappa","\\varkappa","\\lambda","\\mu","\\nu","\\xi","\\pi","\\varpi","\\rho","\\varrho","\\sigma","\\varsigma","\\tau","\\phi","\\varphi","\\upsilon","\\chi","\\psi","\\omega","\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega","\\digamma","\\omicron"],3e3),dv("Sets",["\\emptyset","\\varnothing","\\cap","\\cup","\\in","\\notin","\\subset","\\supset","\\subseteq","\\supseteq","\\sqsubseteq"],4e3),dv("Sets",["\\setminus","\\not","\\ni","\\sqsupseteq","\\nsupseteqq","\\supsetneq","\\varsupsetneq","\\supsetneqq","\\varsupsetneqq"],3e3),dv("Sets",["\\smallsetminus","\\complement","\\owns","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\varsubsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq","\\nsubseteqq","\\subseteqq","\\Subset","\\sqsubset","\\supseteqq","\\Supset","\\sqsupset"],1200),dv("Spacing",["\\space, \\quad","\\qquad"],3e3,'\\unicode{"203A}$0\\unicode{"2039}'),dv("Spacing",["\\!","\\,","\\:","\\;","\\enskip","\\enspace"],1200,'\\unicode{"203A}$0\\unicode{"2039}'),dv("Spacing",["\\hspace","\\hspace*"],1200,'\\unicode{"203A}$0{1em}\\unicode{"2039}'),dv("Punctuation",["\\colon","\\cdotp","\\ldots","\\cdots","\\ddots","\\vdots","?","!",":",'"',",",".",";"],3e3),dv("Punctuation",["\\mathellipsis","\\ldotp","\\Colon"],1200),dv("Boxes",["\\square","\\Box"],3e3),dv("Boxes",["\\blacksquare","\\boxminus","\\boxplus","\\boxtimes","\\boxdot"],1200),dv("Circles",["\\circ","\\bullet","\\circleddash","\\oplus","\\otimes"],3e3),dv("Circles",["\\bigcirc","\\circledast","\\ominus","\\circledcirc","\\oslash","\\circledS","\\circledR","\\odot"],1200),dv("Triangles",["\\triangle","\\triangleq"],3e3),dv("Triangles",["\\bigtriangleup","\\vartriangle","\\triangledown","\\bigtriangledown","\\triangleleft","\\vartriangleleft","\\trianglelefteq","\\ntriangleleft","\\ntrianglelefteq","\\triangleright","\\vartriangleright","\\trianglerighteq","\\ntriangleright","\\ntrianglerighteq","\\blacktriangle","\\blacktriangledown","\\blacktriangleleft","\\blacktriangleright"],1200),dv("Shapes",["\\ast","\\star"],3e3),dv("Shapes",["\\diamond","\\Diamond","\\lozenge","\\blacklozenge","\\bigstar"],1200);const mv=document.createElement("template");mv.innerHTML='<style>\n:host {\n    display: block;\n}\n:host([hidden]) {\n    display: none;\n}\n:host([disabled]) {\n    opacity:  .5;\n}\n:host(:focus), :host(:focus-within) {\n    outline: Highlight auto 1px;    /* For Firefox */\n    outline: -webkit-focus-ring-color auto 1px;\n}\n</style>\n<div></div><slot style="display:none"></slot>';const gv=new WeakMap;class yv extends HTMLElement{constructor(e){var t;super(),hv.set(this,void 0),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(mv.content.cloneNode(!0));const n=this.shadowRoot.querySelector("slot:not([name])");this.shadowRoot.host.addEventListener("focus",e=>this.focus());try{const e=n.assignedElements().filter(e=>"application/json"!==e.type).map(e=>e.textContent).join("");e&&this.setOptions(JSON.parse(e))}catch(e){console.log(e)}e&&this.setOptions(e),this.hasAttribute("value")?this.value=this.getAttribute("value"):this.value=null!==(t=null==n?void 0:n.assignedNodes().map(e=>3===e.nodeType?e.textContent:"").join("").trim())&&void 0!==t?t:"",n.addEventListener("slotchange",e=>{if(e.target!==n)return;const t=n.assignedNodes().map(e=>3===e.nodeType?e.textContent:"").join("").trim();pv(this,hv)?pv(this,hv).setValue(t,{insertionMode:"replaceAll"}):this.value=t})}static get optionsAttributes(){return{"default-mode":"string","fonts-directory":"string","horizontal-spacing-scale":"number","ignore-spacebar-in-math-mode":"boolean","inline-shortcut-timeout":"number","keypress-vibration":"boolean","letter-shape-style":"string",locale:"string","read-only":"boolean","remove-extraneous-parentheses":"boolean","smart-fence":"boolean","smart-mode":"boolean","smart-superscript":"boolean","speech-engine":"string","speech-engine-rate":"string","speech-engine-voice":"string","text-to-speech-markup":"string","text-to-speech-rules":"string","virtual-keyboard-layout":"string","virtual-keyboard-mode":"string","virtual-keyboard-theme":"string","virtual-keyboards":"string"}}static get observedAttributes(){return[...Object.keys(yv.optionsAttributes),"disabled"]}get mode(){var e;return null===(e=pv(this,hv))||void 0===e?void 0:e.mode}set mode(e){pv(this,hv)&&(pv(this,hv).mode=e)}getOptions(e){return pv(this,hv)?Bg(pv(this,hv).options,e):gv.has(this)?Bg(jg(Kg(),gv.get(this).options),e):null}getOption(e){return this.getOptions([e])}setOptions(e){pv(this,hv)?pv(this,hv).setOptions(e):gv.has(this)?gv.set(this,{value:gv.get(this).value,selection:[{start:0,end:-1}],options:{...gv.get(this).options,...e}}):gv.set(this,{value:"",selection:[{start:0}],options:e}),function(e){const t=Kg(),n=e.getOptions();Object.keys(yv.optionsAttributes).forEach(r=>{const o=vv(r);t[o]!==n[o]&&("boolean"===yv.optionsAttributes[r]?n[o]?e.setAttribute(r,""):e.removeAttribute(r):e.setAttribute(r,n[o].toString()))})}(this)}executeCommand(e){var t,n;return null!==(n=null===(t=pv(this,hv))||void 0===t?void 0:t.executeCommand(e))&&void 0!==n&&n}getValue(e,t,n){var r,o;let i,a;if(void 0===e?(a="latex",i=[{start:0,end:-1}]):"string"==typeof e?(a=e,i=[{start:0,end:-1}]):"number"==typeof e&&"number"==typeof t?(i=[{start:e,end:null!=t?t:-1}],a=null!=n?n:"latex"):Array.isArray(e)?(i=e,a=null!==(r=t)&&void 0!==r?r:"latex"):(i=[e],a=null!==(o=t)&&void 0!==o?o:"latex"),pv(this,hv))return pv(this,hv).getValue(i,a);if(gv.has(this)){const e=1===i.length&&0===i[0].start&&-1===i[0].end;if("latex"===a&&e)return gv.get(this).value}}setValue(e,t){pv(this,hv)?pv(this,hv).setValue(e,t):gv.has(this)?gv.set(this,{value:e,selection:[{start:0,end:-1,direction:"forward"}],options:gv.get(this).options}):gv.set(this,{value:e,selection:[{start:0,end:-1,direction:"forward"}],options:bv(this)})}hasFocus(){var e,t;return null!==(t=null===(e=pv(this,hv))||void 0===e?void 0:e.hasFocus())&&void 0!==t&&t}focus(){var e;null===(e=pv(this,hv))||void 0===e||e.focus()}blur(){var e;null===(e=pv(this,hv))||void 0===e||e.blur()}select(){var e;null===(e=pv(this,hv))||void 0===e||e.select()}insert(e,t){var n,r;return null!==(r=null===(n=pv(this,hv))||void 0===n?void 0:n.insert(e,t))&&void 0!==r&&r}applyStyle(e){var t;return null===(t=pv(this,hv))||void 0===t?void 0:t.applyStyle(e)}get caretPoint(){var e,t;return null!==(t=null===(e=pv(this,hv))||void 0===e?void 0:e.getCaretPoint())&&void 0!==t?t:null}set caretPoint(e){var t;null===(t=pv(this,hv))||void 0===t||t.setCaretPoint(e.x,e.y)}setCaretPoint(e,t){var n,r;return null!==(r=null===(n=pv(this,hv))||void 0===n?void 0:n.setCaretPoint(e,t))&&void 0!==r&&r}find(e){var t,n;return null!==(n=null===(t=pv(this,hv))||void 0===t?void 0:t.find(e))&&void 0!==n?n:[]}connectedCallback(){if(this.hasAttribute("role")||this.setAttribute("role","textbox"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),fv(this,hv,new lv(this.shadowRoot.querySelector(":host > div"),{...bv(this),...gv.has(this)?gv.get(this).options:{},onBlur:()=>{this.dispatchEvent(new Event("blur",{cancelable:!1,bubbles:!1}))},onContentDidChange:()=>{this.dispatchEvent(new Event("input",{cancelable:!1,bubbles:!0}))},onError:e=>{this.dispatchEvent(new CustomEvent("math-error",{detail:{code:e.code,arg:e.arg,latex:e.latex,before:e.before,after:e.after},cancelable:!1,bubbles:!0}))},onFocus:()=>{this.dispatchEvent(new Event("focus",{cancelable:!1,bubbles:!1}))},onKeystroke:(e,t,n)=>this.dispatchEvent(new CustomEvent("keystroke",{detail:{keystroke:t,event:n},cancelable:!0,bubbles:!0})),onModeChange:(e,t)=>{this.dispatchEvent(new Event("mode-change",{cancelable:!1,bubbles:!0}))},onCommit:e=>{this.dispatchEvent(new Event("change",{cancelable:!1,bubbles:!0}))},onMoveOutOf:(e,t)=>this.dispatchEvent(new CustomEvent("focus-out",{detail:{direction:t},cancelable:!0,bubbles:!0})),onTabOutOf:(e,t)=>this.dispatchEvent(new CustomEvent("focus-out",{detail:{direction:t},cancelable:!0,bubbles:!0})),onReadAloudStatus:()=>{this.dispatchEvent(new Event("read-aloud-status-change",{cancelable:!1,bubbles:!0}))},onSelectionDidChange:()=>{this.dispatchEvent(new Event("selection-change",{cancelable:!1,bubbles:!0}))},onUndoStateDidChange:()=>{this.dispatchEvent(new Event("undo-state-change",{cancelable:!1,bubbles:!0}))},onVirtualKeyboardToggle:(e,t,n)=>{this.dispatchEvent(new Event("virtual-keyboard-toggle",{bubbles:!0,cancelable:!1}))}})),gv.has(this)){const e=pv(this,hv).model.suppressChangeNotifications;pv(this,hv).model.suppressChangeNotifications=!0,pv(this,hv).setValue(gv.get(this).value),pv(this,hv).selection=gv.get(this).selection,gv.delete(this),pv(this,hv).model.suppressChangeNotifications=e}this.upgradeProperty("disabled"),this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0}))}disconnectedCallback(){if(this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0})),!pv(this,hv))return;const e={};Object.keys(yv.optionsAttributes).forEach(t=>{e[vv(t)]=pv(this,hv).getOption(vv(t))}),gv.set(this,{value:pv(this,hv).getValue(),selection:pv(this,hv).selection,options:e}),pv(this,hv).dispose(),fv(this,hv,null)}upgradeProperty(e){if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this[e]=t}}attributeChangedCallback(e,t,n){if(t===n)return;const r=null!==n;switch(e){case"disabled":this.disabled=r}}set disabled(e){const t=Boolean(e);t?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.setAttribute("aria-disabled",t?"true":"false"),this.setOptions({readOnly:t})}get disabled(){return this.hasAttribute("disabled")}set value(e){this.setValue(e)}get value(){return this.getValue()}get selection(){return pv(this,hv)?pv(this,hv).selection:gv.has(this)?gv.get(this).selection:[{start:0,direction:"forward"}]}set selection(e){pv(this,hv)&&(pv(this,hv).selection=e),gv.has(this)?gv.set(this,{value:gv.get(this).value,selection:e,options:gv.get(this).options}):gv.set(this,{value:"",selection:e,options:bv(this)})}get position(){var e;const t=this.selection;return"backward"===t[t.length-1].direction?t[t.length-1].start:null!==(e=t[0].end)&&void 0!==e?e:t[0].start}set position(e){this.selection=[{start:e}]}get lastPosition(){var e,t;return null!==(t=null===(e=pv(this,hv))||void 0===e?void 0:e.lastPosition)&&void 0!==t?t:-1}}function vv(e){return e.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(e,t)=>t.toUpperCase())}function bv(e){const t={},n=yv.optionsAttributes;return Object.keys(n).forEach(r=>{if(e.hasAttribute(r)){const o=e.getAttribute(r);if("boolean"===n[r]){const e=o.toLowerCase();t[vv(r)]="true"===e||"yes"===e||"on"===e}else"number"===n[r]?t[vv(r)]=parseFloat(o):t[vv(r)]=o}}),t}function wv(e,t={}){var n,r;return t.speakHook=null!==(n=t.speakHook)&&void 0!==n?n:$g,t.readAloudHook=null!==(r=t.readAloudHook)&&void 0!==r?r:uv,new lv(kv(e),t)}function _v(e,t){return sv("string"==typeof e?JSON.parse(e):e,t)}function kv(e){if("string"==typeof e){const t=document.getElementById(e);if(null===t)throw Error(`The element with ID "${e}" could not be found.`);return t}return e}hv=new WeakMap,window.customElements.get("math-field")||(window.MathfieldElement=yv,window.customElements.define("math-field",yv));var xv=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sv=function(){return(Sv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Mv(e){var t=Sv({},e.mathfieldConfig),n=e.onChange;if(n)if(e.mathfieldConfig&&e.mathfieldConfig.onContentDidChange){var r=e.mathfieldConfig.onContentDidChange;t.onContentDidChange=function(e){n(e.getValue()),r(e)}}else t.onContentDidChange=function(e){return n(e.getValue())};return t}var Cv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.insertElement=null,t.combinedConfiguration=Mv(t.props),t}return xv(t,e),t.prototype.componentDidUpdate=function(e){if(!this.mathfield)throw new Error("Component was not correctly initialized.");if(void 0!==e.latex){if(void 0===this.props.latex)throw new Error("Cannot change from controlled to uncontrolled state!");this.props.latex!==e.latex&&(""===this.props.latex?this.mathfield.$perform("deleteAll"):this.mathfield.setValue(this.props.latex,{suppressChangeNotifications:!0}))}},t.prototype.render=function(){var e=this;return i.createElement("div",{className:this.props.className,ref:function(t){return e.insertElement=t}})},t.prototype.componentDidMount=function(){var e;if(!this.insertElement)throw new Error("React did apparently not mount the insert point correctly.");var t=null!==(e=this.props.initialLatex)&&void 0!==e?e:this.props.latex;this.mathfield=wv(this.insertElement,this.combinedConfiguration),this.mathfield.setValue(t,{suppressChangeNotifications:!0}),this.props.mathfieldRef&&this.props.mathfieldRef(this.mathfield)},t}(i.Component),zv=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ov=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputRef=i.createRef(),t.state={initialValue:t.props.initialValue,value:t.props.initialValue||""},t._id=b(),t._unmounted=!1,t._onLatexChange=function(e){var n=e.target.value;t._onChange(n)},t._onChange=function(e){t.setState({value:e})},t._cancel=function(){t.props.close()},t._insert=function(){t.props.close(t.state.value)},t}return zv(t,e),t.prototype.componentDidMount=function(){this.inputRef.current.focus()},t.prototype.render=function(){var e=this.state,t=e.initialValue,n=e.value,r=t?"Update":"Insert";return i.createElement("div",{className:w("math-editor")},i.createElement("form",{className:w("form"),onSubmit:er},i.createElement("fieldset",null,i.createElement("legend",null,r," Latex"),i.createElement(Cv,{latex:n,onChange:this._onChange}),"Latex: ",i.createElement("input",{onChange:this._onLatexChange,ref:this.inputRef,type:"text",value:n})),i.createElement("div",{className:w("form-buttons")},i.createElement(Nr,{label:"Cancel",onClick:this._cancel}),i.createElement(Nr,{active:!0,disabled:!this.state.value,label:r,onClick:this._insert}))))},t}(i.Component),Ev=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lv=function(){return(Lv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Av={NONE:{value:null,text:"Inline"},CENTER:{value:"center",text:"Break text"}},Tv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editorRef=i.createRef(),t._popUp=null,t._onClick=function(e){var n=t.props.value||{};t.props.onSelect(Lv(Lv({},n),{align:e}))},t._editLatex=function(e){if(!t._popUp){var n=t.props,r=n.editorView,o=n.value,i={runtime:r?r.runtime:null,initialValue:o&&o.math||""};t._popUp=Cr(Ov,i,{autoDismiss:!1,modal:!0,container:dd(t.editorRef.current),onClose:function(e){if(t._popUp){if(t._popUp=null,void 0!==e){var n=t.props.value||{};t.props.onSelect(Lv(Lv({},n),{math:e}))}t.props.onEditEnd()}}}),t.props.onEditStart()}},t}return Ev(t,e),t.prototype.componentWillUnmount=function(){this._popUp&&this._popUp.close()},t.prototype.render=function(){var e=this.props.value||{},t=e.align,n=e.math,r=this._onClick,o=Object.keys(Av).map((function(e){var n=Av[e],o=n.value,a=n.text;return i.createElement(Nr,{active:t===o,key:e,label:a,onClick:r,value:o})}));return i.createElement("div",{className:w("inline-editor"),ref:this.editorRef},o,i.createElement(Nr,{key:"edit",label:"Edit Latex",onClick:this._editLatex,value:n||""}))},t}(i.Component),Nv=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dv=function(){return(Dv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Pv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isInlineEditing:!1,isPopupShowing:!1},t._inlineEditor=null,t._id=b(),t._mounted=!1,t._onMathChange=function(e){t._onChange({math:e})},t._onPopupEditStart=function(){t.setState({isPopupShowing:!0})},t._onPopupEditEnd=function(){t.setState({isPopupShowing:!1})},t._onEditStart=function(e){t.setState({isInlineEditing:!0})},t._onEditEnd=function(e){t.setState({isInlineEditing:!1})},t._onChange=function(e){if(t._mounted){var n=e?e.align:t.props.node.attrs.align,r=e?e.math:null,o=t.props,i=o.getPos,a=o.node,s=o.editorView,l=i(),c=Dv(Dv({},a.attrs),{math:r,align:n}),u=s.state.tr,d=s.state.selection;u=u.setNodeMarkup(l,null,c);var p=_.NodeSelection.create(u.doc,d.from);u=u.setSelection(p),s.dispatch(u)}},t}return Nv(t,e),t.prototype.componentDidMount=function(){this._mounted=!0,this._renderInlineEditor()},t.prototype.componentDidUpdate=function(e){this._renderInlineEditor()},t.prototype.componentWillUnmount=function(){this._mounted=!1},t.prototype.render=function(){var e={defaultMode:"math",virtualKeyboardMode:"onfocus",onFocus:this._onEditStart,onBlur:this._onEditEnd},t=this.state,n=t.isInlineEditing,r=t.isPopupShowing,o=Boolean(n||r),a=this.props,s=a.node,l=a.selected,c=s.attrs.math,u=Qn()(w("math-view-body"),"math-rendered",{active:o,selected:l});return i.createElement("span",{className:u,"data-active":o,id:this._id},i.createElement(Cv,{className:w("math-view-body-content"),latex:c,mathfieldConfig:e,onChange:this._onMathChange}))},t.prototype._renderInlineEditor=function(){var e=this,t=document.getElementById(this._id);if(t&&"true"===t.getAttribute("data-active")){var n={value:this.props.node.attrs,onSelect:this._onChange,onEditStart:this._onPopupEditStart,onEditEnd:this._onPopupEditEnd};this._inlineEditor?this._inlineEditor.update(n):this._inlineEditor=Cr(Tv,n,{anchor:t,autoDismiss:!1,container:t.closest("."+cd),position:pr,onClose:function(){e._inlineEditor=null}})}else this._inlineEditor&&this._inlineEditor.close()},t}(i.Component),$v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nv(t,e),t.prototype.createDOMElement=function(){var e=document.createElement("span");return e.className=w("math-view"),this._updateDOM(e),e},t.prototype.update=function(t,n){return e.prototype.update.call(this,t,n),this._updateDOM(this.dom),!0},t.prototype.renderReactComponent=function(){return i.createElement(Pv,Dv({},this.props))},t.prototype._updateDOM=function(e){var t=this.props.node.attrs.align,n=w("math-view");t&&(n+=" align-"+t),e.className=n},t}(od),Rv=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Iv=function(){return(Iv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Fv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isEditing:!1},t._inlineEditor=null,t._id=b(),t._mounted=!1,t._onEditStart=function(){t.setState({isEditing:!0})},t._onEditEnd=function(){t.setState({isEditing:!1})},t._onChange=function(e){if(t._mounted){var n=t.props,r=n.getPos,o=n.editorView,i=o.state.tr;e&&(e.delete?o.dispatch(i.deleteSelection()):e.src&&(i=i.setNodeMarkup(r(),null,{src:e.src}),o.dispatch(i)))}},t}return Rv(t,e),t.prototype.componentDidMount=function(){this._mounted=!0,this._renderInlineEditor()},t.prototype.componentWillUnmount=function(){this._mounted=!1},t.prototype.componentDidUpdate=function(e){this._renderInlineEditor()},t.prototype.render=function(){var e=this.props,t=e.node,n=e.selected,r=e.focused,o=t.attrs.src,a=this.state.isEditing,s=(r||a)&&!0,l=Qn()(w("embed-view-body"),{active:s,selected:n});return i.createElement("div",{className:l,"data-active":s?"true":null,"data-embed":o||"",id:this._id},i.createElement("div",{className:"placeholder"},i.createElement("span",{className:"src"},o),i.createElement("span",{className:"pw-icon ondemand_video"},"ondemand_video")))},t.prototype._renderInlineEditor=function(){var e=this,t=document.getElementById(this._id);if(t&&"true"===t.getAttribute("data-active")){var n={src:this.props.node.attrs.src};this._inlineEditor?this._inlineEditor.update(n):this._inlineEditor=Cr(oi,n,{anchor:t,autoDismiss:!1,container:dd(t),position:hr,onClose:function(t){e._onChange(t),e._inlineEditor=null}})}else this._inlineEditor&&this._inlineEditor.close()},t}(i.Component),qv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rv(t,e),t.prototype.createDOMElement=function(){var e=document.createElement("span");return e.className=w("embed-view"),this._updateDOM(e),e},t.prototype.update=function(t,n){return e.prototype.update.call(this,t,n),this._updateDOM(this.dom),!0},t.prototype.renderReactComponent=function(){return i.createElement(Fv,Iv({},this.props))},t.prototype._updateDOM=function(e){var t=this.props.node.attrs.align,n=w("embed-view");t&&(n+=" align-"+t),e.className=n},t}(od);var jv=new Set([8,46,40,37,39,38]);var Bv,Kv=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vv=function(){return(Vv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Uv=Object.freeze(((Bv={}).image=$d,Bv.math=$v,Bv.bookmark=ld,Bv[H]=Rd,Bv.embed=qv,Bv)),Hv=Object.freeze(Bu()),Wv=_.Transaction.prototype.scrollIntoView;_.Transaction.prototype.scrollIntoView=function(e){return!0===e&&Wv?Wv.call(this):this},Xu.setImplementation(Vu.a),q.forEach((function(e){j(e)}));var Xv={drop:function(e,t){var n=t.dataTransfer;if(!n)return!1;var r=n.files;return!(!r||!r.length)&&(!!Mn(e,Array.from(r),{x:t.clientX,y:t.clientY})&&(t.preventDefault(),!0))},keydown:function(e,t){var n=e.state,r=n.selection,o=n.tr,i=r.from;if(i===r.to-1){var a=o.doc.nodeAt(i);if(a.isAtom&&!a.isText&&a.isLeaf)return!jv.has(t.keyCode)}return!1},paste:function(e,t){var n=t.clipboardData;if(!n)return!1;var r=n.files;return!(!r||!r.length)&&(!!Mn(e,Array.from(r))&&(t.preventDefault(),!0))}};function Gv(e){return e?e.schema:Hv.schema}var Jv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._autoFocusTimer=0,t._id=b(),t._editorView=null,t.state={isPrinting:!1},t._onBlur=function(){var e=t.props.onBlur,n=t._editorView;n&&!n.disabled&&!n.readOnly&&e&&e()},t.focus=function(){var e=t._editorView;!e||e.disabled||e.readOnly||e.focus(),t._autoFocusTimer=0},t._isEditable=function(){var e=t.props,n=e.disabled,r=e.readOnly;return!(t.state.isPrinting||!t._editorView||r||n)},t._onPrintStart=function(){t.setState({isPrinting:!0})},t._onPrintEnd=function(){t.setState({isPrinting:!1})},t}return Kv(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.onReady,n=e.editorState,r=e.readOnly,o=e.runtime,i=e.placeholder,a=e.disabled,s=e.dispatchTransaction,l=e.nodeViews,c=e.transformPastedHTML,u=document.getElementById(this._id);if(u){var d=Object.assign({},Uv,l),p={},f=Gv(n),h=f.nodes;Object.keys(d).forEach((function(e){var t,n=d[e];h[e]&&(p[e]=(t=n,function(e,n,r,o){return new t(e,n,r,o)}))}));var m=this._editorView=new Hu(u,{clipboardSerializer:z.DOMSerializer.fromSchema(f),dispatchTransaction:s,editable:this._isEditable,nodeViews:p,state:n||Hv,transformPastedHTML:c,handleDOMEvents:Xv});m.runtime=o,m.placeholder=i,m.readOnly=!!r,m.disabled=!!a,m.updateState(n||Hv),function(e,t){if(Wu.has(e))throw new Error("view ${id} already registered");if(!(t instanceof Hu))throw new Error("invalid view "+e);if(!e)throw new Error("id is required");Wu.set(e,t)}(this._id,m),t&&t(m),this._autoFocusTimer&&clearTimeout(this._autoFocusTimer),this._autoFocusTimer=setTimeout(this.focus,350)}window.addEventListener("beforeprint",this._onPrintStart,!1),window.addEventListener("afterprint",this._onPrintEnd,!1)},t.prototype.componentDidUpdate=function(e){var t=this._editorView;if(t){Gv(e.editorState)!==Gv(this.props.editorState)&&console.error("editor schema changed.");var n=this.props,r=n.runtime,o=n.editorState,i=n.placeholder,a=n.readOnly,s=n.disabled,l=this.state.isPrinting,c=o||Hv;t.runtime=r,t.placeholder=i,t.readOnly=!!a||l,t.disabled=!!s,t.updateState(c),this._autoFocusTimer&&!this.props.autoFocus&&(clearTimeout(this._autoFocusTimer),this._autoFocusTimer=0)}},t.prototype.componentWillUnmount=function(){this._autoFocusTimer&&clearTimeout(this._autoFocusTimer),this._autoFocusTimer=0,this._editorView&&this._editorView.destroy(),this._editorView=null,function(e){if(!Wu.has(e))throw new Error("view ${id} was released");Wu.delete(e)}(this._id),window.removeEventListener("beforeprint",this._onPrintStart,!1),window.removeEventListener("afterprint",this._onPrintEnd,!1)},t.prototype.render=function(){var e,t=this.props,n=t.embedded,r=t.fitToContent,o=t.readOnly,a="";return a=r?Qn()("prosemirror-editor-wrapper",{fitToContent:r,readOnly:o}):Qn()("prosemirror-editor-wrapper",{embedded:n,readOnly:o}),i.createElement("div",Vv({className:a},((e={})[w("prosemirror-editor-id",{format:"data"})]=this._id,e),{id:this._id,onBlur:this._onBlur}))},t.EDITOR_EMPTY_STATE=Hv,t.defaultProps={transformPastedHTML:Iu},t}(i.Component),Zv=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onUIEnter=function(e,n){e.shouldRespondToUIEvent(n)&&t._execute(e,n)},t._execute=function(e,n){var r=t.props,o=r.command,i=r.editorState,a=r.dispatch,s=r.editorView;o.execute(i,a,s,n)},t}return Zv(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.className,r=e.command,o=e.editorState,a=e.editorView,s=e.icon,l=e.title,c=this.props.disabled;return!1==!!c&&(c=!a||!r.isEnabled(o,a)),i.createElement(Nr,{active:r.isActive(o),className:n,disabled:c,icon:s,label:t,onClick:this._onUIEnter,onMouseEnter:this._onUIEnter,title:l,value:r})},t}(i.Component);function Qv(e){if("function"!=typeof e)return!1;var t=e.prototype;return!!t&&!!t.isReactComponent}var eb=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._body=null,t.state={expanded:!1,wrapped:null,cmd_groups:[]},t._renderButtonsGroup=function(e,n){var r=Object.keys(e).map((function(n){var r=e[n];if(Qv(r)){var o=r,a=t.props,s=a.editorState,l=a.editorView,c=a.dispatchTransaction;return i.createElement(o,{dispatch:c,editorState:s,editorView:l,key:n})}return r instanceof C?t._renderButton(n,r):Array.isArray(r)?t._renderMenuButton(n,r):null})).filter(Boolean);return i.createElement("div",{className:w("custom-buttons"),key:"g"+String(n)},r)},t._renderMenuButton=function(e,n){var r=t.props,o=r.editorState,a=r.editorView,s=r.disabled,l=r.dispatchTransaction,c=Ol(e),u=c.icon,d=c.title;return i.createElement(io,{commandGroups:n,disabled:s,dispatch:l,editorState:o,editorView:a,icon:u,key:e,label:u?null:d,title:d})},t._renderButton=function(e,n){var r=t.props,o=r.disabled,a=r.editorState,s=r.editorView,l=r.dispatchTransaction,c=Ol(e),u=c.icon,d=c.title;return i.createElement(Yv,{command:n,disabled:o,dispatch:l,editorState:a,editorView:s,icon:u,key:e,label:u?null:d,title:d})},t._onBodyRef=function(e){var n;e?(t._body=e,(n=s.findDOMNode(e))instanceof HTMLElement&&Od.observe(n,t._checkIfContentIsWrapped)):((n=t._body&&s.findDOMNode(t._body))instanceof HTMLElement&&Od.unobserve(n),t._body=null)},t._checkIfContentIsWrapped=function(){var e=t._body,n=e&&s.findDOMNode(e),r=n&&n.firstChild,o=n&&n.lastChild;if(r&&o){var i=r.offsetTop<o.offsetTop;t.setState({wrapped:i})}},t._toggleExpansion=function(e){t.setState({expanded:!e})},t}return eb(t,e),t.prototype.componentDidUpdate=function(){if(this.props.editorView&&0==this.state.cmd_groups.length){var e=this.props.editorView.runtime.filterCommandGroups;this.setState({cmd_groups:e?e.call(this.props.editorView.runtime,Ll):Ll})}},t.prototype.render=function(){var e=this.state,t=e.wrapped,n=e.expanded,r=e.cmd_groups,o=Qn()(w("editor-toolbar"),{expanded:n,wrapped:t}),a=t?i.createElement(Nr,{active:n,className:w("editor-toolbar-expand-button"),icon:Ml.get("more_horiz"),key:"expand",onClick:this._toggleExpansion,title:"More",value:n}):null;return i.createElement("div",{className:o},i.createElement("div",{className:w("editor-toolbar-flex")},i.createElement("div",{className:w("editor-toolbar-body")},i.createElement("div",{className:w("editor-toolbar-body-content"),ref:this._onBodyRef},i.createElement("i",{className:w("editor-toolbar-wrapped-anchor")}),r.map(this._renderButtonsGroup),i.createElement("div",{className:w("editor-toolbar-background")},i.createElement("div",{className:w("editor-toolbar-background-line")}),i.createElement("div",{className:w("editor-toolbar-background-line")}),i.createElement("div",{className:w("editor-toolbar-background-line")}),i.createElement("div",{className:w("editor-toolbar-background-line")}),i.createElement("div",{className:w("editor-toolbar-background-line")})),i.createElement("i",{className:w("editor-toolbar-wrapped-anchor")})),a),i.createElement("div",{className:w("editor-toolbar-footer")})))},t}(i.Component),nb=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nb(t,e),t.prototype.render=function(){return i.createElement("div",{className:w("frag")},this.props.children)},t}(i.Component),ob=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ib={},ab=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._onBlur=function(e){var t=r.props.runtime;t&&t.onBlur&&t.onBlur(r.state.editorState,e)},r._dispatchTransaction=function(e){var t=r.props,n=t.onChange;if(!0!==t.readOnly){var o=r.state.editorState||Jv.EDITOR_EMPTY_STATE;n?n({state:o,transaction:e}):r.setState({editorState:o.apply(e)})}},r._onReady=function(e){if(e!==r.state.editorView){var t=e;r.setState({editorView:t});var n=r.props.onReady;n&&n(t)}},r._id=b(),r.state={contentHeight:NaN,contentOverflowHidden:!1,editorView:void 0,editorState:t.defaultEditorState||Bu()},r}return ob(t,e),t.prototype.render=function(){var e=this.props,t=e.autoFocus,n=e.children,r=e.className,o=e.disabled,a=e.embedded,s=e.header,l=e.nodeViews,c=e.placeholder,u=e.readOnly,d=e.width,p=void 0===d?"100%":d,f=e.height,h=void 0===f?"100%":f,m=e.fitToContent,g=void 0===m||m,y=this.props.runtime;y=y||ib;var v=this.state,b=v.editorView,w=v.editorState,_=!0==!!u?null:i.createElement(tb,{disabled:o,dispatchTransaction:this._dispatchTransaction,editorState:w,editorView:b,readOnly:u}),k=i.createElement(rb,null,i.createElement(Jv,{autoFocus:t,disabled:o,dispatchTransaction:this._dispatchTransaction,editorState:w,embedded:a,fitToContent:g,id:this._id,nodeViews:l,onReady:this._onReady,placeholder:c,readOnly:u,runtime:y}),n);return i.createElement(pd,{body:k,className:Qn()("perry-white",r),embedded:a,fitToContent:g,header:s,height:h,onBlur:this._onBlur,toolbar:_,width:p})},t}(i.Component);function sb(e){var t=new XMLHttpRequest,n=!1,r=new Promise((function(r,o){if(t.open(e.method,e.url,!0),t.addEventListener("load",(function(){var e,i;if(!n)if(t.status<400)r(t.responseText);else{var a=t.responseText;a&&/html/.test(t.getResponseHeader("content-type"))&&(e=a,(i=document.createElement("div")).innerHTML=e,a=i.textContent.replace(/\n[^]*|\s+$/g,""));var s=new Error("Request failed: "+t.statusText+(a?"\n\n"+a:""));s.status=t.status,o(s)}})),t.addEventListener("error",(function(){n||o(new Error("Network error"))})),e.headers)for(var i in e.headers)t.setRequestHeader(i,e.headers[i]);t.send(e.body||null)}));return r.abort=function(){n||(t.abort(),n=!0)},r}function lb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cb(e){return(cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function db(e,t){return(db=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mb(e);if(t){var o=mb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fb(this,n)}}function fb(e,t){return!t||"object"!==cb(t)&&"function"!=typeof t?hb(e):t}function hb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mb(e){return(mb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&db(e,t)}(n,e);var t=pb(n);function n(){var e;ub(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return gb(hb(e=t.call.apply(t,[this].concat(o))),"isActive",(function(e){return!0})),gb(hb(e),"isEnabled",(function(e){return!0})),gb(hb(e),"execute",(function(){})),e}return n}(M),vb=function(){function e(){ub(this,e)}var t,n,r;return t=e,(n=[{key:"canProxyImageSrc",value:function(){return!0}},{key:"getProxyImageSrc",value:function(e){return e.startsWith("/")?"https://archive.cnx.org".concat(e):e}},{key:"canUploadImage",value:function(){return!0}},{key:"uploadImage",value:function(e){var t;return new Promise((function(n,r){(function(e,t,n){return sb({url:e,method:"POST",body:t,headers:{"Content-Type":n}})})(window.location.protocol+"//"+window.location.hostname+":3004/saveimage?fn="+e.name,e,"application/octet-stream").then((function(e){t=JSON.parse(e),n(t)}),(function(e){n(t={id:"",width:0,height:0,src:""})}))}))}},{key:"filterCommandGroups",value:function(e){return e[e.length-1]["[save] Save"]=new yb,e}}])&&lb(t.prototype,n),r&&lb(t,r),e}();function bb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _b=function(e){var t=e.defaultValue,n=bb(Object(i.useState)(),2),r=n[0],o=n[1],s=Object(i.useMemo)((function(){return new vb})),l=Object(i.useRef)(),c=Object(i.useMemo)((function(){return function(e,t,n){var r=document.createElement("html"),o=Iu(e);return r.innerHTML=o,tu(r,t,n)}(t,null,null)}));return a.a.createElement("div",{style:{height:"100%"}},a.a.createElement(ab,{defaultEditorState:c,fitToContent:!0,runtime:s,height:"100%",onReady:o,width:"100%"}),a.a.createElement("hr",null),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(e){var t,n,o,i=(t=r.state,n=document.createElement("div"),o=z.DOMSerializer.fromSchema(t.schema).serializeFragment(t.doc.content),n.appendChild(o.cloneNode(!0)),n.innerHTML);console.log(i),l.current.innerHTML=i,l.current.querySelectorAll('img[src^="/resour"]').forEach((function(e){return e.src="https://archive.cnx.org".concat(new URL(e.src).pathname)}))}},"Export as HTML"),a.a.createElement("button",{onClick:function(){console.log(qu(r.state))}},"consoe.log state"),a.a.createElement("button",{onClick:function(){return l.current.innerHTML=""}},"Clear")),a.a.createElement("hr",null),a.a.createElement("div",{ref:l}))};function kb(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function xb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kb(i,r,o,a,s,"next",e)}function s(e){kb(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Sb(){return(Sb=xb(o.a.mark((function e(){var t,n,r,a,s,c,u,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=document.createElement("div")).id="pm-plus-r-demo-app",t.style.setProperty("margin","auto"),t.style.setProperty("width","90vw"),t.style.setProperty("height","80vh"),n='<p>\n<span style="font-family: Arial Black">First line Arial black</span><span data-math="1.23 \\times 10^4\\,\\text{km/h}"></span>\n<span data-math="x=\\frac{-b\\pm \\sqrt{b^2-4ac}}{2a}"></span>\n<div class="frame-wrapper embed-responsive embed-responsive-16by9"><iframe width="660" height="371.4" src="https://www.openstaxcollege.org/l/02consernrgz"></iframe></div>\n<p>\n        <ol data-indent="0" style="--czi-counter-name: czi-counter-0;--czi-counter-reset: 0;--czi-list-style-type: decimal" type="decimal"><li><p>List 1</p></li></ol><ol data-indent="1" style="--czi-counter-name: czi-counter-1;--czi-counter-reset: 0;--czi-list-style-type: lower-alpha" type="lower-alpha"><li><p>Child</p></li></ol><ol data-indent="0" data-counter-reset="none" style="--czi-counter-name: czi-counter-0;--czi-counter-reset: 0;--czi-list-style-type: decimal" type="decimal"><li><p>List 2</p></li></ol><p style="text-align: center;">Align</p><p><span style="color: #f20d96;">Font</span> <span style="background-color: #e5e5e5;">Color </span><strong>align </strong><a href="http:www.google.com" rel="noopener noreferrer nofollow" target="blank"><em>Link to google</em></a><em> </em><u>underline </u><em><strong><span style="color: #e5e5e5;"><span style="background-color: #979797;"><u>combined</u></span></span></strong></em></p><h1>Header 1</h1><p><img align="center" alt="" src="https:nathan.stitt.org/images/hippo.png" alt="a hippo portrait" title="a hippo"></p><p></p><table><tr><td><p><strong>Cell 1</strong></p></td><td><p>Cell 2</p></td></tr></table><p></p><p>Subscript <sup>2 </sup>\n\n          <img src="https:s3-us-west-2.amazonaws.com/openstax-assets/Ss2Xg59OLfjbgarp-prodtutor/exercises/attachments/large_aeb10979cb1265ae1f928677f271c8e4f0f6154a26723b80e40ca3db913579d3.png" alt="The x-axis is temperature in Celsius degrees, ranging from 0 to 70 degrees in increments of 10 degrees.  The y-axis is rate of reaction and is not numbered.  The curve begins at 0 degrees, where the rate of the reaction is close to zero.  The curve proceeds upwards with a sharp slope until peaking at about 38 degrees, where an indicator line is labeled “optimal temperature.”  The curve is relatively flat for another ten degrees and then drops precipitously  from 50 to 60 degrees, hitting zero again at about 61 degrees." />\n\nHow many <span data-math="\\text{km/h}"></span> are equal to <span data-math="1.0\\,\\text{m/s}">1.0\\,\\text{m/s}</span>? Hint: Carry out the explicit steps involved in the conversion.\n\nThe speed limit on some interstate highways is roughly <span data-math="100,\\text{km/h}">100\\,\\text{km/h}</span>. How many miles per hour is this if <span data-math="1.0\\,\\text{mile}">1.0\\,\\text{mile}</span> is about <span data-math="1.609,\\text{km}">1.609,\text{km}</span>?\n\n</p>',r=new URLSearchParams(window.location.search),!(a=r.get("pg"))){e.next=25;break}return e.prev=9,s="https://archive.cnx.org/contents/".concat(a,".json"),console.log(s),e.next=14,fetch(s);case 14:return c=e.sent,e.next=17,c.json();case 17:u=e.sent,n=u.content,console.log(n),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),console.warn(e.t0);case 25:d=document,(p=d.body)&&p.appendChild(t),{type:"doc",attrs:{layout:null,padding:null,width:null},content:[{type:"paragraph",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null},content:[{type:"text",marks:[{type:"mark-font-type",attrs:{name:"Arial Black"}}],text:"First line Arial black"}]},{type:"ordered_list",attrs:{id:null,counterReset:null,indent:0,following:null,listStyleType:null,name:null,start:1},content:[{type:"list_item",attrs:{align:null},content:[{type:"paragraph",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null},content:[{type:"text",text:"List 1"}]}]}]},{type:"ordered_list",attrs:{id:null,counterReset:null,indent:1,following:null,listStyleType:null,name:null,start:1},content:[{type:"list_item",attrs:{align:null},content:[{type:"paragraph",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null},content:[{type:"text",text:"Child"}]}]}]},{type:"ordered_list",attrs:{id:null,counterReset:"none",indent:0,following:null,listStyleType:null,name:null,start:1},content:[{type:"list_item",attrs:{align:null},content:[{type:"paragraph",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null},content:[{type:"text",text:"List 2"}]}]}]},{type:"paragraph",attrs:{align:"center",color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null},content:[{type:"text",text:"Align"}]},{type:"paragraph",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null},content:[{type:"text",marks:[{type:"mark-text-color",attrs:{color:"#f20d96"}}],text:"Font"},{type:"text",text:" "},{type:"text",marks:[{type:"mark-text-highlight",attrs:{highlightColor:"#e5e5e5"}}],text:"Color "},{type:"text",marks:[{type:"strong"}],text:"align "},{type:"text",marks:[{type:"link",attrs:{href:"http://www.google.com",rel:"noopener noreferrer nofollow",target:"blank",title:null}},{type:"em"}],text:"Link to google"},{type:"text",marks:[{type:"em"}],text:" "},{type:"text",marks:[{type:"underline"}],text:"underline "},{type:"text",marks:[{type:"em"},{type:"strong"},{type:"mark-text-color",attrs:{color:"#e5e5e5"}},{type:"mark-text-highlight",attrs:{highlightColor:"#979797"}},{type:"underline"}],text:"combined"}]},{type:"heading",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null,level:1},content:[{type:"text",text:"Header 1"}]},{type:"paragraph",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null}},{type:"table",attrs:{marginLeft:null},content:[{type:"table_row",content:[{type:"table_cell",attrs:{colspan:1,rowspan:1,colwidth:null,borderColor:null,background:null},content:[{type:"paragraph",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null},content:[{type:"text",marks:[{type:"strong"}],text:"Cell 1"}]}]},{type:"table_cell",attrs:{colspan:1,rowspan:1,colwidth:null,borderColor:null,background:null},content:[{type:"paragraph",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null},content:[{type:"text",text:"Cell 2"}]}]}]}]},{type:"paragraph",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null}},{type:"paragraph",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null},content:[{type:"text",text:"Subscript "},{type:"text",marks:[{type:"super"}],text:"2 "}]}]},new vb,null,l.a.render(i.createElement(_b,{defaultValue:n}),t);case 31:case"end":return e.stop()}}),e,null,[[9,22]])})))).apply(this,arguments)}window.onload=function(){return Sb.apply(this,arguments)}}]);
//# sourceMappingURL=main.bundle.js.map